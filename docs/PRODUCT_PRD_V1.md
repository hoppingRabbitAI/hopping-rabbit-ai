# Lepus AI Â· äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

> **ç‰ˆæœ¬**: v1.1  
> **æ—¥æœŸ**: 2026-02-11  
> **äº§å“ä¸€å¥è¯**: "çœ‹åˆ°ä»€ä¹ˆæƒ³å˜æˆä»€ä¹ˆï¼Œä¼ å¼ ç…§ç‰‡å°±èƒ½åšåˆ°ã€‚"  
> **è®¾è®¡è¯­è¨€**: Delosï¼ˆè¥¿éƒ¨ä¸–ç•Œæç®€æœªæ¥æ„Ÿï¼‰  
> **è®¾è®¡å‚è€ƒ**: Stability.ai Â· HiggsField Cinema Studio Â· Lovart

---

## ä¸€ã€äº§å“å®šä½

### 1.1 æ ¸å¿ƒé—®é¢˜

ç”¨æˆ·æ¯å¤©åœ¨æŠ–éŸ³/å°çº¢ä¹¦/Pinterestä¸Šçœ‹åˆ°æ— æ•°å¥½çœ‹çš„å›¾ç‰‡å’Œè§†é¢‘â€”â€”æŸä¸ªå‘è‰²ã€æŸå¥—ç©¿æ­ã€æŸä¸ªåœºæ™¯ã€æŸç§å…‰å½±â€”â€”å¥¹çš„ç¬¬ä¸€ååº”æ˜¯**"å¦‚æœæ˜¯æˆ‘ä¼šæ€æ ·"**ã€‚

ä½†ç°å®ä¸­ï¼šæŸ“å‘è¦èŠ±é’±è¯•é”™ï¼Œä¹°è¡£æœä¸ç¡®å®šä¸Šèº«æ•ˆæœï¼Œå»ä¸äº†é‚£äº›åœºæ™¯ï¼Œä¸ä¼šæ‰“å…‰ã€‚

**Lepus è§£å†³çš„é—®é¢˜ï¼šè®©"å¦‚æœæ˜¯æˆ‘ä¼šæ€æ ·"è¿™ä¸ªå¿µå¤´ï¼Œ30ç§’å†…å˜æˆä¸€ä¸ªè§†é¢‘ã€‚**

### 1.2 äº§å“å…¬å¼

```
ç”¨æˆ·çš„ç…§ç‰‡ + ä»»ä½•å‚è€ƒï¼ˆæˆªå›¾/å›¾ç‰‡/Trendæ¨¡æ¿ï¼‰ â†’ AIè‡ªåŠ¨ç†è§£å·®å¼‚ â†’ ç”Ÿæˆå˜èº«è§†é¢‘
```

### 1.3 ç«å“å·®å¼‚

| ç»´åº¦ | HiggsField | CapCutæ¨¡æ¿ | Lepus |
|------|-----------|-----------|---------------|
| **æ ¸å¿ƒ** | ç‰¹æ•ˆAppå•†åŸ | å‰ªè¾‘æ¨¡æ¿ | **å‚è€ƒå›¾é©±åŠ¨çš„AIå˜èº«** |
| **è¾“å…¥** | é€‰æ•ˆæœ + ä¼ ç…§ç‰‡ | é€‰æ¨¡æ¿ + ä¼ ç´ æ | **ä»»æ„å‚è€ƒå›¾ + ä¼ ç…§ç‰‡** |
| **è¾“å‡º** | ç‰¹æ•ˆè§†é¢‘ | å‰ªè¾‘è§†é¢‘ | **ç”µå½±çº§è¿‡æ¸¡çš„å˜èº«è§†é¢‘** |
| **å…³äº"æˆ‘"** | å¼±ï¼ˆæ•ˆæœä¸ºä¸»ï¼‰ | æ— ï¼ˆå‰ªè¾‘ä¸ºä¸»ï¼‰ | **å¼ºï¼ˆæ¯ä¸ªè¾“å‡ºéƒ½æ˜¯"æˆ‘"çš„å˜èº«ï¼‰** |
| **åˆ›ä½œæ·±åº¦** | æ— ï¼ˆé»‘ç›’Appï¼‰ | æœ‰é™ï¼ˆæ¨¡æ¿å‚æ•°ï¼‰ | **ç”»å¸ƒè‡ªç”±ç¼–æ’èƒ½åŠ›èŠ‚ç‚¹** |
| **ç•™å­˜** | æ–°æ•ˆæœé©±åŠ¨ | æ–°æ¨¡æ¿é©±åŠ¨ | **ç”¨æˆ·è‡ªå·±çš„å‚è€ƒå›¾ï¼ˆæ— é™ï¼‰+ ç”»å¸ƒåˆ›ä½œ** |

---

## äºŒã€ç”¨æˆ·æ—…ç¨‹

### 2.1 è·å®¢è·¯å¾„

```
ä½ åœ¨æŠ–éŸ³/å°çº¢ä¹¦å‘å¸ƒ Trend AI è§†é¢‘ï¼ˆæ¢è£…/å˜å‘/ç©¿è¶Š/ç‰¹æ•ˆï¼‰
         â”‚
         â–¼
ç”¨æˆ·çœ‹åˆ° â†’ "æ€ä¹ˆåšçš„ï¼Ÿï¼Ÿ"
         â”‚
         â–¼
è¯„è®ºåŒº/ç®€ä»‹ â†’ "åŒæ¬¾æ¨¡æ¿åœ¨ Lepus"
         â”‚
         â–¼
ç”¨æˆ·è¿›å…¥å¹³å°
```

### 2.2 é¦–æ¬¡ä½“éªŒï¼ˆTrend æ¨¡æ¿ Â· 60ç§’å†…å®Œæˆï¼‰

```
ç”¨æˆ·è¿›å…¥ã€Œå‘ç°ã€Tab
         â”‚
         â–¼
çœ‹åˆ°ä½ å‘çš„é‚£ä¸ª Trend æ¨¡æ¿ â†’ ç‚¹å‡» [ç”¨æˆ‘çš„è„¸]
         â”‚
         â–¼
ä¸Šä¼ /æ‹ä¸€å¼ è‡ªå·±çš„ç…§ç‰‡
         â”‚
         â–¼
30ç§’ç”Ÿæˆ â†’ å¾—åˆ°åŒæ¬¾å˜èº«è§†é¢‘
         â”‚
         â–¼
ä¸€é”®åˆ†äº«åˆ°æŠ–éŸ³/å°çº¢ä¹¦ â†’ å¥¹çš„æœ‹å‹ä¹Ÿçœ‹åˆ°äº† â†’ äºŒæ¬¡è·å®¢
```

### 2.3 ç•™å­˜è·¯å¾„ï¼ˆå‚è€ƒå›¾é©±åŠ¨ Â· æ— é™å¯èƒ½ï¼‰

```
ç”¨æˆ·ç¬¬2æ¬¡+å›æ¥ï¼Œä¸å†ä¾èµ–æ¨¡æ¿
         â”‚
         â–¼
å¥¹åœ¨å°çº¢ä¹¦çœ‹åˆ°ä¸€å¼ å¥½çœ‹çš„å›¾ â†’ æˆªå›¾
         â”‚
         â–¼
æ‰“å¼€ Lepus â†’ ã€Œç”»å¸ƒã€Tab
         â”‚
         â–¼
æ”¾ä¸Šè‡ªå·±çš„ç…§ç‰‡ + æ”¾ä¸Šå‚è€ƒå›¾
         â”‚
         â–¼
AI åˆ†æå·®å¼‚ â†’ è‡ªåŠ¨ç”Ÿæˆèƒ½åŠ›é“¾è·¯
         â”‚
         â–¼
[æˆ‘] â†’ [ğŸ’‡ æ¢å‘è‰²Â·å†·æ£•] â†’ [ğŸ‘— åŠ å¤–å¥—] â†’ [ğŸ™ï¸ æ¢åœºæ™¯Â·è¡—æ‹] â†’ [ç»“æœ]
         â”‚
         â–¼
ç”¨æˆ·å¯ä»¥ä¸æ”¹ï¼ˆç›´æ¥ç”Ÿæˆï¼‰æˆ–æ”¹ä»»ä½•ä¸€æ­¥
         â”‚
         â–¼
å¯¼å‡º â†’ åˆ†äº«
```

### 2.4 æ·±åº¦åˆ›ä½œï¼ˆç”»å¸ƒè‡ªç”±ç¼–æ’ï¼‰

```
ç”¨æˆ·å·²ç†Ÿæ‚‰å¹³å°èƒ½åŠ›
         â”‚
         â–¼
åœ¨ç”»å¸ƒä¸Šè‡ªç”±ç»„åˆï¼š
Â· åŒä¸€å¼ ç…§ç‰‡åˆ†å‰å‡ºå¤šæ¡è·¯çº¿å¯¹æ¯”
Â· æ‰‹åŠ¨æ·»åŠ /åˆ é™¤/æ›¿æ¢èƒ½åŠ›èŠ‚ç‚¹
Â· è°ƒæ•´æ¯æ­¥çš„å‚æ•°
Â· å°†æ»¡æ„çš„è·¯çº¿å‘å¸ƒä¸ºæ¨¡æ¿ â†’ å…¶ä»–ç”¨æˆ·å¯ç”¨
```

---

## ä¸‰ã€äº§å“ç»“æ„

### 3.0 è®¾è®¡è¯­è¨€ â€” "Delos"

> è§†è§‰å‚è€ƒï¼šHBOã€Šè¥¿éƒ¨ä¸–ç•Œã€‹Delos æ€»éƒ¨å¤§æ¥¼ â€” æç®€ã€æœªæ¥ã€å†·é™ã€ç²¾å¯†ã€‚  
> äº¤äº’å‚è€ƒï¼šStability.aiï¼ˆä¼ä¸šçº§è´¨æ„Ÿï¼‰ã€HiggsField Cinema Studioï¼ˆæ­¥éª¤å¼ä¸“ä¸šå·¥ä½œæµï¼‰ã€Lovartï¼ˆç”»å¸ƒåˆ›ä½œè‡ªç”±åº¦ï¼‰

#### æ ¸å¿ƒç¾å­¦åŸåˆ™

| åŸåˆ™ | è¯´æ˜ | åé¢ |
|------|------|------|
| **Voidï¼ˆè™šç©ºï¼‰** | å¤§é‡æ·±è‰²è´Ÿç©ºé—´ï¼Œå†…å®¹æ¼‚æµ®å…¶ä¸­ | ä¸è¦æ‹¥æŒ¤ã€ä¸è¦èŠ±å“¨èƒŒæ™¯ |
| **Glassï¼ˆç»ç’ƒï¼‰** | æ¯›ç»ç’ƒé¢æ¿ï¼ˆbackdrop-blur + åŠé€æ˜ï¼‰ï¼Œå±‚æ¬¡é€šè¿‡é€æ˜åº¦åŒºåˆ† | ä¸è¦å®è‰²è‰²å—ã€ä¸è¦çº¸è´¨éšå–» |
| **Luminousï¼ˆå‘å…‰ï¼‰** | æç»†çš„å…‰çº¿ä½œä¸ºè§†è§‰å¼•å¯¼â€”â€”è¾¹æ¡†çº¿å‘å…‰ã€accent å‘å…‰ | ä¸è¦å¤§é¢ç§¯é«˜äº®ã€ä¸è¦æ¸å˜è‰² |
| **Deliberateï¼ˆå…‹åˆ¶ï¼‰** | åŠ¨ç”»æ…¢è€Œè‡ªä¿¡ï¼ˆ600-1000msï¼‰ï¼Œäº¤äº’åé¦ˆç²¾ç¡® | ä¸è¦å¼¹è·³ã€ä¸è¦Qå¼¹ã€ä¸è¦è¿‡åº¦åŠ¨æ•ˆ |
| **Monochrome + Accent** | æ•´ä½“ç°é»‘è‰²é˜¶ï¼Œå”¯ä¸€çš„é¢œè‰²ç•™ç»™å“ç‰Œ accentï¼ˆå†·è“ï¼‰ | ä¸è¦å¤šè‰²æ ‡ç­¾ã€ä¸è¦å½©è™¹ |

#### è‰²å½©ç³»ç»Ÿ

```
Void å±‚çº§ï¼ˆèƒŒæ™¯ â†’ å‰æ™¯ï¼‰ï¼š
void-deep     #050508     ææ·±èƒŒæ™¯ï¼ˆé¡µé¢åº•å±‚ï¼‰
void-base     #0A0A0F     ä¸»å·¥ä½œåŒºèƒŒæ™¯
void-surface  #111118     å¡ç‰‡/é¢æ¿åº•è‰²
void-elevated #1A1A24     æ‚¬æµ®å±‚/å¼¹çª—
void-hover    #222230     Hover çŠ¶æ€

Glass å±‚çº§ï¼ˆæ¯›ç»ç’ƒé¢æ¿ï¼‰ï¼š
glass-subtle  rgba(255,255,255, 0.03)    ææ·¡
glass-light   rgba(255,255,255, 0.05)    å¸¸è§„é¢æ¿
glass-medium  rgba(255,255,255, 0.08)    å¼ºè°ƒé¢æ¿
glass-heavy   rgba(255,255,255, 0.12)    å¼¹çª—/Modal

è¾¹æ¡†/åˆ†éš”ï¼š
border-dim    rgba(255,255,255, 0.06)    é™æ€è¾¹æ¡†
border-glow   rgba(255,255,255, 0.12)    Hover è¾¹æ¡†
border-accent rgba(99,102,241, 0.40)     é€‰ä¸­/ç„¦ç‚¹è¾¹æ¡†

æ–‡å­—ï¼š
text-primary   rgba(255,255,255, 0.92)   ä¸»æ–‡å­—
text-secondary rgba(255,255,255, 0.55)   è¾…åŠ©æ–‡å­—
text-tertiary  rgba(255,255,255, 0.30)   å ä½/ç¦ç”¨
text-accent    #818CF8                    Accent æ–‡å­—ï¼ˆIndigo-400ï¼‰

Accentï¼ˆå”¯ä¸€çš„é¢œè‰²ï¼‰ï¼š
accent-core    #6366F1    Indigo-500ï¼ˆå“ç‰Œè‰²ï¼‰
accent-glow    rgba(99,102,241, 0.20)    å‘å…‰æ•ˆæœ
accent-dim     rgba(99,102,241, 0.08)    èƒŒæ™¯æ€

è¯­ä¹‰è‰²ï¼ˆæå°‘ä½¿ç”¨ï¼Œåªåœ¨çŠ¶æ€æŒ‡ç¤ºï¼‰ï¼š
success        #22C55E40  åŠé€æ˜ç»¿
error          #EF444440  åŠé€æ˜çº¢  
warning        #F9731640  åŠé€æ˜æ©™
```

#### å­—ä½“ç³»ç»Ÿ

```
ä¸»å­—ä½“ï¼š     Interï¼ˆ400/500/600ï¼‰
æ•°æ®/ç­‰å®½ï¼š   JetBrains Mono
è£…é¥°/æ ‡ç­¾ï¼š   Inter, weight 300, letter-spacing 0.15em, uppercase

æ ‡é¢˜å±‚çº§ï¼š
H1  â€”  28px / 600 / tracking -0.02em    ï¼ˆé¡µé¢æ ‡é¢˜ï¼Œæå°‘ä½¿ç”¨ï¼‰
H2  â€”  20px / 500 / tracking -0.01em    ï¼ˆåŒºå—æ ‡é¢˜ï¼‰
H3  â€”  14px / 500 / tracking  0         ï¼ˆå¡ç‰‡æ ‡é¢˜ï¼‰
Body â€” 13px / 400 / tracking  0         ï¼ˆæ­£æ–‡ï¼‰
Cap  â€” 10px / 500 / tracking  0.12em / uppercase  ï¼ˆåˆ†ç±»æ ‡ç­¾ã€è£…é¥°æ–‡å­—ï¼‰
Mono â€” 11px / JetBrains Mono / 400       ï¼ˆæ•°æ®ã€å‚æ•°å€¼ï¼‰
```

#### åŠ¨ç”»è¯­è¨€

```
è¿›å…¥ï¼š   opacity 0â†’1 + translateY(8â†’0)    duration 600ms   ease [0.16,1,0.3,1]
é€€å‡ºï¼š   opacity 1â†’0                       duration 300ms   ease ease-out
æ‚¬æµ®ï¼š   scale 1â†’1.02 + border å‘å…‰         duration 400ms   ease ease-out  
é¢æ¿å±•å¼€ï¼šheight 0â†’auto + opacity            duration 500ms   ease [0.16,1,0.3,1]
èŠ‚ç‚¹è¿çº¿ï¼šSVG path draw                     duration 800ms   ease [0.4,0,0.2,1]
Loadingï¼šè„‰å†²å‘¼å¸å…‰æ™•ï¼ˆaccent-glowï¼‰         duration 2000ms  ease sine
```

#### ç»„ä»¶è§„èŒƒ

```
åœ†è§’ï¼š    
  å°ç»„ä»¶ï¼ˆæŒ‰é’®ã€Badgeï¼‰  â†’ 8px
  å¡ç‰‡/é¢æ¿              â†’ 16px
  Modal/å¤§é¢æ¿           â†’ 20px
  è¾“å…¥æ¡†                 â†’ 12px

é—´è·ï¼š8px ç½‘æ ¼ï¼ˆ8/12/16/20/24/32/40/48ï¼‰

é˜´å½±ï¼šä¸ç”¨ä¼ ç»Ÿ box-shadowï¼Œç”¨ border-glow + backdrop-blur ä»£æ›¿

æŒ‰é’®é£æ ¼ï¼š
  Primary  â€” bg accent-core, text white, hover glow æ‰©æ•£
  Ghost    â€” bg transparent, border border-dim, hover border-glow + glass-light
  Danger   â€” bg transparent, border error, text error
  
è¾“å…¥æ¡†ï¼š
  bg glass-subtle, border border-dim, focus:border-accent + accent-glow å¤–å‘å…‰
  placeholder: text-tertiary
```

#### å‚è€ƒäº¤äº’ Patternï¼ˆæ¥è‡ªç«å“åˆ†æï¼‰

| æ¥æº | Pattern | æˆ‘ä»¬çš„åº”ç”¨ |
|------|---------|----------|
| **HiggsField Cinema Studio** | 8æ­¥çº¿æ€§å·¥ä½œæµï¼ˆScript â†’ Reference â†’ Rig â†’ Preview â†’ Select â†’ Bridge â†’ Direct â†’ Generateï¼‰ | ç”»å¸ƒé“¾è·¯çš„æ­¥éª¤è§†è§‰åŒ–â€”â€”æ¯ä¸€æ­¥éƒ½æœ‰æ¸…æ™°çš„çŠ¶æ€å’Œé¢„è§ˆ |
| **HiggsField Cinema Studio** | Hybrid Workflowï¼ˆPhoto â†” Video ä¸€é”®åˆ‡æ¢ï¼‰ | èƒ½åŠ›é“¾è·¯ä¸­ å›¾â†’å›¾æ­¥éª¤ å’Œ å›¾â†’è§†é¢‘æ­¥éª¤ çš„åˆ‡æ¢ |
| **HiggsField Apps** | ä¸€é”®å¼ App å¡ç‰‡ï¼ˆStyle Snap / Plushies / Anglesï¼‰ | å‘ç°Tabçš„æ¨¡æ¿å¡ç‰‡â€”â€”æ¯ä¸ªæ¨¡æ¿å°±æ˜¯ä¸€ä¸ª"App" |
| **HiggsField** | Character Lockï¼ˆReference Anchor é”å®šé¢éƒ¨ï¼‰ | æˆ‘ä»¬çš„"ç”¨æˆ‘çš„è„¸"â€”â€”é”å®šç”¨æˆ·é¢éƒ¨ç‰¹å¾è·¨æ­¥éª¤ä¸€è‡´ |
| **Stability.ai** | Dream Studio é¢æ¿å¼æ“ä½œï¼ˆå·¦å‚æ•°ã€ä¸­é¢„è§ˆã€å³æ§åˆ¶ï¼‰ | ç”»å¸ƒçš„ä¸‰æ å¸ƒå±€å‚è€ƒ |
| **Stability.ai** | Enterpriseè´¨æ„Ÿï¼ˆå¤§ç•™ç™½ã€å…‹åˆ¶é…è‰²ã€ä¸“ä¸štypographyï¼‰ | æ•´ä½“ Void + Glass ç¾å­¦ |
| **Lovart** | ç”»å¸ƒè‡ªç”±æ‹–æ‹½ + è¿çº¿ + èŠ‚ç‚¹å‚æ•° | æˆ‘ä»¬çš„ React Flow ç”»å¸ƒäº¤äº’ |

### 3.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚                     H O P P I N G R A B B I T                   â”‚
â”‚                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€ Void Background â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚                                                        â”‚   â”‚
â”‚    â”‚   â”Œâ”€ Glass Panel â”€â”€â”€â”€â”€â”    â”Œâ”€ Glass Panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚    â”‚   â”‚                   â”‚    â”‚                         â”‚ â”‚   â”‚
â”‚    â”‚   â”‚   âœ¦ DISCOVER      â”‚    â”‚   âœ¦ CANVAS              â”‚ â”‚   â”‚
â”‚    â”‚   â”‚   å‘ç° Â· è·å®¢      â”‚â†â”€â”€â†’â”‚   ç”»å¸ƒ Â· ç•™å­˜           â”‚ â”‚   â”‚
â”‚    â”‚   â”‚                   â”‚æ¨¡æ¿â”‚                         â”‚ â”‚   â”‚
â”‚    â”‚   â”‚   Trend Feed      â”‚åŒå‘â”‚   è‡ªç”±ç¼–æ’              â”‚ â”‚   â”‚
â”‚    â”‚   â”‚   30ç§’å‡ºç‰‡        â”‚æµé€šâ”‚   å‚è€ƒå›¾é©±åŠ¨            â”‚ â”‚   â”‚
â”‚    â”‚   â”‚                   â”‚    â”‚                         â”‚ â”‚   â”‚
â”‚    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚    â”‚                                                        â”‚   â”‚
â”‚    â”‚   æ ¸å¿ƒï¼šç…§ç‰‡ + å‚è€ƒå›¾ â†’ Intent Router â†’ èƒ½åŠ›é“¾è·¯        â”‚   â”‚
â”‚    â”‚                                                        â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å‘ç° Tabï¼ˆTrend Feedï¼‰

**å®šä½**ï¼šè·å®¢å…¥å£ + çµæ„Ÿæµè§ˆã€‚
**è®¾è®¡å‚è€ƒ**ï¼šHiggsField Apps é¡µé¢ï¼ˆä¸€é”®å¼Appå¡ç‰‡ï¼‰ + Stability.ai å¤§ç•™ç™½é£æ ¼ã€‚

**è§†è§‰é£æ ¼**ï¼š
- å…¨å± `void-deep` èƒŒæ™¯
- é¡¶éƒ¨ä»…ä¿ç•™ Logo + æç®€ Tab åˆ‡æ¢ï¼ˆDISCOVER / CANVASï¼‰+ ç”¨æˆ·å¤´åƒ
- æ¨¡æ¿å¡ç‰‡ä½¿ç”¨ `glass-light` æ¯›ç»ç’ƒæ•ˆæœï¼Œhover æ—¶ `border-glow` + `scale 1.02`
- åˆ†ç±»æ ‡ç­¾ä½¿ç”¨ `Cap` å­—ä½“ï¼ˆ10px uppercase tracking 0.12emï¼‰
- è§†é¢‘é¢„è§ˆè‡ªåŠ¨æ’­æ”¾ï¼ˆé™éŸ³ï¼‰ï¼Œhover æ—¶æ˜¾ç¤ºæ“ä½œæŒ‰é’®

**é¡µé¢ç»“æ„**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  void-deep bg                                                   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ TopBar (glass-subtle + blur) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  â—‡ LEPUS        DISCOVER  CANVAS          [â—] å¤´åƒ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  TRENDING NOW                                      10px Capå­—ä½“ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ glass card â”€â”€â”€â”  â”Œâ”€ glass card â”€â”€â”€â”  â”Œâ”€ glass card â”€â”€â”€â”  â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚
â”‚  â”‚  â–¶ è§†é¢‘è‡ªåŠ¨æ’­æ”¾  â”‚  â”‚  â–¶ è§†é¢‘è‡ªåŠ¨æ’­æ”¾  â”‚  â”‚  â–¶ è§†é¢‘è‡ªåŠ¨æ’­æ”¾  â”‚  â”‚
â”‚  â”‚  (16:9 åœ†è§’16px)â”‚  â”‚  (æš—è§’ vignette) â”‚  â”‚                 â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚
â”‚  â”‚â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â”‚  â”‚â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â”‚  â”‚â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€â”‚  â”‚
â”‚  â”‚ ç”©å‘å˜è‰²         â”‚  â”‚ è½¬åœˆæ¢è£…         â”‚  â”‚ æ¨é—¨ç©¿è¶Š         â”‚  â”‚
â”‚  â”‚ 5.2w Â· HAIR     â”‚  â”‚ 3.8w Â· OUTFIT   â”‚  â”‚ 1.2w Â· SCENE   â”‚  â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚
â”‚  â”‚ [ âœ¦ ç”¨æˆ‘çš„è„¸ ]  â”‚  â”‚ [ âœ¦ ç”¨æˆ‘çš„è„¸ ]  â”‚  â”‚ [ âœ¦ ç”¨æˆ‘çš„è„¸ ]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â”€â”€ ç»†çº¿åˆ†éš” (border-dim) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                 â”‚
â”‚  HAIR COLOR                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”  ...  â†’                 â”‚
â”‚                                                                 â”‚
â”‚  OUTFIT SWAP                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”  ...  â†’                         â”‚
â”‚                                                                 â”‚
â”‚  USER CREATIONS                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”  ...                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ¨¡æ¿å¡ç‰‡äº¤äº’ï¼ˆå‚è€ƒ HiggsField App Cardï¼‰**ï¼š

```
â”Œâ”€ TemplateCard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  glass-light bg + border-dim       â”‚
â”‚  rounded-16px                      â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                              â”‚  â”‚
â”‚  â”‚    è§†é¢‘é¢„è§ˆï¼ˆè‡ªåŠ¨å¾ªç¯æ’­æ”¾ï¼‰     â”‚  â”‚  â† é™éŸ³è‡ªåŠ¨æ’­æ”¾ï¼Œhoveræ˜¾ç¤ºéŸ³é‡
â”‚  â”‚    åœ†è§’é¡¶éƒ¨                   â”‚  â”‚
â”‚  â”‚                              â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â† hover æ—¶ä»åº•éƒ¨æ»‘å…¥
â”‚  â”‚   â”‚ [ âœ¦ ç”¨æˆ‘çš„è„¸ ]       â”‚   â”‚  â”‚     accent-core bg
â”‚  â”‚   â”‚ [ â—‡ åœ¨ç”»å¸ƒä¸­æ‰“å¼€ ]    â”‚   â”‚  â”‚     ghost æŒ‰é’®
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚
â”‚  æ¨¡æ¿åç§°              14px / 500  â”‚
â”‚  52,000 uses Â· HAIR   Cap å­—ä½“     â”‚  â† æ•°æ®ç”¨ JetBrains Mono
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Hover æ€ï¼š
  border â†’ border-glow
  transform â†’ scale(1.02)
  transition â†’ 400ms ease-out
  åº•éƒ¨æ“ä½œæ æ»‘å…¥
```

**æ¨¡æ¿æ•°æ®ç»“æ„**ï¼š

```typescript
interface TrendTemplate {
  id: string;
  name: string;
  category: 'hair' | 'outfit' | 'scene' | 'lighting' | 'style' | 'action' | 'mixed';
  
  // å±•ç¤º
  preview_video_url: string;     // ç¤ºèŒƒè§†é¢‘ï¼ˆç”¨ä½ çš„æ•°å­—äººæ‹çš„ï¼‰
  thumbnail_url: string;
  usage_count: number;
  
  // èƒ½åŠ›é“¾è·¯ï¼ˆæ ¸å¿ƒ â€” æ¨¡æ¿æœ¬è´¨æ˜¯é¢„è®¾çš„èŠ‚ç‚¹å›¾ï¼‰
  route: RouteStep[];
  
  // è¿‡æ¸¡é…ç½®ï¼ˆGolden Presetï¼‰
  golden_preset?: 'spin_occlusion_outfit' | 'whip_pan_outfit' | 'space_warp_outfit';
  
  // ç”Ÿæˆå‚æ•°
  output_duration: number;       // è¾“å‡ºè§†é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰
  output_aspect_ratio: '16:9' | '9:16';
  
  // å…ƒæ•°æ®
  author_type: 'official' | 'ugc';  // å®˜æ–¹ or ç”¨æˆ·åˆ›å»º
  author_id?: string;
  created_at: string;
  tags: string[];
}

interface RouteStep {
  capability: CapabilityType;
  params: Record<string, any>;
  prompt_template: string;        // å¸¦ {placeholder} çš„promptæ¨¡æ¿
}
```

**æ¨¡æ¿ä½¿ç”¨æµç¨‹**ï¼š

1. ç”¨æˆ·ç‚¹å‡» [ç”¨æˆ‘çš„è„¸â†’]
2. ä¸Šä¼ /æ‹ç…§ä¸€å¼ è‡ªå·±çš„ç…§ç‰‡
3. å¯é€‰å¾®è°ƒï¼ˆå¦‚é€‰æ‹©å…·ä½“å‘è‰²ã€é€‰æ‹©outfitå‚è€ƒå›¾ï¼‰
4. ç¡®è®¤ â†’ ç”Ÿæˆï¼ˆ30-60ç§’ï¼‰
5. é¢„è§ˆç»“æœ â†’ ä¿å­˜/åˆ†äº«/åœ¨ç”»å¸ƒä¸­æ‰“å¼€

**æ¨¡æ¿è¿›å…¥ç”»å¸ƒ**ï¼š

- æ¯ä¸ªæ¨¡æ¿å¡ç‰‡æœ‰ [åœ¨ç”»å¸ƒä¸­æ‰“å¼€] æŒ‰é’®
- ç‚¹å‡»åï¼Œæ¨¡æ¿çš„ `route` è¢«å±•å¼€ä¸ºç”»å¸ƒä¸Šçš„èŠ‚ç‚¹å›¾
- ç”¨æˆ·å¯ä»¥ä¿®æ”¹ä»»ä½•æ­¥éª¤ â†’ å˜æˆè‡ªå·±çš„åˆ›ä½œ

### 3.3 ç”»å¸ƒ Tabï¼ˆCanvas Â· æ ¸å¿ƒï¼‰

**å®šä½**ï¼šè‡ªç”±åˆ›ä½œç©ºé—´ï¼Œå‚è€ƒå›¾é©±åŠ¨ + èƒ½åŠ›ç§¯æœ¨ç¼–æ’ã€‚åŸºäºç°æœ‰ React Flow ç”»å¸ƒã€‚  
**è®¾è®¡å‚è€ƒ**ï¼šHiggsField Cinema Studio çš„æ­¥éª¤å¼å·¥ä½œæµ + Lovart çš„ç”»å¸ƒè‡ªç”±åº¦ + Stability Dream Studio çš„é¢æ¿å¼å¸ƒå±€ã€‚

#### 3.3.1 æ ¸å¿ƒäº¤äº’ï¼šæˆ‘ + å‚è€ƒ â†’ èƒ½åŠ›é“¾è·¯

**ç”»å¸ƒæ•´ä½“å¸ƒå±€ï¼ˆä¸‰åŒºåŸŸï¼‰**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  void-deep bg                                                   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ TopBar (glass-subtle + backdrop-blur) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  â—‡ LEPUS    DISCOVER  CANVAS    [å¯¼å‡º] [å‘å¸ƒ] [â—]  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ Left â”€â”€â”  â”Œâ”€ Center (React Flow Canvas) â”€â”€â”  â”Œâ”€ Right â”€â”€â”â”‚
â”‚  â”‚ Intent   â”‚  â”‚                                â”‚  â”‚ Param    â”‚â”‚
â”‚  â”‚ Panel    â”‚  â”‚  void-base bg                  â”‚  â”‚ Editor   â”‚â”‚
â”‚  â”‚          â”‚  â”‚  èƒŒæ™¯å¾®å¼±ç½‘æ ¼ (grid 0.03 opacity)â”‚  â”‚          â”‚â”‚
â”‚  â”‚ glass    â”‚  â”‚                                â”‚  â”‚ glass    â”‚â”‚
â”‚  â”‚ -medium  â”‚  â”‚  èŠ‚ç‚¹æ¼‚æµ®åœ¨ void ä¸­             â”‚  â”‚ -medium  â”‚â”‚
â”‚  â”‚ 260px    â”‚  â”‚                                â”‚  â”‚ 300px    â”‚â”‚
â”‚  â”‚          â”‚  â”‚                                â”‚  â”‚          â”‚â”‚
â”‚  â”‚ Â·æˆ‘çš„ç…§ç‰‡ â”‚  â”‚                                â”‚  â”‚ (é€‰ä¸­èŠ‚ç‚¹ â”‚â”‚
â”‚  â”‚ Â·å‚è€ƒå›¾   â”‚  â”‚                                â”‚  â”‚  æ—¶å±•å¼€)  â”‚â”‚
â”‚  â”‚ Â·æ–‡å­—æè¿° â”‚  â”‚                                â”‚  â”‚          â”‚â”‚
â”‚  â”‚ Â·èƒ½åŠ›åˆ—è¡¨ â”‚  â”‚                                â”‚  â”‚          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ Bottom Bar (glass-subtle) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  [â–¶ GENERATE]  Â·  é¢„è®¡ 6 Credits  Â·  çº¦ 45s  Â·  é“¾è·¯æ¦‚è§ˆ    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è¿›å…¥ç”»å¸ƒåçš„é¦–å±ï¼ˆEmpty Stateï¼‰**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        void-base bg                             â”‚
â”‚                                                                 â”‚
â”‚              Â·  Â·  Â·  Â·  Â·  Â·  Â·  Â·  Â·  Â·  Â·                  â”‚
â”‚              Â·              å¾®å¼±ç½‘æ ¼            Â·                â”‚
â”‚              Â·  Â·  Â·  Â·  Â·  Â·  Â·  Â·  Â·  Â·  Â·                  â”‚
â”‚                                                                 â”‚
â”‚                                                                 â”‚
â”‚           â”Œâ”€ glass-heavy é¢æ¿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚           â”‚                                     â”‚               â”‚
â”‚           â”‚      â—‡                              â”‚               â”‚
â”‚           â”‚                                     â”‚               â”‚
â”‚           â”‚    Drop your photos here            â”‚               â”‚
â”‚           â”‚    å°†ä½ çš„ç…§ç‰‡å’Œå‚è€ƒå›¾æ‹–åˆ°è¿™é‡Œ          â”‚               â”‚
â”‚           â”‚                                     â”‚               â”‚
â”‚           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚               â”‚
â”‚           â”‚  â”‚ â—‹        â”‚    â”‚ â—‹        â”‚        â”‚               â”‚
â”‚           â”‚  â”‚ æˆ‘çš„ç…§ç‰‡  â”‚ â†’  â”‚ å‚è€ƒ     â”‚        â”‚               â”‚
â”‚           â”‚  â”‚          â”‚    â”‚          â”‚        â”‚               â”‚
â”‚           â”‚  â”‚ glass    â”‚    â”‚ glass    â”‚        â”‚               â”‚
â”‚           â”‚  â”‚ è™šçº¿è¾¹æ¡†  â”‚    â”‚ è™šçº¿è¾¹æ¡†  â”‚        â”‚               â”‚
â”‚           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚               â”‚
â”‚           â”‚                                     â”‚               â”‚
â”‚           â”‚  æˆ–ç²˜è´´æˆªå›¾ Â· æˆ–è¾“å…¥æ–‡å­—æè¿°           â”‚               â”‚
â”‚           â”‚                                     â”‚               â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ‹–å…¥åŒºè§†è§‰ï¼š
  border: 2px dashed border-dim â†’ hover: border-accent å‘å…‰  
  interior: glass-subtle
  icon: æç»†çº¿æ¡çš„åœ†å½¢å ä½ç¬¦
  transition: è™šçº¿è¾¹æ¡†å˜å®çº¿ï¼Œ600ms
```

**å½“ä¸¤å¼ å›¾éƒ½æ”¾å¥½å â€” AIåˆ†æ + é“¾è·¯ç”Ÿæˆ**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  void-base bg + å¾®å¼±ç½‘æ ¼                                        â”‚
â”‚                                                                 â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ Source â”€â”                                    â”Œâ”€ Ref â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â—‰ ME     â”‚                                    â”‚ â— REF    â”‚ â”‚
â”‚  â”‚          â”‚                                    â”‚          â”‚ â”‚
â”‚  â”‚ [ç…§ç‰‡]   â”‚         â”Œâ”€ åˆ†ææµ®å±‚ â”€â”€â”€â”€â”€â”€â”        â”‚ [å‚è€ƒå›¾] â”‚ â”‚
â”‚  â”‚          â”‚         â”‚                 â”‚        â”‚          â”‚ â”‚
â”‚  â”‚ glass    â”‚         â”‚  â—‡ Analyzing... â”‚        â”‚ glass    â”‚ â”‚
â”‚  â”‚ border   â”‚         â”‚                 â”‚        â”‚ border   â”‚ â”‚
â”‚  â”‚ -accent  â”‚         â”‚  è„‰å†²å‘¼å¸å…‰æ™•    â”‚        â”‚ -accent  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  accent-glow    â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                       â”‚                 â”‚                     â”‚
â”‚                       â”‚  å‘è‰² Â· ç©¿æ­ Â·   â”‚                     â”‚
â”‚                       â”‚  å…‰çº¿            â”‚                     â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                 â”‚
â”‚                       â†“ (600ms åé€ä¸ªå‡ºç°)                      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ ME â”€â”€â”€â”  â”€â—â”€  â”Œâ”€ HAIR â”€â”€â”  â”€â—â”€  â”Œâ”€ OUTFIT â”€â”  â”€â—â”€  â”Œâ”€â”€â”â”‚
â”‚  â”‚ â—‰      â”‚  çº¿   â”‚ â—‡ æ¢å‘è‰² â”‚  çº¿   â”‚ â—‡ æ¢ç©¿æ­  â”‚  çº¿   â”‚â— â”‚â”‚
â”‚  â”‚ [ç…§ç‰‡] â”‚  å‘   â”‚ å†·æ£•è‰²   â”‚  å‘   â”‚ +é£è¡£     â”‚  å‘   â”‚ç»“ â”‚â”‚
â”‚  â”‚        â”‚  å…‰   â”‚          â”‚  å…‰   â”‚           â”‚  å…‰   â”‚æœ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚    èŠ‚ç‚¹ä¹‹é—´çš„è¿çº¿ï¼šSVG path + accent-glow æè¾¹åŠ¨ç”»ï¼ˆ800msï¼‰      â”‚
â”‚    èŠ‚ç‚¹å‡ºç°åŠ¨ç”»ï¼šstagger 200msï¼Œä»å·¦åˆ°å³ä¾æ¬¡ fadeIn + scaleIn    â”‚
â”‚    æ¯ä¸ªèŠ‚ç‚¹ hover â†’ border-glow + å³ä¾§ ParamEditor å±•å¼€         â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ Bottom Bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [ â–¶ GENERATE ]  Â·  6 Credits  Â·  ~45s  Â·  3 steps       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

èŠ‚ç‚¹è¿çº¿è§†è§‰ï¼š
  stroke: accent-core, opacity 0.4
  strokeWidth: 2px  
  è¿æ¥ç‚¹ â—: å®å¿ƒå°åœ†ï¼Œaccent-core
  åŠ¨ç”»: stroke-dashoffset draw-in effect, 800ms

èŠ‚ç‚¹ä¹‹é—´çš„ + æŒ‰é’®ï¼š
  è¿çº¿ä¸­ç‚¹æ‚¬æµ®ä¸€ä¸ª â—‹ +ï¼Œopacity 0 â†’ hover çº¿æ®µæ—¶ opacity 1
  ç‚¹å‡» â†’ å¼¹å‡ºèƒ½åŠ›é€‰æ‹©æµ®å±‚ï¼ˆglass-heavy + staggeråŠ¨ç”»åˆ—å‡ºå¯ç”¨èƒ½åŠ›ï¼‰
```

#### 3.3.2 å‚è€ƒè¾“å…¥çš„ä¸‰ç§å½¢æ€

| å½¢æ€ | æ“ä½œ | AIå¤„ç† |
|------|------|--------|
| **å‚è€ƒå›¾** | æ‹–å…¥/ä¸Šä¼ /ç²˜è´´ä¸€å¼ å›¾ç‰‡ | å¯¹æ¯”ä¸¤å›¾å·®å¼‚ â†’ ç”Ÿæˆèƒ½åŠ›é“¾è·¯ |
| **æ–‡å­—** | åœ¨å‚è€ƒä½ç½®è¾“å…¥æ–‡å­—æè¿°ï¼ˆå¦‚"æ—¥ç³»æ‚å¿—æ„Ÿ"ï¼‰ | è¯­ä¹‰ç†è§£ â†’ æ‹†è§£ä¸ºèƒ½åŠ›æ­¥éª¤ |
| **Trendæ¨¡æ¿** | ä»å‘ç°Tabé€‰ä¸€ä¸ªæ¨¡æ¿ â†’ [åœ¨ç”»å¸ƒä¸­æ‰“å¼€] | ç›´æ¥å±•å¼€æ¨¡æ¿çš„é¢„è®¾é“¾è·¯ |

#### 3.3.3 ç”»å¸ƒä¸Šçš„èŠ‚ç‚¹ç±»å‹

**æºèŠ‚ç‚¹ï¼ˆSource Nodeï¼‰**ï¼š

```typescript
// å¤ç”¨ç°æœ‰ ClipNodeï¼Œæ‰©å±•ä¸ºæºç´ æèŠ‚ç‚¹
interface SourceNodeData {
  type: 'source';
  media_type: 'image' | 'video';
  url: string;
  thumbnail_url: string;
  role: 'user_photo' | 'reference' | 'material';  // æ–°å¢è§’è‰²æ ‡è®°
  analysis?: {                                       // AIåˆ†æç»“æœï¼ˆæ–°å¢ï¼‰
    skin_tone?: string;
    hair_color?: string;
    clothing?: string;
    lighting?: string;
    scene?: string;
    pose?: string;
    style_tags?: string[];
  };
}
```

**èƒ½åŠ›èŠ‚ç‚¹ï¼ˆProcessor Nodeï¼‰**ï¼š

```typescript
// æ–°å¢ï¼šå°† types.ts ä¸­å·²å®šä¹‰ä½†æœªæ¸²æŸ“çš„ processor ç±»å‹æ¿€æ´»
interface ProcessorNodeData {
  type: 'processor';
  capability: CapabilityType;      // ä½¿ç”¨å“ªä¸ªèƒ½åŠ›
  params: Record<string, any>;     // èƒ½åŠ›å‚æ•°
  prompt: string;                  // æœ€ç»ˆprompt
  status: 'draft' | 'pending' | 'processing' | 'completed' | 'error';
  
  // å¯ç¼–è¾‘é¡¹ï¼ˆç”¨æˆ·ç‚¹å‡»èŠ‚ç‚¹æ—¶å±•ç¤ºï¼‰
  editable_params: EditableParam[];
  
  // AIå»ºè®®ï¼ˆIntentRouterç”Ÿæˆæ—¶å¡«å……ï¼‰
  ai_reason?: string;              // "å› ä¸ºå‚è€ƒå›¾å‘è‰²ä¸ºå†·æ£•"
}

interface EditableParam {
  key: string;
  label: string;           // å¦‚ "ç›®æ ‡å‘è‰²"
  type: 'color' | 'text' | 'select' | 'image' | 'slider';
  value: any;
  options?: { label: string; value: any }[];  // selectç±»å‹çš„é€‰é¡¹
}

type CapabilityType = 
  | 'hair_color'      // æ¢å‘è‰²
  | 'outfit'          // æ¢ç©¿æ­
  | 'background'      // æ¢åœºæ™¯/èƒŒæ™¯
  | 'lighting'        // æ¢æ‰“å…‰
  | 'style_transfer'  // é£æ ¼å˜æ¢
  | 'action_transfer' // åŠ¨ä½œè¿ç§»
  | 'angle'           // è§’åº¦å˜æ¢
  | 'enhance'         // è´¨æ„Ÿå¢å¼º
  | 'image_to_video'  // å›¾è½¬è§†é¢‘ï¼ˆå«è¿é•œè¿‡æ¸¡ï¼‰
  ;
```

**ç»“æœèŠ‚ç‚¹ï¼ˆResult Nodeï¼‰**ï¼š

```typescript
interface ResultNodeData {
  type: 'result';
  media_type: 'image' | 'video';
  url?: string;                   // ç”Ÿæˆå®Œæˆåå¡«å……
  thumbnail_url?: string;
  status: 'waiting' | 'generating' | 'completed' | 'error';
  generation_time?: number;        // ç”Ÿæˆè€—æ—¶
}
```

#### 3.3.4 ç”»å¸ƒæ“ä½œæ¸…å•

| æ“ä½œ | è§¦å‘æ–¹å¼ | è¯´æ˜ |
|------|---------|------|
| æ·»åŠ æºç´ æ | æ‹–å…¥ç”»å¸ƒ / ç²˜è´´ / ä¸Šä¼ æŒ‰é’® | åˆ›å»º Source Node |
| AIè‡ªåŠ¨ç¼–æ’ | è¿æ¥ ç”¨æˆ·ç…§ç‰‡ â†’ å‚è€ƒå›¾ | è§¦å‘ IntentRouterï¼Œç”Ÿæˆä¸­é—´èƒ½åŠ›é“¾è·¯ |
| ä¿®æ”¹èƒ½åŠ›å‚æ•° | ç‚¹å‡» Processor Node | å¼¹å‡ºå‚æ•°ç¼–è¾‘é¢æ¿ |
| åˆ é™¤æ­¥éª¤ | å³é”® â†’ åˆ é™¤ / é”®ç›˜ Delete | ç§»é™¤èŠ‚ç‚¹ï¼Œåç»­èŠ‚ç‚¹è‡ªåŠ¨é‡è¿ |
| æ’å…¥æ­¥éª¤ | ç‚¹å‡»è¾¹ä¸Šçš„ + æŒ‰é’® | åœ¨ä¸¤æ­¥ä¹‹é—´æ’å…¥æ–°èƒ½åŠ› |
| æ›¿æ¢èƒ½åŠ› | ç‚¹å‡»èŠ‚ç‚¹ â†’ åˆ‡æ¢èƒ½åŠ›ç±»å‹ | å¦‚æŠŠ"æ¢å‘è‰²"æ”¹æˆ"æ¢é£æ ¼" |
| åˆ†å‰å¯¹æ¯” | ä»æŸèŠ‚ç‚¹æ‹–å‡ºæ–°è¾¹ | åŒä¸€è¾“å…¥åˆ†åˆ«èµ°ä¸åŒè·¯çº¿ |
| ç”Ÿæˆè§†é¢‘ | ç‚¹å‡» [â–¶ ç”Ÿæˆ] | æŒ‰é“¾è·¯é¡ºåºæ‰§è¡Œï¼Œæœ€ç»ˆèŠ‚ç‚¹å‡ºç»“æœ |
| å¯¼å‡º | ç‚¹å‡» [å¯¼å‡º] | ä¸‹è½½è§†é¢‘/å›¾ç‰‡åˆ°æœ¬åœ° |
| åˆ†äº« | ç‚¹å‡» [åˆ†äº«] | ä¸€é”®åˆ†äº«åˆ°ç¤¾äº¤å¹³å° |
| å‘å¸ƒä¸ºæ¨¡æ¿ | ç‚¹å‡» [å‘å¸ƒæ¨¡æ¿] | å½“å‰é“¾è·¯ä¿å­˜ä¸ºæ¨¡æ¿ â†’ å‡ºç°åœ¨å‘ç°Tab |

#### 3.3.5 ç”»å¸ƒ â†” æ¨¡æ¿åŒå‘æµé€š

**æ¨¡æ¿ â†’ ç”»å¸ƒï¼ˆæ‹†æ¨¡æ¿ï¼‰**ï¼š

```
æ¨¡æ¿çš„ route[] â†’ è½¬æ¢ä¸ºç”»å¸ƒèŠ‚ç‚¹å›¾
â†’ [ç”¨æˆ·ç…§ç‰‡ Source] â†’ [ProcessorNode Ã— N] â†’ [ResultNode]
â†’ æ¯ä¸ª ProcessorNode å¯ç¼–è¾‘
```

**ç”»å¸ƒ â†’ æ¨¡æ¿ï¼ˆå»ºæ¨¡æ¿ï¼‰**ï¼š

```
ç”¨æˆ·åœ¨ç”»å¸ƒä¸Šåˆ›å»ºçš„é“¾è·¯ â†’ åºåˆ—åŒ–ä¸º route[]
â†’ æŠ½è±¡åŒ–ï¼ˆç”¨æˆ·ç…§ç‰‡å˜æˆ placeholderï¼‰
â†’ å½•åˆ¶é¢„è§ˆè§†é¢‘ï¼ˆç”¨è‡ªå·±çš„ç»“æœåšç¤ºèŒƒï¼‰
â†’ å‘å¸ƒåˆ°å‘ç° Tab çš„ã€Œç”¨æˆ·åˆ›ä½œã€åˆ†åŒº
```

---

## å››ã€AI Intent Routerï¼ˆæ ¸å¿ƒæ™ºèƒ½å±‚ï¼‰

### 4.1 å®šä½

IntentRouter æ˜¯æ•´ä¸ªäº§å“çš„çµé­‚â€”â€”æŠŠç”¨æˆ·çš„**æ„å›¾**ï¼ˆå‚è€ƒå›¾æˆ–æ–‡å­—ï¼‰ç¿»è¯‘æˆ**èƒ½åŠ›é“¾è·¯**ï¼ˆç”»å¸ƒä¸Šçš„èŠ‚ç‚¹å›¾ï¼‰ã€‚

### 4.2 æ¶æ„

```
IntentRouter
â”‚
â”œâ”€â”€ è¾“å…¥
â”‚   â”œâ”€â”€ user_photo: ç”¨æˆ·ç…§ç‰‡ï¼ˆå¿…é¡»ï¼‰
â”‚   â”œâ”€â”€ reference: å‚è€ƒå›¾ æˆ– æ–‡å­—æè¿° æˆ– æ¨¡æ¿IDï¼ˆè‡³å°‘ä¸€ä¸ªï¼‰
â”‚   â””â”€â”€ user_history: ç”¨æˆ·å†å²åå¥½ï¼ˆå¯é€‰ï¼ŒåæœŸåŠ ï¼‰
â”‚
â”œâ”€â”€ Step 1: å›¾åƒåˆ†æï¼ˆå¹¶è¡Œï¼‰
â”‚   â”œâ”€â”€ ç”¨æˆ·ç…§ç‰‡ â†’ visual_separation_service åˆ†æç‰¹å¾
â”‚   â”‚   â†’ { skin_tone, hair_color, clothing, pose, ... }
â”‚   â”‚
â”‚   â””â”€â”€ å‚è€ƒå›¾ â†’ åŒæ ·åˆ†æ
â”‚       â†’ { skin_tone, hair_color, clothing, lighting, scene, style, ... }
â”‚
â”œâ”€â”€ Step 2: å·®å¼‚æ£€æµ‹ + é“¾è·¯ç¼–æ’ï¼ˆLLMï¼‰
â”‚   â”œâ”€â”€ è¾“å…¥ï¼šä¸¤å¼ å›¾çš„åˆ†æç»“æœ
â”‚   â”œâ”€â”€ Promptï¼š
â”‚   â”‚   "åˆ†æè¿™ä¸¤å¼ å›¾ç‰‡çš„å·®å¼‚ï¼Œç”Ÿæˆä»Aå˜æˆBçš„æ­¥éª¤é“¾è·¯ã€‚
â”‚   â”‚    å¯ç”¨èƒ½åŠ›ï¼š[hair_color, outfit, background, lighting, 
â”‚   â”‚              style_transfer, action_transfer, angle, enhance]
â”‚   â”‚    æ¯ä¸ªèƒ½åŠ›çš„å‚æ•°è¯´æ˜ï¼š[...]
â”‚   â”‚    è¦æ±‚ï¼š
â”‚   â”‚    1. åªåŒ…å«æœ‰å®é™…å·®å¼‚çš„ç»´åº¦
â”‚   â”‚    2. æ­¥éª¤é¡ºåºè¦åˆç†ï¼ˆå…ˆå±€éƒ¨å†å…¨å±€ï¼‰
â”‚   â”‚    3. æ¯æ­¥ç»™å‡ºå…·ä½“å‚æ•°å’ŒåŸå› "
â”‚   â”‚
â”‚   â””â”€â”€ è¾“å‡ºï¼ˆç»“æ„åŒ–JSONï¼‰ï¼š
â”‚       {
â”‚         "route": [
â”‚           {
â”‚             "capability": "hair_color",
â”‚             "params": { "target_color": "cold_brown", "style": "natural" },
â”‚             "prompt": "å°†å‘è‰²ä»é»‘è‰²è‡ªç„¶è¿‡æ¸¡ä¸ºå†·æ£•è‰²ï¼Œä¿æŒå‘å‹å’Œå…‰æ³½",
â”‚             "reason": "å‚è€ƒå›¾å‘è‰²ä¸ºå†·æ£•è‰²ï¼Œä¸ç”¨æˆ·çš„æš–é»„è‚¤è‰²å½¢æˆå¯¹æ¯”"
â”‚           },
â”‚           {
â”‚             "capability": "lighting",
â”‚             "params": { "direction": "side_45", "intensity": "soft" },
â”‚             "prompt": "æ·»åŠ 45åº¦ä¾§é¢æŸ”å…‰ï¼Œè¥é€ é¢éƒ¨è½®å»“é˜´å½±",
â”‚             "reason": "å‚è€ƒå›¾æœ‰æ˜æ˜¾çš„ä¾§é¢å…‰æº"
â”‚           }
â”‚         ],
â”‚         "overall_description": "éŸ©ç³»æ¸…å†·é£æ ¼å˜èº«",
â”‚         "suggested_golden_preset": "whip_pan_outfit",
â”‚         "suggested_output_duration": 8
â”‚       }
â”‚
â”œâ”€â”€ Step 3: è½¬æ¢ä¸ºç”»å¸ƒèŠ‚ç‚¹
â”‚   â”œâ”€â”€ route[] â†’ React Flow Nodes + Edges
â”‚   â”œâ”€â”€ è‡ªåŠ¨å¸ƒå±€ï¼ˆå·¦â†’å³çº¿æ€§æ’åˆ—ï¼‰
â”‚   â””â”€â”€ æ¸²æŸ“åˆ°ç”»å¸ƒä¸Š
â”‚
â””â”€â”€ Step 4: ç”¨æˆ·ä¿®æ”¹ â†’ å¢é‡æ›´æ–°
    â”œâ”€â”€ ç”¨æˆ·æ”¹äº†æŸæ­¥å‚æ•° â†’ åªæ›´æ–°è¯¥èŠ‚ç‚¹
    â”œâ”€â”€ ç”¨æˆ·åˆ äº†æŸæ­¥ â†’ é‡æ–°è¿çº¿
    â”œâ”€â”€ ç”¨æˆ·åŠ äº†ä¸€æ­¥ â†’ æ’å…¥æ–°èŠ‚ç‚¹
    â””â”€â”€ ç”¨æˆ·åˆ†å‰ â†’ åˆ›å»ºå¹¶è¡Œè·¯çº¿
```

### 4.3 æŠ€æœ¯å®ç°æ˜ å°„

| IntentRouter æ­¥éª¤ | å¤ç”¨å·²æœ‰æœåŠ¡ | æ–°å¢éœ€æ±‚ |
|---|---|---|
| å›¾åƒç‰¹å¾åˆ†æ | `visual_separation_service` + `face_detector` | æ‰©å±•ï¼šè¾“å‡ºç»“æ„åŒ–ç‰¹å¾æ ‡ç­¾ |
| å·®å¼‚æ£€æµ‹ | `edit_intent_classifier`ï¼ˆå·²æœ‰æ„å›¾åˆ†ç±»é€»è¾‘ï¼‰ | æ‰©å±•ï¼šä»å•æ„å›¾ â†’ å¤šæ­¥éª¤é“¾è·¯ |
| LLMç¼–æ’ | `llm/service.py`ï¼ˆLangChainï¼‰ | æ–°å¢ï¼šIntentRouter prompt chain |
| èƒ½åŠ›æ³¨å†Œ | `GenerationComposerModal` 9ä¸ªèƒ½åŠ›å®šä¹‰ | é‡æ„ï¼šæå–ä¸ºç‹¬ç«‹ CapabilityRegistry |
| èŠ‚ç‚¹è½¬æ¢ | `WorkflowCanvas.tsx` èŠ‚ç‚¹åˆ›å»ºé€»è¾‘ | æ‰©å±•ï¼šæ”¯æŒä» route[] æ‰¹é‡åˆ›å»ºèŠ‚ç‚¹ |

### 4.4 æ–°å¢åç«¯æœåŠ¡

```python
# backend/app/services/intent_router_service.py

class IntentRouterService:
    """
    æ ¸å¿ƒ AI è·¯ç”±å±‚ï¼šç”¨æˆ·æ„å›¾ â†’ èƒ½åŠ›é“¾è·¯
    """
    
    async def analyze_and_route(
        self,
        user_photo_url: str,
        reference_url: str = None,        # å‚è€ƒå›¾URL
        reference_text: str = None,        # æ–‡å­—æè¿°
        template_id: str = None,           # æ¨¡æ¿ID
    ) -> RouteResult:
        """
        ä¸»å…¥å£ï¼šåˆ†æå·®å¼‚ï¼Œç”Ÿæˆèƒ½åŠ›é“¾è·¯
        """
        pass
    
    async def _analyze_image_features(self, image_url: str) -> ImageFeatures:
        """å¤ç”¨ visual_separation_service + face_detector"""
        pass
    
    async def _detect_differences(
        self, user_features: ImageFeatures, ref_features: ImageFeatures
    ) -> list[Difference]:
        """æ£€æµ‹ä¸¤å¼ å›¾çš„è§†è§‰å·®å¼‚"""
        pass
    
    async def _generate_route(
        self, differences: list[Difference], user_features: ImageFeatures
    ) -> list[RouteStep]:
        """LLM ç”Ÿæˆèƒ½åŠ›é“¾è·¯"""
        pass
    
    async def _suggest_golden_preset(
        self, route: list[RouteStep]
    ) -> str | None:
        """å¤ç”¨ golden_fingerprint_service åŒ¹é…æœ€ä½³è¿‡æ¸¡æ•ˆæœ"""
        pass


@dataclass
class RouteResult:
    route: list[RouteStep]
    overall_description: str
    suggested_golden_preset: str | None
    suggested_output_duration: int
    confidence: float


@dataclass  
class RouteStep:
    capability: str          # hair_color | outfit | background | lighting | ...
    params: dict
    prompt: str
    reason: str
    estimated_credits: int
```

---

## äº”ã€èƒ½åŠ›ä½“ç³»

### 5.1 èƒ½åŠ›æ¸…å•

| èƒ½åŠ› ID | åç§° | åº•å±‚å®ç° | Kling API |
|---------|------|---------|-----------|
| `hair_color` | æ¢å‘è‰² | äººç‰©åˆ†ç¦» â†’ å‘åŒºmask â†’ å±€éƒ¨é‡ç»˜ | `omni-image` |
| `outfit` | æ¢ç©¿æ­ | `person_clothing`åˆ†ç¦» â†’ è¡£ç‰©åŒºåŸŸé‡ç»˜ | `omni-image` |
| `background` | æ¢åœºæ™¯ | `background_replace_workflow` 5é˜¶æ®µæµæ°´çº¿ | `text2video` + åˆæˆ |
| `lighting` | æ¢æ‰“å…‰ | å…¨å›¾é‡ç»˜ï¼ˆlighting promptï¼‰ | `omni-image` |
| `style_transfer` | é£æ ¼å˜æ¢ | å…¨å›¾é£æ ¼è¿ç§» | `omni-image` / `image2video` |
| `action_transfer` | åŠ¨ä½œè¿ç§» | å‚è€ƒå›¾åŠ¨ä½œ â†’ ç”¨æˆ·å›¾äººç‰© | `motion-control` |
| `angle` | è§’åº¦å˜æ¢ | å¤šè§’åº¦ç”Ÿæˆ | `omni-image` |
| `enhance` | è´¨æ„Ÿå¢å¼º | è¶…åˆ†/çš®è‚¤è´¨æ„Ÿ/æ¸…æ™°åº¦ | `omni-image` refinement |
| `image_to_video` | å›¾è½¬è§†é¢‘ | é™æ€å›¾ â†’ æœ‰è¿é•œçš„è§†é¢‘ | `image2video` + Golden Preset |

### 5.2 èƒ½åŠ›æ‰§è¡Œæµæ°´çº¿

ç”»å¸ƒä¸Šçš„èƒ½åŠ›é“¾è·¯æŒ‰é¡ºåºæ‰§è¡Œï¼Œæ¯æ­¥çš„è¾“å‡ºæ˜¯ä¸‹ä¸€æ­¥çš„è¾“å…¥ï¼š

```
[ç”¨æˆ·ç…§ç‰‡]
    â”‚ (image)
    â–¼
[ğŸ’‡ æ¢å‘è‰²] â† omni-image å±€éƒ¨é‡ç»˜
    â”‚ (image: æ¢å¥½å‘è‰²çš„é™æ€å›¾)
    â–¼
[ğŸ‘— æ¢ç©¿æ­] â† omni-image å±€éƒ¨é‡ç»˜
    â”‚ (image: æ¢å¥½å‘è‰²+ç©¿æ­çš„é™æ€å›¾)
    â–¼
[ğŸ™ï¸ æ¢åœºæ™¯] â† background_replace æµæ°´çº¿
    â”‚ (image: å®Œæ•´çš„å˜èº«é™æ€å›¾)
    â–¼
[ğŸ“¹ ç”Ÿæˆè§†é¢‘] â† image2video + Golden Preset
    â”‚ (video: æœ‰è¿é•œè¿‡æ¸¡çš„å˜èº«è§†é¢‘)
    â–¼
[ç»“æœ]
```

**å…³é”®ï¼šå‰é¢çš„æ­¥éª¤éƒ½æ˜¯å›¾â†’å›¾ï¼ˆomni-imageï¼‰ï¼Œæœ€åä¸€æ­¥æ‰æ˜¯å›¾â†’è§†é¢‘ï¼ˆimage2videoï¼‰ã€‚**
è¿™æ ·ä¸­é—´æ­¥éª¤é€Ÿåº¦å¿«ã€æˆæœ¬ä½ï¼Œç”¨æˆ·å¯ä»¥å¿«é€Ÿè¿­ä»£è°ƒæ•´ï¼Œåªæœ‰æœ€ç»ˆç¡®è®¤åæ‰è§¦å‘è§†é¢‘ç”Ÿæˆã€‚

### 5.3 Golden Presetsï¼ˆè¿‡æ¸¡è´¨é‡å£å’ï¼‰

æœ€ç»ˆå›¾â†’è§†é¢‘è¿™ä¸€æ­¥ï¼Œä½¿ç”¨ Golden Presets å®ç°ç”µå½±çº§è¿‡æ¸¡æ•ˆæœï¼š

| Preset | æ•ˆæœ | é€‚ç”¨åœºæ™¯ |
|--------|------|---------|
| `spin_occlusion_outfit` | 360Â°æ—‹è½¬ï¼ŒèƒŒé¢é®æŒ¡æ—¶å˜èº« | æ¢è£…ã€æ•´ä½“å˜èº« |
| `whip_pan_outfit` | å¿«é€Ÿæ¨ªç§»ï¼Œè¿åŠ¨æ¨¡ç³Šä¸­å˜èº« | å‘è‰²å˜åŒ–ã€å¿«é€Ÿå˜èº« |
| `space_warp_outfit` | ç©ºé—´ç©¿è¶Šé—¨ï¼Œç©¿è¿‡æ—¶å˜èº« | åœºæ™¯ç©¿è¶Šã€é£æ ¼åˆ‡æ¢ |

IntentRouter ä¼šæ ¹æ®é“¾è·¯å†…å®¹è‡ªåŠ¨æ¨èæœ€åˆé€‚çš„ Golden Presetã€‚

### 5.4 å‚æ•°å˜ä½“

æ¯ä¸ª Golden Preset æœ‰ä¸‰æ¡£ç²¾ç»†åº¦ï¼š

| æ¡£ä½ | cfg_scale | ç‰¹ç‚¹ |
|------|-----------|------|
| ç²¾å‡† | 0.30 | ä¸¥æ ¼éµå¾ªpromptï¼Œé€‚åˆç®€å•å˜åŒ– |
| å‡è¡¡ | 0.50 | å¹³è¡¡åˆ›æ„ä¸æ§åˆ¶ |
| åˆ›æ„ | 0.70 | æ›´å¤šAIè‡ªç”±å‘æŒ¥ï¼Œé€‚åˆå¤§å¹…å˜èº« |

---

## å…­ã€æ•°æ®æ¶æ„

### 6.1 æ–°å¢æ•°æ®è¡¨

```sql
-- å˜èº«æ¨¡æ¿
CREATE TABLE trend_templates (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT NOT NULL,
    category TEXT NOT NULL,  -- hair, outfit, scene, lighting, style, action, mixed
    
    -- å±•ç¤º
    preview_video_url TEXT,
    thumbnail_url TEXT,
    usage_count INTEGER DEFAULT 0,
    
    -- èƒ½åŠ›é“¾è·¯ï¼ˆæ ¸å¿ƒï¼‰
    route JSONB NOT NULL,  -- RouteStep[]
    
    -- ç”Ÿæˆé…ç½®
    golden_preset TEXT,
    output_duration INTEGER DEFAULT 8,
    output_aspect_ratio TEXT DEFAULT '9:16',
    
    -- æ¥æº
    author_type TEXT NOT NULL DEFAULT 'official',  -- official | ugc
    author_id UUID REFERENCES auth.users(id),
    
    -- çŠ¶æ€
    status TEXT NOT NULL DEFAULT 'published',  -- draft | published | archived
    
    tags TEXT[] DEFAULT '{}',
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ç”¨æˆ·åˆ›ä½œ Sessionï¼ˆç”»å¸ƒä¼šè¯ï¼‰
CREATE TABLE canvas_sessions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES auth.users(id),
    
    -- ç”»å¸ƒçŠ¶æ€
    nodes JSONB NOT NULL DEFAULT '[]',        -- React Flow nodes åºåˆ—åŒ–
    edges JSONB NOT NULL DEFAULT '[]',        -- React Flow edges åºåˆ—åŒ–
    
    -- è·¯ç”±ç»“æœ
    intent_route JSONB,                        -- IntentRouter çš„è¾“å‡º
    
    -- æ¥æº
    source_template_id UUID REFERENCES trend_templates(id),  -- å¦‚æœä»æ¨¡æ¿æ‰“å¼€
    
    -- ç»“æœ
    result_url TEXT,
    result_type TEXT,  -- image | video
    
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ç”¨æˆ·å‚è€ƒå›¾æ”¶è—ï¼ˆéšå¼å®¡ç¾ç§¯ç´¯ï¼‰
CREATE TABLE user_references (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES auth.users(id),
    
    image_url TEXT NOT NULL,
    source TEXT,  -- 'upload' | 'screenshot' | 'template' | 'generation'
    
    -- AIåˆ†æç»“æœ
    features JSONB,  -- ImageFeatures
    
    -- ç»Ÿè®¡
    used_count INTEGER DEFAULT 0,
    
    created_at TIMESTAMPTZ DEFAULT now()
);

-- ç´¢å¼•
CREATE INDEX idx_templates_category ON trend_templates(category);
CREATE INDEX idx_templates_status ON trend_templates(status);
CREATE INDEX idx_templates_usage ON trend_templates(usage_count DESC);
CREATE INDEX idx_canvas_sessions_user ON canvas_sessions(user_id);
CREATE INDEX idx_user_references_user ON user_references(user_id);
```

### 6.2 å¤ç”¨å·²æœ‰æ•°æ®è¡¨

| è¡¨ | ç”¨é€” |
|---|------|
| `tasks` | æ¯ä¸ªèƒ½åŠ›èŠ‚ç‚¹çš„AIä»»åŠ¡è¿½è¸ªï¼ˆå·²æœ‰å®Œæ•´çš„taskç±»å‹å’ŒçŠ¶æ€ç®¡ç†ï¼‰ |
| `assets` | ç”¨æˆ·ä¸Šä¼ çš„ç…§ç‰‡å­˜å‚¨ |
| `ai_model_credits` | èƒ½åŠ›æ¶ˆè€—çš„Creditsè®¡è´¹ |
| `user_credits` / `credit_transactions` | ç”¨æˆ·é¢åº¦ç®¡ç† |
| `template_records` | å·²æœ‰çš„æ¨¡æ¿ç³»ç»Ÿï¼ˆå¯è¿ç§»åˆ° trend_templatesï¼‰ |

---

## ä¸ƒã€API è®¾è®¡

### 7.1 æ–°å¢ API ç«¯ç‚¹

```
# Intent Router
POST   /api/intent/analyze          # åˆ†æç”¨æˆ·ç…§ç‰‡ + å‚è€ƒå›¾ â†’ ç”Ÿæˆèƒ½åŠ›é“¾è·¯
POST   /api/intent/analyze-text     # åˆ†æç”¨æˆ·ç…§ç‰‡ + æ–‡å­—æè¿° â†’ ç”Ÿæˆèƒ½åŠ›é“¾è·¯

# èƒ½åŠ›æ‰§è¡Œ
POST   /api/capabilities/execute    # æ‰§è¡Œå•ä¸ªèƒ½åŠ›èŠ‚ç‚¹ï¼ˆå›¾â†’å›¾ï¼‰
POST   /api/capabilities/execute-chain  # æ‰§è¡Œå®Œæ•´é“¾è·¯ï¼ˆä¸²è¡Œï¼‰
GET    /api/capabilities/registry   # è·å–èƒ½åŠ›æ³¨å†Œè¡¨ï¼ˆå‰ç«¯æ¸²æŸ“ç”¨ï¼‰

# Trend æ¨¡æ¿
GET    /api/templates/feed          # è·å–æ¨¡æ¿Feedï¼ˆåˆ†é¡µã€åˆ†ç±»ã€æ’åºï¼‰
GET    /api/templates/:id           # è·å–å•ä¸ªæ¨¡æ¿è¯¦æƒ…
POST   /api/templates/:id/use      # ä½¿ç”¨æ¨¡æ¿ï¼ˆä¼ ç…§ç‰‡ â†’ ç›´æ¥å‡ºè§†é¢‘ï¼‰
POST   /api/templates/:id/open-canvas  # æ‹†åˆ°ç”»å¸ƒï¼ˆè¿”å›èŠ‚ç‚¹å›¾ï¼‰
POST   /api/templates/publish       # å‘å¸ƒç”¨æˆ·æ¨¡æ¿

# ç”»å¸ƒ Session
POST   /api/canvas/sessions         # åˆ›å»ºç”»å¸ƒä¼šè¯
PUT    /api/canvas/sessions/:id     # ä¿å­˜ç”»å¸ƒçŠ¶æ€
GET    /api/canvas/sessions/:id     # æ¢å¤ç”»å¸ƒçŠ¶æ€
POST   /api/canvas/sessions/:id/export  # å¯¼å‡ºæœ€ç»ˆç»“æœ
```

### 7.2 å…³é”® API è¯¦ç»†è®¾è®¡

**POST /api/intent/analyze**

```json
// Request
{
  "user_photo_url": "https://...",
  "reference_image_url": "https://...",   // å‚è€ƒå›¾
  "reference_text": null                   // æˆ–æ–‡å­—æè¿°
}

// Response
{
  "route": [
    {
      "capability": "hair_color",
      "params": { "target_color": "cold_brown" },
      "prompt": "å°†å‘è‰²ä»é»‘è‰²è‡ªç„¶è¿‡æ¸¡ä¸ºå†·æ£•è‰²...",
      "reason": "å‚è€ƒå›¾å‘è‰²ä¸ºå†·æ£•è‰²",
      "estimated_credits": 2
    },
    {
      "capability": "lighting",
      "params": { "direction": "side_45", "intensity": "soft" },
      "prompt": "æ·»åŠ 45åº¦ä¾§é¢æŸ”å…‰...",
      "reason": "å‚è€ƒå›¾æœ‰æ˜æ˜¾ä¾§å…‰",
      "estimated_credits": 2
    }
  ],
  "overall_description": "éŸ©ç³»æ¸…å†·é£æ ¼å˜èº«",
  "suggested_golden_preset": "whip_pan_outfit",
  "suggested_output_duration": 8,
  "total_estimated_credits": 6,
  "confidence": 0.85
}
```

**POST /api/capabilities/execute**

```json
// Request
{
  "input_image_url": "https://...",
  "capability": "hair_color",
  "params": { "target_color": "cold_brown" },
  "prompt": "å°†å‘è‰²ä»é»‘è‰²è‡ªç„¶è¿‡æ¸¡ä¸ºå†·æ£•è‰²..."
}

// Response
{
  "task_id": "uuid",
  "status": "processing",
  "estimated_time": 15  // ç§’
}

// SSE æ¨é€ä»»åŠ¡è¿›åº¦ â†’ å¤ç”¨ç°æœ‰ useTaskProgress
```

---

## å…«ã€å‰ç«¯æ¶æ„

### 8.0 è®¾è®¡ç³»ç»Ÿå®ç°

#### æŠ€æœ¯æ ˆ

| èŒè´£ | é€‰å‹ | è¯´æ˜ |
|------|------|------|
| CSSæ¡†æ¶ | Tailwind CSS 3.4 | å·²æœ‰ï¼Œæ‰©å±• Delos è®¾è®¡ tokens |
| åŠ¨ç”» | Framer Motion 12 | **æ–°å¢**ï¼Œå®ç° Deliberate åŠ¨ç”»è¯­è¨€ |
| å›¾æ ‡ | Lucide React | å·²æœ‰ |
| ç”»å¸ƒ | @xyflow/react 12 | å·²æœ‰ |
| ç±»ååˆå¹¶ | clsx + tailwind-merge | å·²æœ‰åŒ…ï¼Œæ–°å¢é›†ä¸­ `cn()` å¯¼å‡º |

#### Tailwind è®¾è®¡ Token æ‰©å±•

å°† Section 3.0 å®šä¹‰çš„ Delos è‰²å½©ç³»ç»Ÿæ³¨å…¥ `tailwind.config.js`ï¼š

```js
// tailwind.config.js æ–°å¢
colors: {
  // ä¿ç•™å·²æœ‰ editor.* tokensï¼ˆç¼–è¾‘å™¨æš—è‰²æ–¹æ¡ˆï¼‰
  
  // æ–°å¢ Delos è®¾è®¡ç³»ç»Ÿ tokens
  void: {
    deep:     '#050508',
    base:     '#0A0A0F',
    surface:  '#111118',
    elevated: '#1A1A24',
    hover:    '#222230',
  },
  glass: {
    subtle:  'rgba(255,255,255,0.03)',
    light:   'rgba(255,255,255,0.05)',
    medium:  'rgba(255,255,255,0.08)',
    heavy:   'rgba(255,255,255,0.12)',
  },
  'hr-border': {
    dim:    'rgba(255,255,255,0.06)',
    glow:   'rgba(255,255,255,0.12)',
    accent: 'rgba(99,102,241,0.40)',
  },
  'hr-text': {
    primary:   'rgba(255,255,255,0.92)',
    secondary: 'rgba(255,255,255,0.55)',
    tertiary:  'rgba(255,255,255,0.30)',
    accent:    '#818CF8',
  },
  accent: {
    core: '#6366F1',
    glow: 'rgba(99,102,241,0.20)',
    dim:  'rgba(99,102,241,0.08)',
  },
}
```

#### å…¨å±€ CSS æ–°å¢

```css
/* Delos è®¾è®¡ç³»ç»Ÿ utilities */

/* Glass é¢æ¿ */
.glass-panel {
  @apply backdrop-blur-xl border border-hr-border-dim;
}

/* èŠ‚ç‚¹è¿çº¿å‘å…‰ */
.glow-line {
  filter: drop-shadow(0 0 6px rgba(99,102,241,0.3));
}

/* Void èƒŒæ™¯ç½‘æ ¼ */
.void-grid {
  background-image: 
    linear-gradient(rgba(255,255,255,0.03) 1px, transparent 0),
    linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 0);
  background-size: 60px 60px;
}

/* æš—è‰²æ»šåŠ¨æ¡ */
.dark-scrollbar::-webkit-scrollbar { width: 4px; height: 4px; }
.dark-scrollbar::-webkit-scrollbar-track { background: transparent; }
.dark-scrollbar::-webkit-scrollbar-thumb { 
  background: rgba(255,255,255,0.08); border-radius: 4px; 
}
.dark-scrollbar::-webkit-scrollbar-thumb:hover { 
  background: rgba(255,255,255,0.15); 
}

/* Accent å¤–å‘å…‰ */
.accent-glow {
  box-shadow: 0 0 20px rgba(99,102,241,0.15), 0 0 40px rgba(99,102,241,0.05);
}

/* Loading å‘¼å¸ */
@keyframes breathe {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 1; }
}
.animate-breathe { animation: breathe 2s ease-in-out infinite; }
```

#### Framer Motion é¢„è®¾

```typescript
// src/lib/motion.ts â€” Delos åŠ¨ç”»é¢„è®¾

export const delosTransition = {
  enter:  { duration: 0.6, ease: [0.16, 1, 0.3, 1] },
  exit:   { duration: 0.3, ease: 'easeOut' },
  hover:  { duration: 0.4, ease: 'easeOut' },
  panel:  { duration: 0.5, ease: [0.16, 1, 0.3, 1] },
  draw:   { duration: 0.8, ease: [0.4, 0, 0.2, 1] },
};

export const delosVariants = {
  fadeUp: {
    initial: { opacity: 0, y: 8 },
    animate: { opacity: 1, y: 0 },
    exit:    { opacity: 0 },
  },
  scaleIn: {
    initial: { opacity: 0, scale: 0.96 },
    animate: { opacity: 1, scale: 1 },
    exit:    { opacity: 0, scale: 0.98 },
  },
  slideRight: {
    initial: { opacity: 0, x: -12 },
    animate: { opacity: 1, x: 0 },
    exit:    { opacity: 0, x: -12 },
  },
  panelExpand: {
    initial: { width: 0, opacity: 0 },
    animate: { width: 300, opacity: 1 },
    exit:    { width: 0, opacity: 0 },
  },
  stagger: {
    animate: { transition: { staggerChildren: 0.08 } },
  },
};
```

#### cn() å·¥å…·é›†ä¸­åŒ–

```typescript
// src/lib/cn.ts
import { clsx, type ClassValue } from 'clsx';
import { twMerge } from 'tailwind-merge';

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
```

#### UI åŸå­ç»„ä»¶ (`src/components/ui/`)

æ–°å¢ä»¥ä¸‹ Delos è®¾è®¡è§„èŒƒçš„åŸºç¡€ç»„ä»¶ï¼š

| ç»„ä»¶ | è¯´æ˜ |
|------|------|
| `GlassPanel.tsx` | æ¯›ç»ç’ƒé¢æ¿å®¹å™¨ï¼ˆglass-subtle/light/medium/heavy å››æ¡£ï¼‰ |
| `Button.tsx` | Primary (accent-core) / Ghost (transparent+border) / Danger ä¸‰ç§ |
| `Input.tsx` | glass-subtle bg, border-dim, focus:border-accent å¤–å‘å…‰ |
| `Badge.tsx` | Capå­—ä½“ pillï¼Œæ”¯æŒ accent/ghost/success/error å˜ä½“ |
| `Slider.tsx` | void-surface track + accent-core thumb + Monoæ•°å€¼ |
| `Select.tsx` | glass-subtle trigger + glass-heavy dropdown |
| `Tooltip.tsx` | glass-heavy bg + text-secondary, å»¶è¿Ÿ 400ms æ˜¾ç¤º |
| `Modal.tsx` | å±…ä¸­å¼¹çª—ï¼Œglass-heavy + backdrop void-deep/80% |
| `CapLabel.tsx` | 10px uppercase tracking-widest text-tertiary |

### 8.1 è·¯ç”±è°ƒæ•´

```
ç°æœ‰è·¯ç”±ï¼ˆä¿ç•™ï¼‰ï¼š
/visual-editor          â†’ ç”»å¸ƒç¼–è¾‘å™¨ï¼ˆé‡æ„ä¸º Canvas Tab çš„æ ¸å¿ƒï¼‰
/editor                 â†’ è§†é¢‘å‰ªè¾‘ç¼–è¾‘å™¨ï¼ˆä¿ç•™ï¼Œæƒé‡é™ä½ï¼‰
/workspace              â†’ å·¥ä½œå°ï¼ˆé‡æ„ä¸ºæš—è‰²ä¸»é¢˜ï¼‰

æ–°å¢è·¯ç”±ï¼š
/                       â†’ é¦–é¡µï¼ˆé‡æ„ä¸ºåŒTabå…¥å£ï¼šå‘ç° + ç”»å¸ƒï¼‰
/discover               â†’ å‘ç°Tabï¼ˆTrend Feedï¼‰
/canvas                 â†’ ç”»å¸ƒTabï¼ˆé‡å®šå‘åˆ° /visual-editor æˆ–æ•´åˆï¼‰
/canvas/:session_id     â†’ å¸¦ä¼šè¯çš„ç”»å¸ƒ
/template/:id           â†’ æ¨¡æ¿è¯¦æƒ…é¡µ
/login                  â†’ ç™»å½•é¡µï¼ˆé‡æ„ä¸º Delos æš—è‰²é£æ ¼ï¼‰
/signup                 â†’ æ³¨å†Œé¡µï¼ˆé‡æ„ä¸º Delos æš—è‰²é£æ ¼ï¼‰
```

### 8.2 æ–°å¢/ä¿®æ”¹å‰ç«¯ç»„ä»¶

```
frontend/src/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ cn.ts                          # æ–°å¢ï¼šé›†ä¸­ cn() å·¥å…·
â”‚   â”œâ”€â”€ motion.ts                      # æ–°å¢ï¼šDelos Framer Motion é¢„è®¾
â”‚   â””â”€â”€ utils.ts                       # å·²æœ‰
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx                     # ä¿®æ”¹ï¼šæš—è‰²åŸºåº•, void-deep body
â”‚   â”œâ”€â”€ globals.css                    # ä¿®æ”¹ï¼šæ–°å¢ Delos utilities
â”‚   â”œâ”€â”€ login/page.tsx                 # é‡æ„ï¼šDelos æš—è‰²ç™»å½•
â”‚   â”œâ”€â”€ discover/                      # æ–°å¢ï¼šå‘ç°Tab
â”‚   â”‚   â””â”€â”€ page.tsx                   # Trend Feed é¡µé¢
â”‚   â””â”€â”€ canvas/                        # æ–°å¢ï¼šç”»å¸ƒTabå…¥å£
â”‚       â””â”€â”€ page.tsx
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                            # æ–°å¢ï¼šDelos åŸå­ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ GlassPanel.tsx
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”œâ”€â”€ Badge.tsx
â”‚   â”‚   â”œâ”€â”€ Slider.tsx
â”‚   â”‚   â”œâ”€â”€ Select.tsx
â”‚   â”‚   â”œâ”€â”€ Tooltip.tsx
â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â””â”€â”€ CapLabel.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ layout/                        # æ–°å¢ï¼šå…¨å±€å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ TopBar.tsx                 # é¡¶éƒ¨å¯¼èˆªï¼ˆglass-subtle + blurï¼‰
â”‚   â”‚   â””â”€â”€ AppShell.tsx               # ä¸»æ¡†æ¶ï¼ˆTopBar + å†…å®¹åŒºï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ discover/                      # æ–°å¢
â”‚   â”‚   â”œâ”€â”€ TrendFeed.tsx              # æ¨¡æ¿ç€‘å¸ƒæµ
â”‚   â”‚   â”œâ”€â”€ TemplateCard.tsx           # æ¨¡æ¿å¡ç‰‡ï¼ˆHiggsField App Card é£æ ¼ï¼‰
â”‚   â”‚   â”œâ”€â”€ TemplateUseModal.tsx       # ä½¿ç”¨æ¨¡æ¿å¼¹çª—
â”‚   â”‚   â””â”€â”€ CategoryFilter.tsx         # åˆ†ç±»ç­›é€‰ (Capæ ‡ç­¾ pill)
â”‚   â”‚
â”‚   â”œâ”€â”€ visual-editor/
â”‚   â”‚   â””â”€â”€ workflow/
â”‚   â”‚       â”œâ”€â”€ WorkflowCanvas.tsx     # å·²æœ‰ï¼Œæ‰©å±•ï¼švoid-gridèƒŒæ™¯+IntentRouterèŠ‚ç‚¹
â”‚   â”‚       â”œâ”€â”€ ClipNode.tsx           # å·²æœ‰ï¼Œé‡æ„ï¼šSource/Result Delosé£æ ¼
â”‚   â”‚       â”œâ”€â”€ ProcessorNode.tsx      # æ–°å¢ï¼šèƒ½åŠ›èŠ‚ç‚¹ï¼ˆglass-light å¡ç‰‡ï¼‰
â”‚   â”‚       â”œâ”€â”€ AddButtonEdge.tsx      # å·²æœ‰ï¼Œé‡æ„ï¼šaccentå‘å…‰è¿çº¿ + æµ®ç°+æŒ‰é’®
â”‚   â”‚       â”œâ”€â”€ IntentPanel.tsx        # æ–°å¢ï¼šå·¦ä¾§å‚è€ƒè¾“å…¥é¢æ¿ï¼ˆglass-mediumï¼‰
â”‚   â”‚       â”œâ”€â”€ ParamEditor.tsx        # æ–°å¢ï¼šå³ä¾§å‚æ•°ç¼–è¾‘é¢æ¿ï¼ˆglass-medium, slide-inï¼‰
â”‚   â”‚       â”œâ”€â”€ RoutePreview.tsx       # æ–°å¢ï¼šBottom Bar é“¾è·¯æ¦‚è§ˆ
â”‚   â”‚       â”œâ”€â”€ GenerationComposerModal.tsx  # å·²æœ‰ï¼Œå¤ç”¨
â”‚   â”‚       â””â”€â”€ types.ts              # å·²æœ‰ï¼Œæ‰©å±•èŠ‚ç‚¹ç±»å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ workspace/
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx                # é‡æ„ï¼šæš—è‰²ç»ç’ƒä¾§è¾¹æ 
â”‚   â”‚   â””â”€â”€ ...                        # å…¶ä»– workspace ç»„ä»¶æš—è‰²é€‚é…
â”‚   â”‚
â”‚   â””â”€â”€ common/
â”‚       â”œâ”€â”€ PhotoUploader.tsx          # æ–°å¢ï¼šæ‹–å…¥/ä¸Šä¼ /ç²˜è´´ (è™šçº¿è¾¹æ¡†â†’accent)
â”‚       â””â”€â”€ ShareModal.tsx             # æ–°å¢ï¼šåˆ†äº«å¼¹çª— (glass-heavy Modal)
â”‚
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ visualEditorStore.ts           # å·²æœ‰ï¼Œæ‰©å±•ï¼šIntentRouterçŠ¶æ€
â”‚   â””â”€â”€ discoverStore.ts              # æ–°å¢ï¼šå‘ç°TabçŠ¶æ€
â”‚
â””â”€â”€ services/
    â”œâ”€â”€ intentRouterApi.ts             # æ–°å¢ï¼šIntent Router API è°ƒç”¨
    â”œâ”€â”€ capabilityApi.ts               # æ–°å¢ï¼šèƒ½åŠ›æ‰§è¡Œ API è°ƒç”¨
    â””â”€â”€ templateApi.ts                 # æ–°å¢ï¼šæ¨¡æ¿ CRUD API
```

### 8.3 ProcessorNode ç»„ä»¶è®¾è®¡

**èŠ‚ç‚¹è§†è§‰è§„èŒƒ**ï¼ˆå‚è€ƒ HiggsField Cinema Studio çš„æ­¥éª¤å¡ç‰‡ï¼‰ï¼š

```
â”Œâ”€ ProcessorNode â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  glass-light bg + border-dim             â”‚
â”‚  rounded-16px                            â”‚
â”‚  width: 200px                            â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€ header (glass-subtle) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â—‡ æ¢å‘è‰²             HAIR COLOR  â”‚  â”‚  â† å›¾æ ‡ + ä¸­æ–‡å + Capè‹±æ–‡
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                  â”‚    â”‚
â”‚  â”‚  é¢„è§ˆç¼©ç•¥å›¾ (ç”Ÿæˆåæ˜¾ç¤º)          â”‚    â”‚  â† åœ†è§’12px, aspect 4:3
â”‚  â”‚  æœªç”Ÿæˆæ—¶: void-surface           â”‚    â”‚     æœªç”Ÿæˆ: æç»†è™šçº¿è¾¹æ¡†
â”‚  â”‚  + æç»†è™šçº¿ + â—‡ å›¾æ ‡              â”‚    â”‚
â”‚  â”‚                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                          â”‚
â”‚  å†·æ£•è‰² Â· 0.5              Monoå­—ä½“      â”‚  â† å‚æ•°æ‘˜è¦, JetBrains Mono
â”‚                                          â”‚
â”‚  â”Œâ”€ çŠ¶æ€æ¡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  â—‹ READY                       â”‚      â”‚  â† çŠ¶æ€æ–‡å­—, Capå­—ä½“
â”‚  â”‚  â—‰ PROCESSING â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 60%      â”‚      â”‚     processing: accentè„‰å†²
â”‚  â”‚  âœ“ COMPLETE                    â”‚      â”‚     complete: success è‰²
â”‚  â”‚  âœ• FAILED                      â”‚      â”‚     failed: error è‰²
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                          â”‚
â”‚  Hover æ—¶åº•éƒ¨æ»‘å…¥æ“ä½œæ ï¼š                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  [ç¼–è¾‘]  [æ›¿æ¢]  [åˆ é™¤]          â”‚     â”‚  â† ghostæŒ‰é’®, text-secondary
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çŠ¶æ€è§†è§‰æ˜ å°„ï¼š
  READY      â†’  â—‹ text-tertiary
  PROCESSING â†’  â—‰ accent-core è„‰å†² + è¿›åº¦æ¡ accent-core
  COMPLETE   â†’  âœ“ success è‰² + é¢„è§ˆå›¾æ˜¾ç¤º
  FAILED     â†’  âœ• error è‰² + ç‚¹å‡»é‡è¯•

é€‰ä¸­æ€ï¼š
  border â†’ border-accent + accent-glow å¤–å‘å…‰ï¼ˆ0 0 20px accent-glowï¼‰
  å³ä¾§ ParamEditor é¢æ¿å±•å¼€ï¼ˆ500ms slide-inï¼‰
```

**ParamEditor ä¾§é¢æ¿**ï¼ˆç”»å¸ƒå³ä¾§å±•å¼€ï¼Œå‚è€ƒ Stability.ai Dream Studio å‚æ•°é¢æ¿ï¼‰ï¼š

```
â”Œâ”€ ParamEditor (glass-medium, 300px) â”€â”€â”€â”€â”€â”
â”‚  backdrop-blur-xl                        â”‚
â”‚  border-left: 1px border-dim             â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€ header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â—‡ æ¢å‘è‰²                          â”‚  â”‚
â”‚  â”‚  HAIR COLOR                        â”‚  â”‚  â† Capå­—ä½“, text-tertiary
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚  TARGET COLOR                  Capæ ‡ç­¾   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  â—‰ å†·æ£•è‰²                   â–¼  â”‚      â”‚  â† glass-subtle + border-dim
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚     focus: border-accent
â”‚                                          â”‚
â”‚  INTENSITY                     Capæ ‡ç­¾   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  0.5    â”‚  â† æ»‘å—: track void-surface
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚     thumb: accent-core å‘å…‰
â”‚                                          â”‚     æ•°å€¼: Monoå­—ä½“
â”‚  PROMPT                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  å°†å‘è‰²ä»é»‘è‰²è‡ªç„¶è¿‡æ¸¡ä¸ºå†·æ£•è‰²ï¼Œâ”‚      â”‚  â† glass-subtle textarea
â”‚  â”‚  ä¿æŒå‘å‹å’Œå…‰æ³½               â”‚      â”‚     focus: border-accent
â”‚  â”‚                                â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                          â”‚
â”‚  â”€â”€ border-dim åˆ†éš”çº¿ â”€â”€                 â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€ AI INSIGHT (glass-subtle) â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â—‡ å†·æ£•è‰²ä¸æš–é»„è‚¤è‰²å½¢æˆå¯¹æ¯”ï¼Œ      â”‚  â”‚  â† text-secondary, italic
â”‚  â”‚    æå‡é¢éƒ¨è½®å»“æ„Ÿ                   â”‚  â”‚     accent-dim èƒŒæ™¯
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚                                          â”‚
â”‚  [ âœ¦ APPLY ]                             â”‚  â† accent-core, å±…ä¸­
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å±•å¼€åŠ¨ç”»: 
  width 0â†’300px + opacity 0â†’1
  duration 500ms
  ease [0.16,1,0.3,1]
  é¢æ¿å†…å…ƒç´  stagger 80ms fadeIn
```

### 8.4 å…³é”®é¡µé¢é‡è®¾è®¡è§„èŒƒ

#### Login é¡µé¢

**ä»**ï¼šç™½è‰²åˆ†å±å¸ƒå±€ï¼ˆ#FAFAFA bg + white card + gray bordersï¼‰  
**åˆ°**ï¼šå…¨å± void-deep æš—è‰² + å±…ä¸­ glass-heavy è¡¨å•é¢æ¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  void-deep bg                                                   â”‚
â”‚  void-grid ææ·¡ç½‘æ ¼èƒŒæ™¯                                         â”‚
â”‚                                                                 â”‚
â”‚                 â”Œâ”€ glass-heavy é¢æ¿ (480px) â”€â”€â”€â”€â”              â”‚
â”‚                 â”‚  rounded-20px                  â”‚              â”‚
â”‚                 â”‚  border border-dim             â”‚              â”‚
â”‚                 â”‚  backdrop-blur-2xl             â”‚              â”‚
â”‚                 â”‚                                â”‚              â”‚
â”‚                 â”‚  â—‡ LEPUS              â”‚              â”‚
â”‚                 â”‚  AI CREATIVE ENGINE   Capå­—ä½“  â”‚              â”‚
â”‚                 â”‚                                â”‚              â”‚
â”‚                 â”‚  Sign in to continue           â”‚              â”‚
â”‚                 â”‚                                â”‚              â”‚
â”‚                 â”‚  EMAIL                Capæ ‡ç­¾  â”‚              â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚                 â”‚  â”‚ glass-subtle input       â”‚  â”‚              â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚                 â”‚                                â”‚              â”‚
â”‚                 â”‚  PASSWORD              Capæ ‡ç­¾  â”‚              â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚                 â”‚  â”‚ glass-subtle input       â”‚  â”‚              â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚                 â”‚                                â”‚              â”‚
â”‚                 â”‚  [ âœ¦ SIGN IN ]  accent-core   â”‚              â”‚
â”‚                 â”‚                                â”‚              â”‚
â”‚                 â”‚  â”€â”€ or â”€â”€                      â”‚              â”‚
â”‚                 â”‚                                â”‚              â”‚
â”‚                 â”‚  [ â—‡ Continue with Google ]    â”‚              â”‚
â”‚                 â”‚     ghost æŒ‰é’®                 â”‚              â”‚
â”‚                 â”‚                                â”‚              â”‚
â”‚                 â”‚  text-tertiary åº•éƒ¨é“¾æ¥         â”‚              â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                 â”‚
â”‚  åº•éƒ¨: Â© 2026 LEPUS AI  text-tertiary Cap              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åŠ¨ç”»:
  é¡µé¢è¿›å…¥: é¢æ¿ scaleIn 600ms
  è¡¨å•å…ƒç´ : stagger 80ms fadeUp
  æˆåŠŸçŠ¶æ€: accent-glow è„‰å†²æ‰©æ•£ â†’ è·¯ç”±è·³è½¬
```

#### TopBar å¯¼èˆªï¼ˆæ›¿ä»£ Sidebarï¼‰

**ä»**ï¼šå›ºå®šå·¦ä¾§ç™½è‰² Sidebar (256px)  
**åˆ°**ï¼šé¡¶éƒ¨å›ºå®š glass-subtle å¯¼èˆªæ¡ (56px)

**è®¾è®¡ç†ç”±**ï¼š
- Westworld ç¾å­¦è¦æ±‚æ°´å¹³å»¶å±•ã€æç®€
- å‚è€ƒ HiggsField / Stability.ai é¡¶éƒ¨å¯¼èˆª
- é‡Šæ”¾æ›´å¤šæ°´å¹³ç©ºé—´ç»™ç”»å¸ƒ

```
â”Œâ”€ TopBar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  glass-subtle bg + backdrop-blur-xl                             â”‚
â”‚  h-14 (56px)                                                    â”‚
â”‚  border-bottom: 1px border-dim                                  â”‚
â”‚                                                                 â”‚
â”‚  â—‡ LEPUS    â”‚   DISCOVER   CANVAS   WORKSPACE   â”‚  [â—] â”‚
â”‚  logo + Capæ ‡ç­¾      â”‚   Tabåˆ‡æ¢ (text-secondary            â”‚ å¤´åƒ â”‚
â”‚                      â”‚   active: text-primary + åº•éƒ¨        â”‚      â”‚
â”‚                      â”‚   accent-core 2px æŒ‡ç¤ºçº¿)            â”‚      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tab åˆ‡æ¢äº¤äº’:
  æœªé€‰ä¸­: text-secondary, hover â†’ text-primary
  é€‰ä¸­:   text-primary + åº•éƒ¨ accent-core æŒ‡ç¤ºçº¿ (2px)
  æŒ‡ç¤ºçº¿: layoutId åŠ¨ç”»è·Ÿéšåˆ‡æ¢ï¼ˆFramer Motion AnimatePresenceï¼‰
  åˆ‡æ¢: 300ms ease-out
```

#### TemplateUseModalï¼ˆä½¿ç”¨æ¨¡æ¿å¼¹çª—ï¼‰

**å‚è€ƒ**ï¼šHiggsField çš„ Character Lock + Reference Anchor å·¥ä½œæµ

```
â”Œâ”€ Modal (glass-heavy, 640px) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  backdrop: void-deep / 80%                                      â”‚
â”‚  rounded-20px                                                   â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ç”©å‘å˜è‰²  Â·  HAIR COLOR                        [âœ•]   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚  STEP 1 Â· UPLOAD YOUR PHOTO                       Capæ ‡ç­¾      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                                                        â”‚     â”‚
â”‚  â”‚   â—‡ æ‹–å…¥æˆ–ç‚¹å‡»ä¸Šä¼                                       â”‚     â”‚
â”‚  â”‚   glass-subtle + è™šçº¿ border-dim                        â”‚     â”‚
â”‚  â”‚   hover â†’ border-accent                                â”‚     â”‚
â”‚  â”‚                                                        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚  STEP 2 Â· CUSTOMIZE (optional)                    Capæ ‡ç­¾      â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ å‚æ•°å¾®è°ƒåŒº (glass-subtle) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ç›®æ ‡å‘è‰²     [å†·æ£•è‰² â–¼]                                â”‚     â”‚
â”‚  â”‚  è¿‡æ¸¡æ•ˆæœ     [å¿«ç”©å˜èº« â–¼]                               â”‚     â”‚
â”‚  â”‚  è§†é¢‘æ—¶é•¿     [â”€â”€â”€â”€â—â”€â”€â”€] 8s                             â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚  é¢„è®¡æ¶ˆè€— 6 Credits Â· ~45s                 Monoå­—ä½“             â”‚
â”‚                                                                 â”‚
â”‚  [ âœ¦ GENERATE ]                           accent-core å…¨å®½      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ­¥éª¤æ ‡ç­¾è§†è§‰:
  STEP 1 â†’ accent-core åœ†ç‚¹ + Capå­—ä½“
  STEP 2 â†’ text-tertiary åœ†ç‚¹ + Capå­—ä½“ï¼ˆå®Œæˆåå˜ accentï¼‰
  å‚è€ƒ HiggsField Cinema Studio çš„ 8-step çº¿æ€§æµè§†è§‰
```

---

## ä¹ã€æ‰§è¡Œè®¡åˆ’

### Phase 0ï¼šåŸºç¡€å‡†å¤‡ï¼ˆ1å‘¨ï¼‰

| ä»»åŠ¡ | è¯´æ˜ |
|------|------|
| **Delos è®¾è®¡ç³»ç»Ÿ** | `tailwind.config.js` æ‰©å±• void/glass/accent tokensï¼Œ`globals.css` æ–°å¢ glass-panel/void-grid/dark-scrollbar ç­‰ utilities |
| **Framer Motion é›†æˆ** | `src/lib/motion.ts` åŠ¨ç”»é¢„è®¾ï¼Œ`src/lib/cn.ts` å·¥å…·é›†ä¸­åŒ– |
| **UI åŸå­ç»„ä»¶** | `src/components/ui/` â€” GlassPanelã€Buttonã€Inputã€Badgeã€Modalã€CapLabel ç­‰ |
| **æš—è‰²åŸºåº•åˆ‡æ¢** | `layout.tsx` body ä» #FAFAFA â†’ void-deepï¼Œå…¨å±€æš—è‰²æ»šåŠ¨æ¡ |
| **TopBar å¯¼èˆª** | ä» Sidebar åˆ‡æ¢ä¸ºé¡¶éƒ¨ glass å¯¼èˆªï¼ˆDISCOVER / CANVAS / WORKSPACEï¼‰ |
| **Login é‡æ„** | æš—è‰² Delos é£æ ¼ç™»å½•é¡µ |
| æ–°å¢æ•°æ®è¡¨ | `trend_templates`, `canvas_sessions`, `user_references` |
| æ–°å¢åç«¯æœåŠ¡éª¨æ¶ | `intent_router_service.py`, `capability_executor_service.py` |
| æ–°å¢ API éª¨æ¶ | `/api/intent/*`, `/api/capabilities/*`, `/api/templates/*`, `/api/canvas/*` |
| èƒ½åŠ›æ³¨å†Œè¡¨åç«¯åŒ– | ä»å‰ç«¯ GenerationComposerModal æå–ä¸ºåç«¯ CapabilityRegistry |

### Phase 1ï¼šTrend Feed MVPï¼ˆ2å‘¨ï¼‰

**ç›®æ ‡**ï¼šç”¨æˆ·èƒ½ä» Feed é€‰æ¨¡æ¿ â†’ ä¼ ç…§ç‰‡ â†’ å‡ºè§†é¢‘ã€‚

| ä»»åŠ¡ | è¯´æ˜ |
|------|------|
| `discover/page.tsx` | Trend Feed é¡µé¢ï¼Œæ¨¡æ¿ç€‘å¸ƒæµ |
| `TemplateCard.tsx` | æ¨¡æ¿å¡ç‰‡ç»„ä»¶ï¼ˆé¢„è§ˆè§†é¢‘ + ä½¿ç”¨è®¡æ•° + [ç”¨æˆ‘çš„è„¸] æŒ‰é’®ï¼‰ |
| `TemplateUseModal.tsx` | ä½¿ç”¨å¼¹çª—ï¼ˆä¸Šä¼ ç…§ç‰‡ â†’ å¯é€‰å‚æ•°å¾®è°ƒ â†’ ç”Ÿæˆ â†’ ç»“æœé¢„è§ˆ â†’ åˆ†äº«ï¼‰ |
| `POST /api/templates/:id/use` | æ¨¡æ¿ä½¿ç”¨æ¥å£ï¼ˆæ¥æ”¶ç…§ç‰‡ â†’ æŒ‰æ¨¡æ¿routeæ‰§è¡Œ â†’ è¿”å›è§†é¢‘ï¼‰ |
| `CapabilityExecutorService` | èƒ½åŠ›é“¾è·¯æ‰§è¡Œå™¨ï¼ˆæŒ‰routeé¡ºåºè°ƒç”¨Kling APIï¼‰ |
| é¦–æ‰¹ 5-10 ä¸ªæ¨¡æ¿ | æ‰‹åŠ¨åˆ¶ä½œå¹¶å…¥åº“ï¼Œè¦†ç›–ï¼šæ¢è£…Ã—2, å‘è‰²Ã—2, åœºæ™¯Ã—2, æ··åˆÃ—4 |
| åˆ†äº«åŠŸèƒ½ | è§†é¢‘ä¸‹è½½ + ç”Ÿæˆå¸¦äºŒç»´ç çš„åˆ†äº«å›¾ |

**éªŒè¯æŒ‡æ ‡**ï¼šæ–°ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨åˆ°å‡ºè§†é¢‘ < 60ç§’ï¼Œåˆ†äº«ç‡ > 30%

### Phase 2ï¼šIntent Router + ç”»å¸ƒæ ¸å¿ƒï¼ˆ3å‘¨ï¼‰

**ç›®æ ‡**ï¼šç”¨æˆ·èƒ½åœ¨ç”»å¸ƒä¸Šæ”¾ç…§ç‰‡+å‚è€ƒå›¾ â†’ AIè‡ªåŠ¨ç”Ÿæˆèƒ½åŠ›é“¾è·¯ã€‚

| ä»»åŠ¡ | è¯´æ˜ |
|------|------|
| `IntentRouterService` | æ ¸å¿ƒè·¯ç”±æœåŠ¡ï¼ˆå›¾åƒåˆ†æ + LLMç¼–æ’ + é“¾è·¯è¾“å‡ºï¼‰ |
| `POST /api/intent/analyze` | æ„å›¾åˆ†ææ¥å£ |
| `IntentPanel.tsx` | ç”»å¸ƒä¸Šçš„å‚è€ƒå›¾/æ–‡å­—è¾“å…¥é¢æ¿ |
| `ProcessorNode.tsx` | èƒ½åŠ›èŠ‚ç‚¹æ¸²æŸ“ç»„ä»¶ |
| `ParamEditor.tsx` | èƒ½åŠ›å‚æ•°ç¼–è¾‘é¢æ¿ |
| ç”»å¸ƒ â†’ èŠ‚ç‚¹å›¾ç”Ÿæˆ | IntentRouter è¾“å‡º â†’ React Flow èŠ‚ç‚¹è‡ªåŠ¨å¸ƒå±€ |
| é“¾è·¯æ‰§è¡Œ | [â–¶ ç”Ÿæˆ] æŒ‰é’® â†’ æŒ‰é¡ºåºæ‰§è¡Œæ¯ä¸ªèƒ½åŠ›èŠ‚ç‚¹ |
| SSE è¿›åº¦æ¨é€ | å¤ç”¨ç°æœ‰ `useTaskProgress`ï¼Œæ‰©å±•ä¸ºé“¾è·¯çº§è¿›åº¦ |

**éªŒè¯æŒ‡æ ‡**ï¼šIntentRouter ç”Ÿæˆçš„é“¾è·¯ç”¨æˆ·æ¥å—ç‡ > 60%ï¼ˆä¸ä¿®æ”¹ç›´æ¥ç”Ÿæˆï¼‰

### Phase 3ï¼šç”»å¸ƒæ·±åº¦ + æ¨¡æ¿åŒå‘ï¼ˆ2å‘¨ï¼‰

**ç›®æ ‡**ï¼šç”»å¸ƒå¯è‡ªç”±ç¼–è¾‘ï¼Œæ¨¡æ¿å’Œç”»å¸ƒåŒå‘æµé€šã€‚

| ä»»åŠ¡ | è¯´æ˜ |
|------|------|
| èŠ‚ç‚¹ç¼–è¾‘ | ä¿®æ”¹å‚æ•°ã€æ›¿æ¢èƒ½åŠ›ã€åˆ é™¤ã€æ’å…¥ |
| åˆ†å‰å¯¹æ¯” | ä»åŒä¸€èŠ‚ç‚¹æ‹‰å‡ºå¤šæ¡è·¯çº¿ |
| æ¨¡æ¿ â†’ ç”»å¸ƒ | [åœ¨ç”»å¸ƒä¸­æ‰“å¼€] â†’ æ¨¡æ¿routeå±•å¼€ä¸ºèŠ‚ç‚¹å›¾ |
| ç”»å¸ƒ â†’ æ¨¡æ¿ | [å‘å¸ƒä¸ºæ¨¡æ¿] â†’ é“¾è·¯åºåˆ—åŒ– + é¢„è§ˆè§†é¢‘ + å‘å¸ƒ |
| ç”»å¸ƒä¼šè¯æŒä¹…åŒ– | è‡ªåŠ¨ä¿å­˜/æ¢å¤ç”»å¸ƒçŠ¶æ€ |
| å¯¼å‡ºä¼˜åŒ– | è§†é¢‘æ°´å°ï¼ˆå¯ä»˜è´¹å»é™¤ï¼‰ã€å¤šåˆ†è¾¨ç‡ |

**éªŒè¯æŒ‡æ ‡**ï¼šç”»å¸ƒTab DAU / æ€»DAU > 20%ï¼ŒUGCæ¨¡æ¿å‘å¸ƒé‡ > 0

### Phase 4ï¼šå¢é•¿ + ä¼˜åŒ–ï¼ˆæŒç»­ï¼‰

| ä»»åŠ¡ | è¯´æ˜ |
|------|------|
| æ¨¡æ¿ä¾›ç»™æµæ°´çº¿ | æ¯å‘¨5-10ä¸ªæ–°Trendæ¨¡æ¿ï¼ˆä½ æ‹ + AIè¾…åŠ©ï¼‰ |
| èƒ½åŠ›æ‰©å±• | åŸºäºç”¨æˆ·ä½¿ç”¨æ•°æ®æ–°å¢é«˜éœ€æ±‚èƒ½åŠ› |
| IntentRouter ä¼˜åŒ– | åŸºäºç”¨æˆ·ä¿®æ”¹è¡Œä¸ºæŒç»­ä¼˜åŒ–é“¾è·¯ç”Ÿæˆ |
| ç”¨æˆ·å®¡ç¾ç”»åƒ | åŸºäº user_references ç§¯ç´¯çš„ç‰¹å¾åˆ†æ |
| ç¤¾äº¤åˆ†äº«ä¼˜åŒ– | æ·±åº¦é€‚é…æŠ–éŸ³/å°çº¢ä¹¦çš„åˆ†äº«æ ¼å¼å’Œè¯é¢˜æ ‡ç­¾ |
| æ€§èƒ½ä¼˜åŒ– | èƒ½åŠ›é“¾è·¯å¹¶è¡Œæ‰§è¡Œï¼ˆæ— ä¾èµ–æ­¥éª¤åŒæ—¶è·‘ï¼‰ |

---

## åã€æŠ€æœ¯é£é™© & åº”å¯¹

| é£é™© | å½±å“ | åº”å¯¹ |
|------|------|------|
| **IntentRouter å‡†ç¡®ç‡ä¸å¤Ÿ** | ç”¨æˆ·çœ‹åˆ°é”™è¯¯çš„èƒ½åŠ›é“¾è·¯ â†’ å¤±æœ› | Phase 2 å…ˆåšä¿å®ˆç‰ˆï¼ˆåªè¾“å‡ºé«˜ç½®ä¿¡åº¦çš„å·®å¼‚ï¼‰ï¼Œä¸ç¡®å®šçš„è®©ç”¨æˆ·æ‰‹åŠ¨åŠ  |
| **èƒ½åŠ›é“¾è·¯æ‰§è¡Œæ…¢** | 3-4æ­¥ä¸²è¡Œ â†’ æ€»æ—¶é—´å¯èƒ½2-3åˆ†é’Ÿ | å‰é¢æ­¥éª¤ç”¨omni-imageï¼ˆå¿«ï¼‰ï¼Œåªæœ€åä¸€æ­¥ç”¨è§†é¢‘ç”Ÿæˆï¼ˆæ…¢ï¼‰ï¼›ä¸­é—´æ­¥éª¤å¯é¢„è§ˆé™æ€ç»“æœ |
| **Kling API æˆæœ¬é«˜** | æ¯æ¬¡æ‰§è¡Œå¤šä¸ªAPIè°ƒç”¨ | Creditså®šä»·è¦†ç›–æˆæœ¬ï¼›ç¼“å­˜ç›¸åŒå‚æ•°çš„ç»“æœï¼›ä¸­é—´æ­¥éª¤å…±äº«omni-imageè°ƒç”¨ |
| **omni-image å±€éƒ¨é‡ç»˜è´¨é‡** | æ¢å‘è‰²/æ¢è¡£æœæ•ˆæœä¸è‡ªç„¶ | ä¼˜åŒ–promptæ¨¡æ¿ï¼›ç§¯ç´¯é«˜è´¨é‡promptåº“ï¼›å…è®¸ç”¨æˆ·é‡è¯• |
| **Golden Preset ä¸åŒ¹é…** | è¿‡æ¸¡æ•ˆæœä¸å˜èº«å†…å®¹ä¸æ­ | IntentRouter åŒ…å« preset æ¨èé€»è¾‘ï¼›å…è®¸ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹© |
| **UGCæ¨¡æ¿è´¨é‡å‚å·®** | ä½è´¨é‡æ¨¡æ¿å½±å“Feedä½“éªŒ | å®¡æ ¸æœºåˆ¶ï¼ˆè‡ªåŠ¨è´¨é‡è¯„åˆ† + äººå·¥å®¡æ ¸ï¼‰ï¼›æŒ‰ä½¿ç”¨é‡/è¯„åˆ†æ’åº |

---

## åä¸€ã€æˆåŠŸæŒ‡æ ‡

### åŒ—ææ˜ŸæŒ‡æ ‡
**æ¯å‘¨æ´»è·ƒåˆ›ä½œç”¨æˆ·æ•°ï¼ˆWeekly Active Creatorsï¼‰** â€” è‡³å°‘ç”Ÿæˆè¿‡1ä¸ªè§†é¢‘çš„ç”¨æˆ·

### æ ¸å¿ƒæŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | è¯´æ˜ |
|------|------|------|
| é¦–æ¬¡å‡ºç‰‡ç‡ | > 70% | è¿›å…¥å¹³å°çš„ç”¨æˆ·ä¸­å®Œæˆç¬¬ä¸€ä¸ªè§†é¢‘çš„æ¯”ä¾‹ |
| é¦–æ¬¡å‡ºç‰‡æ—¶é—´ | < 60ç§’ | ä»è¿›å…¥åˆ°ç¬¬ä¸€ä¸ªè§†é¢‘å®Œæˆ |
| åˆ†äº«ç‡ | > 30% | å®Œæˆè§†é¢‘ååˆ†äº«åˆ°å¤–éƒ¨å¹³å°çš„æ¯”ä¾‹ |
| 7æ—¥ç•™å­˜ | > 25% | ç¬¬7å¤©å›æ¥çš„ç”¨æˆ·æ¯”ä¾‹ |
| ç”»å¸ƒä½¿ç”¨ç‡ | > 20% | æ´»è·ƒç”¨æˆ·ä¸­ä½¿ç”¨è¿‡ç”»å¸ƒTabçš„æ¯”ä¾‹ |
| äºŒæ¬¡åˆ›ä½œç‡ | > 40% | å®Œæˆç¬¬ä¸€ä¸ªè§†é¢‘ååšç¬¬äºŒä¸ªçš„æ¯”ä¾‹ |
| ç—…æ¯’ç³»æ•° | > 1.2 | æ¯ä¸ªç”¨æˆ·å¹³å‡å¸¦æ¥çš„æ–°ç”¨æˆ·æ•° |

### è¾…åŠ©æŒ‡æ ‡

| æŒ‡æ ‡ | è¯´æ˜ |
|------|------|
| æ¨¡æ¿ä½¿ç”¨åˆ†å¸ƒ | å“ªç±»æ¨¡æ¿æœ€å—æ¬¢è¿ â†’ æŒ‡å¯¼æ¨¡æ¿ä¾›ç»™æ–¹å‘ |
| IntentRouter æ¥å—ç‡ | AIç”Ÿæˆçš„é“¾è·¯è¢«ç›´æ¥ä½¿ç”¨çš„æ¯”ä¾‹ â†’ ä¼˜åŒ–Router |
| èƒ½åŠ›ä½¿ç”¨åˆ†å¸ƒ | å“ªäº›èƒ½åŠ›æœ€å¸¸ç”¨ â†’ ä¼˜å…ˆä¼˜åŒ– |
| å‚è€ƒå›¾æ¥æºåˆ†å¸ƒ | ç”¨æˆ·çš„å‚è€ƒä»å“ªæ¥ â†’ ç†è§£ç”¨æˆ·åœºæ™¯ |
| ç”»å¸ƒç¼–è¾‘æ·±åº¦ | ç”¨æˆ·åœ¨ç”»å¸ƒä¸Šå¹³å‡ä¿®æ”¹å‡ æ­¥ â†’ è¯„ä¼°ç”»å¸ƒä»·å€¼ |

---

## é™„å½•Aï¼šç°æœ‰æŠ€æœ¯èµ„äº§æ˜ å°„

### åç«¯æœåŠ¡å¤ç”¨æ¸…å•

| å·²æœ‰æœåŠ¡ | åœ¨æ–°äº§å“ä¸­çš„è§’è‰² |
|----------|----------------|
| `visual_separation_service.py` | IntentRouter å›¾åƒåˆ†æï¼ˆäººç‰©/è¡£ç‰©/èƒŒæ™¯åˆ†ç¦»ï¼‰ |
| `edit_intent_classifier.py` | IntentRouter æ„å›¾åˆ†ç±»ï¼ˆæ‰©å±•ä¸ºå¤šæ­¥éª¤ï¼‰ |
| `template_ingest_service.py` | Trendæ¨¡æ¿å…¥åº“ï¼ˆä»çˆ†æ¬¾è§†é¢‘æ‹†è§£æ¨¡æ¿ï¼‰ |
| `template_render_service.py` | æ¨¡æ¿æ‰§è¡Œ + Golden Presets |
| `golden_fingerprint_service.py` | è‡ªåŠ¨åŒ¹é…æœ€ä½³è¿‡æ¸¡æ•ˆæœ |
| `template_candidate_service.py` | æ¨¡æ¿æ¨èæ’åº |
| `background_replace_workflow.py` | background èƒ½åŠ›çš„åº•å±‚å®ç° |
| `multi_step_refine_service.py` | omni-image å¤šæ­¥ç²¾ä¿®ï¼ˆæ¢å‘è‰²/æ¢è¡£æœçš„åº•å±‚ï¼‰ |
| `video_element_replace_service.py` | è§†é¢‘çº§å…ƒç´ æ›¿æ¢ |
| `kling_client.py` | ç»Ÿä¸€ Kling API å®¢æˆ·ç«¯ |
| `llm/service.py` | LLMè°ƒç”¨ï¼ˆIntentRouterã€æ¨¡æ¿åˆ†æï¼‰ |
| `face_detector.py` | é¢éƒ¨ç‰¹å¾åˆ†æ |
| `video_generation/model_catalog.py` | æ¨¡å‹å‚æ•°æ³¨å†Œè¡¨ |
| `transform_rules.py` | è¿é•œè§„åˆ™å¼•æ“ |
| `ai_capability_service.py` | AIèƒ½åŠ›ç¼–æ’ï¼ˆå¯é‡æ„ä¸ºæ–°çš„ CapabilityExecutorï¼‰ |

### å‰ç«¯ç»„ä»¶å¤ç”¨æ¸…å•

| å·²æœ‰ç»„ä»¶ | åœ¨æ–°äº§å“ä¸­çš„è§’è‰² |
|----------|----------------|
| `WorkflowCanvas.tsx` | ç”»å¸ƒæ ¸å¿ƒï¼ˆæ‰©å±•ä¸ºæ–°çš„äº¤äº’æ¨¡å‹ï¼‰ |
| `ClipNode.tsx` | Source/Result èŠ‚ç‚¹æ¸²æŸ“ï¼ˆæ‰©å±•è§’è‰²æ ‡è®°ï¼‰ |
| `AddButtonEdge.tsx` | èŠ‚ç‚¹é—´ + æŒ‰é’®ï¼ˆå¤ç”¨ï¼‰ |
| `GenerationComposerModal.tsx` | èƒ½åŠ›æ³¨å†Œè¡¨æ•°æ®æºï¼ˆæå– CapabilityRegistryï¼‰ |
| `useTaskProgress.ts` | SSE ä»»åŠ¡è¿›åº¦æ¨é€ï¼ˆå¤ç”¨ï¼‰ |
| `useNodeAlignment.ts` | èŠ‚ç‚¹å¯¹é½å¸é™„ï¼ˆå¤ç”¨ï¼‰ |
| `MaterialPickerModal.tsx` | ç´ æé€‰æ‹©å™¨ï¼ˆå¤ç”¨ä¸ºç…§ç‰‡/å‚è€ƒå›¾é€‰æ‹©ï¼‰ |
| `KeyframeEditor.tsx` | ç²¾ä¿®äº¤äº’ï¼ˆéƒ¨åˆ†å¤ç”¨ï¼‰ |

### æ•°æ®åº“å¤ç”¨æ¸…å•

| å·²æœ‰è¡¨ | ç”¨é€” |
|--------|------|
| `tasks` | èƒ½åŠ›æ‰§è¡Œä»»åŠ¡è¿½è¸ª |
| `assets` | ä¸Šä¼ ç…§ç‰‡/ç´ æå­˜å‚¨ |
| `ai_model_credits` | èƒ½åŠ›Creditsè®¡ä»· |
| `user_credits` + `credit_transactions` | ç”¨æˆ·é¢åº¦ |
| `user_profiles` | ç”¨æˆ·ä¿¡æ¯ |
| `template_records` | æ¨¡æ¿æ•°æ®ï¼ˆè¿ç§»åˆ° trend_templatesï¼‰ |

---

## é™„å½•Bï¼šKling API èƒ½åŠ›æ˜ å°„

| äº§å“èƒ½åŠ› | Kling API | æ¨¡å‹ | å¤‡æ³¨ |
|----------|----------|------|------|
| æ¢å‘è‰² | `/v1/images/generations` (omni-image) | kolors-v2-1 | å±€éƒ¨é‡ç»˜ï¼Œéœ€è¦å‘åŒºmaskæç¤º |
| æ¢ç©¿æ­ | `/v1/images/generations` (omni-image) | kolors-v2-1 | è¡£ç‰©åŒºåŸŸé‡ç»˜ |
| æ¢åœºæ™¯ | `/v1/images/generations` (omni-image) + åˆæˆ | kolors-v2-1 | èƒŒæ™¯åˆ†ç¦»â†’æ–°èƒŒæ™¯â†’åˆæˆ |
| æ¢æ‰“å…‰ | `/v1/images/generations` (omni-image) | kolors-v2-1 | å…¨å›¾lighting prompt |
| é£æ ¼å˜æ¢ | `/v1/images/generations` (omni-image) | kolors-v2-1 | å…¨å›¾é£æ ¼prompt |
| åŠ¨ä½œè¿ç§» | `/v1/videos/motion` | kling-v1-6 | å‚è€ƒè§†é¢‘é©±åŠ¨ |
| è§’åº¦å˜æ¢ | `/v1/images/generations` (omni-image) | kolors-v2-1 | å¤šè§’åº¦ç”Ÿæˆ |
| è´¨æ„Ÿå¢å¼º | `/v1/images/generations` (omni-image) | kolors-v2-1 | refinement prompt |
| å›¾â†’è§†é¢‘ | `/v1/videos/image2video` | kling-v2-6 | æœ€ç»ˆè¿‡æ¸¡è§†é¢‘ç”Ÿæˆ |
| å¤šå›¾â†’è§†é¢‘ | `/v1/videos/multi-image2video` | kling-v2-6 | Before/After â†’ è¿‡æ¸¡è§†é¢‘ |
| æ¢è„¸ | `/v1/face/swap` | â€” | å¯é€‰ï¼šä¿æŒäººç‰©ä¸€è‡´æ€§ |
