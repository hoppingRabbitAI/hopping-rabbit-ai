# AI å¢å¼ºä¸é£æ ¼èƒ½åŠ›é›†æˆæ–¹æ¡ˆï¼ˆPRDï¼‰

> **çŠ¶æ€**ï¼šDraft v2ï¼ˆèå…¥æˆ˜ç•¥å†³ç­–ï¼‰  
> **æ—¥æœŸ**ï¼š2026-02-12  
> **å¯¹æ ‡äº§å“**ï¼šHiggsfield AIï¼ˆSkin Enhancer / Relight / Outfit Swap / AI Stylist / Outfit Shotï¼‰  
> **ç›®æ ‡**ï¼šå°†ã€Œç¾é¢œæ‰“å…‰ / æ¢è£…è¯•ç©¿ / AI ç©¿æ­ / AI ç©¿æ­å†…å®¹ã€äº”å¤§èƒ½åŠ›èå…¥ Lepus AI ç”»å¸ƒèŠ‚ç‚¹ä½“ç³»ï¼Œç»Ÿä¸€å¤ç”¨ç°æœ‰ GenerationComposerModal + Capability Registry æ¶æ„ã€‚

---

## 0. åŒ—ææ˜Ÿä¸äº§å“å®šä½

Lepus AI æ­£ä»"å£æ’­å‰ªè¾‘å·¥å…·"å‘ **"å‚è€ƒå›¾é©±åŠ¨çš„ AI åˆ›ä½œå¹³å°"** è¿›åŒ–ï¼Œæ ¸å¿ƒæœåŠ¡ **ç”µå•†ç©¿æ­åšä¸»ã€è®¾è®¡å¸ˆå’Œå†…å®¹åˆ›ä½œè€…**ã€‚å£æ’­åœºæ™¯ä»æ”¯æŒï¼Œä½†ä¸å†æ˜¯å”¯ä¸€ä¸»çº¿â€”â€”ç©¿æ­ / æ¢è£… / å•†å“å±•ç¤ºæ˜¯æ–°å¢é•¿æã€‚

> **æˆ˜ç•¥åŸåˆ™**ï¼šCanvas-first â€” å…ˆåœ¨ç”»å¸ƒé‡ŒæŠŠèƒ½åŠ›åšæ‰å®ï¼ŒéªŒè¯ PMF åå†è€ƒè™‘ç‹¬ç«‹å·¥å…·å…¥å£ã€‚

ç°æœ‰ç”»å¸ƒå·²å…·å¤‡ 9 ä¸ª AI èƒ½åŠ›ï¼ˆlip_sync / text_to_video / image_to_video / multi_image_to_video / motion_control / video_extend / face_swap / image_generation / omni_imageï¼‰ã€‚æœ¬æ¬¡æ–°å¢ **5 ä¸ªé¢å‘äººåƒ/ç©¿æ­åœºæ™¯çš„å¢å¼ºèƒ½åŠ›**ï¼Œå½¢æˆå®Œæ•´çš„ **Enhance & Style** èƒ½åŠ›ç»„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Lepus AI èƒ½åŠ›çŸ©é˜µ                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¿®å¤å¢å¼º (repair)                                                    â”‚
â”‚    âœ… å£å‹åŒæ­¥ Â· âœ… å£°éŸ³ä¼˜åŒ–                                          â”‚
â”‚    ğŸ†• çš®è‚¤ç¾åŒ– (Skin Enhance) Â· ğŸ†• AI æ‰“å…‰ (Relight)                â”‚
â”‚                                                                      â”‚
â”‚  ç»“æ„ç¼–è¾‘ (structure)                                                 â”‚
â”‚    âœ… AI æ¢è„¸ Â· âœ… Omni-Image                                        â”‚
â”‚    ğŸ†• æ¢è£…è¯•ç©¿ (Outfit Swap / VTON)                                  â”‚
â”‚                                                                      â”‚
â”‚  é£æ ¼ç”Ÿæˆ (style)                                                     â”‚
â”‚    âœ… æ–‡ç”Ÿè§†é¢‘ Â· âœ… å›¾åƒç”Ÿæˆ                                          â”‚
â”‚    ğŸ†• AI ç©¿æ­å¸ˆ (AI Stylist) Â· ğŸ†• AI ç©¿æ­å†…å®¹ (Outfit Shot)             â”‚
â”‚                                                                      â”‚
â”‚  åŠ¨æ€åŒ– (dynamic)                                                     â”‚
â”‚    âœ… å›¾ç”Ÿè§†é¢‘ Â· âœ… å¤šå›¾ç”Ÿè§†é¢‘ Â· âœ… åŠ¨ä½œæ§åˆ¶ Â· âœ… è§†é¢‘å»¶é•¿            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 0.1 å…³é”®æˆ˜ç•¥å†³ç­–ï¼ˆ2026-02-12 ç¡®è®¤ï¼‰

| # | å†³ç­–ç‚¹ | ç»“è®º |
|---|--------|------|
| 1 | **ç›®æ ‡ç”¨æˆ·** | ç”µå•†ç©¿æ­åšä¸» > è®¾è®¡å¸ˆ > æ™®é€šç”¨æˆ·ã€‚å£æ’­åˆ›ä½œè€…ä¼˜å…ˆçº§é™ä½ |
| 2 | **ç‹¬ç«‹å…¥å£** | âŒ æš‚ä¸åšã€‚Canvas-firstï¼ŒåŠŸèƒ½åšå¥½å†æ‹“å±• |
| 3 | **Pipeline / Recipe** | âœ… å¥½æ–¹å‘ï¼Œåç»­è€ƒè™‘ã€‚å…è®¸ç”¨æˆ·ç¼–æ’å¤šæ­¥ AI å·¥ä½œæµ |
| 4 | **Credits å®šä»·** | ğŸ†“ åˆæœŸå…¨éƒ¨å…è´¹ï¼Œåç»­å†å®šä»· |
| 5 | **è®¢é˜…æ¨¡å‹** | PRO / Basic ç­‰çº§åˆ¶ï¼Œæ‰€æœ‰èƒ½åŠ›å¼€æ”¾ï¼Œé€ base credits + å¯è´­ä¹° credit åŒ… |
| 6 | **è¾“å…¥è´¨é‡å…œåº•** | æ¨¡å‹æ•ˆæœå·²è¶³å¤Ÿå¥½ï¼›å…œåº•æ–¹æ¡ˆ = ç”¨æˆ·åœ¨ Assets ç»´æŠ¤å¤šç»´åº¦æ•°å­—äºº |
| 7 | **å¥—è£…ç›®å½•** | V1 å…ˆä¸åš Galleryï¼Œå¼•å¯¼ç”¨æˆ·ä¸Šä¼ ã€‚V2 å†è€ƒè™‘ç­–åˆ’ç›®å½• |
| 8 | **AI Engine æŠ½è±¡å±‚** | âš ï¸ å½“å‰ä¸å­˜åœ¨ï¼Œéœ€è¦ä½œä¸º **P0** å»ºè®¾ |
| 9 | **Relight å…‰çƒ** | ä¿ç•™ç›´è§‰åŒ–ä½“éªŒã€‚å¦‚ Three.js æˆæœ¬è¿‡é«˜ï¼Œè°ƒç ” Canvas 2D / SVG æ›¿ä»£ |
| 10 | **èŠ‚ç‚¹è§’è‰²æ£€æµ‹** | éœ€è¦è®¾è®¡ï¼šè‡ªåŠ¨è¯†åˆ«èŠ‚ç‚¹æ˜¯"äººåƒ"è¿˜æ˜¯"è¡£ç‰©"ï¼Œä¼˜åŒ–åŒèŠ‚ç‚¹æ¢è£… UX |
| 11 | **æ¢è£…å¤æ‚åº¦** | V1 ä»ç®€ï¼Œå…ˆå¼€å£å­ã€‚ä¸åšå¤æ‚å§¿æ€/å¤šè§’åº¦ |
| 12 | **AI å†™çœŸå®šä½** | âœ… å·²ç¡®è®¤ï¼š**å†…å®¹ç´ æç”Ÿæˆä¸ºä¸»**ï¼ˆç©¿æ­åšä¸»å¯ç›´å‘å°çº¢ä¹¦/æŠ–éŸ³ï¼‰ï¼Œè™šæ‹Ÿè¯•ç©¿é¢„è§ˆä¸ºè¾…ï¼ˆä¾èµ–æ•°å­—äººèµ„äº§ï¼‰ |

### 0.2 æ•°å­—äººèµ„äº§ä½“ç³»ï¼ˆDigital Avatarï¼‰

> è¯¦ç»†è®¾è®¡è§ [DIGITAL_AVATAR_SYSTEM_PRD.md](DIGITAL_AVATAR_SYSTEM_PRD.md)ã€‚
>
> ç®€è¿°ï¼šç”¨æˆ·åœ¨ Assets ä¸­ç»´æŠ¤å¤šç»´åº¦æ•°å­—äººï¼ˆæ­£é¢/ä¾§é¢/å…¨èº«ç…§ + èº«ææ•°æ® + åå¥½ï¼‰ï¼ŒEnhance & Style èƒ½åŠ›å¯è‡ªåŠ¨ fallback åˆ°æ•°å­—äººèµ„äº§ã€‚

### 0.3 Pipeline / Recipe æ¨¡å¼ï¼ˆè¿œæœŸï¼‰

å…è®¸ç”¨æˆ·å°†å¤šæ­¥ AI æ“ä½œç¼–æ’ä¸ºå¯å¤ç”¨çš„ **Recipe**ï¼š

```
Recipe: "ç”µå•†å•†å“å›¾ä¸€é”®ç”Ÿæˆ"
  Step 1: Skin Enhance (natural)
  Step 2: Relight (studio, soft, 5500K)
  Step 3: Outfit Shot (white studio, front, 2 variations)
```

ç”¨æˆ·å¯ä¿å­˜ã€åˆ†äº«ã€ä¸€é”®æ‰§è¡Œã€‚**å½“å‰é˜¶æ®µä¸å®ç°**ï¼Œä½†æ¶æ„è®¾è®¡éœ€é¢„ç•™ Recipe ç¼–æ’çš„å¯èƒ½æ€§ï¼ˆèƒ½åŠ›è¾“å…¥/è¾“å‡ºç±»å‹å…¼å®¹ã€ä»»åŠ¡é“¾ DAG æ”¯æŒï¼‰ã€‚

---

## 1. ç«å“åˆ†æï¼šHiggsfield Enhance & Style ç³»åˆ—

### 1.1 Higgsfield Skin Enhancer

| ç»´åº¦ | åˆ†æ |
|------|------|
| **äº§å“å½¢æ€** | ç‹¬ç«‹ App é¡µé¢ï¼Œä¸Šä¼ äººåƒ â†’ ä¸€é”®å¢å¼º â†’ ä¸‹è½½ |
| **æ ¸å¿ƒåŠŸèƒ½** | è‡ªç„¶çœŸå®çš„çš®è‚¤çº¹ç†å¢å¼ºï¼Œå»æ–‘ç‚¹/çš±çº¹ï¼Œä¿ç•™äº”å®˜ç»†èŠ‚ |
| **è¾“å…¥** | å•å¼ äººåƒç…§ç‰‡ |
| **è¾“å‡º** | ç¾åŒ–åçš„äººåƒç…§ç‰‡ï¼ˆåŒåˆ†è¾¨ç‡ï¼‰ |
| **å‚æ•°** | å¼ºåº¦é¢„è®¾ï¼ˆNatural / Moderate / Glamourï¼‰ |
| **æ ‡ç­¾** | PROï¼ˆä»˜è´¹åŠŸèƒ½ï¼‰ |
| **Credits** | 1-2 credits/å¼  |
| **æŠ€æœ¯çŒœæµ‹** | GAN æˆ– Diffusionï¼ˆGFPGAN/CodeFormer è·¯çº¿ + BiSeNet é¢éƒ¨åˆ†å‰²ï¼‰ |

### 1.2 Higgsfield Relight

| ç»´åº¦ | åˆ†æ |
|------|------|
| **äº§å“å½¢æ€** | ç‹¬ç«‹ App é¡µé¢ï¼Œä¸Šä¼ ç…§ç‰‡ â†’ 3D çƒä½“äº¤äº’è°ƒèŠ‚ç¯å…‰ â†’ ç”Ÿæˆ |
| **æ ¸å¿ƒåŠŸèƒ½** | è°ƒèŠ‚ç¯å…‰ä½ç½®ã€è‰²æ¸©ã€äº®åº¦ï¼Œè½¯/ç¡¬å…‰åˆ‡æ¢ |
| **è¾“å…¥** | å•å¼ äººåƒ/åœºæ™¯ç…§ç‰‡ |
| **è¾“å‡º** | é‡æ–°æ‰“å…‰åçš„ç…§ç‰‡ |
| **å‚æ•°** | ç¯å…‰æ–¹å‘ï¼ˆ3D çƒä½“æ‹–æ‹½ï¼‰ã€Soft/Hardã€Brightnessï¼ˆ0-100%ï¼‰ã€Colorï¼ˆè‰²è½®ï¼‰ |
| **æ ‡ç­¾** | PRO |
| **Credits** | 3-5 credits/å¼  |
| **æŠ€æœ¯çŒœæµ‹** | IC-Lightï¼ˆStable Diffusion + light map conditioningï¼‰æˆ– DPRï¼ˆçƒè°å‡½æ•°æ–¹æ¡ˆï¼‰ |
| **äº®ç‚¹** | 3D çƒä½“ç›´è§‰åŒ–ç¯å…‰æ§åˆ¶ï¼Œæ‰€è§å³æ‰€å¾— |

### 1.3 Higgsfield Outfit Swap

| ç»´åº¦ | åˆ†æ |
|------|------|
| **äº§å“å½¢æ€** | ä¸Šä¼ äººåƒ + ä¸Šä¼ è¡£ç‰©å›¾ â†’ ä¸€é”®æ¢è£… |
| **æ ¸å¿ƒåŠŸèƒ½** | å°†ç”¨æˆ·ä¸Šä¼ çš„è¡£ç‰©åˆæˆåˆ°äººåƒä¸Šï¼Œä¿æŒå§¿æ€å’Œèº«ä»½ |
| **è¾“å…¥** | äººåƒç…§ç‰‡ + è¡£ç‰©ç…§ç‰‡ï¼ˆflat-lay æˆ–ç©¿ç€ç…§ï¼‰ |
| **è¾“å‡º** | æ¢è£…åçš„äººåƒç…§ç‰‡ |
| **å‚æ•°** | è¡£ç‰©åŒºåŸŸï¼ˆä¸Šè£…/ä¸‹è£…/å…¨èº«/è¿è¡£è£™ï¼‰ |
| **æ ‡ç­¾** | æ™®é€šåŠŸèƒ½ |
| **Credits** | 5-8 credits/å¼  |
| **æŠ€æœ¯çŒœæµ‹** | IDM-VTON / OOTDiffusion ç­‰è™šæ‹Ÿè¯•ç©¿æ¨¡å‹ |

### 1.4 Higgsfield AI Stylist

| ç»´åº¦ | åˆ†æ |
|------|------|
| **äº§å“å½¢æ€** | ä¸Šä¼ äººåƒ â†’ å³ä¾§ Outfit Gallery é€‰å¥—è£… â†’ ç”Ÿæˆ |
| **æ ¸å¿ƒåŠŸèƒ½** | ä»ç­–åˆ’å¥½çš„ç©¿æ­ç›®å½•ä¸­æŒ‘é€‰å¥—è£…ï¼ŒAI åˆæˆåˆ°ç”¨æˆ·ç…§ç‰‡ä¸Š |
| **è¾“å…¥** | äººåƒç…§ç‰‡ + ä» Gallery é€‰æ‹©çš„ Outfit ID |
| **è¾“å‡º** | ç©¿ç€é€‰å®šå¥—è£…çš„äººåƒ |
| **å‚æ•°** | Male/Female åˆ‡æ¢ã€Gallery åˆ†ç±»æµè§ˆã€Reset |
| **æ ‡ç­¾** | NEW |
| **Credits** | 5-8 credits/æ¬¡ |
| **ä¸ Outfit Swap åŒºåˆ«** | ä¸éœ€è¦ç”¨æˆ·ä¸Šä¼ è¡£ç‰©ï¼Œä»å¹³å°ç­–åˆ’ç›®å½•é€‰æ‹© |
| **äº®ç‚¹** | Gallery æŒ‰é£æ ¼åˆ†ç±»å±•ç¤ºå®Œæ•´å¥—è£…ï¼ˆå«é…é¥°ï¼‰ï¼Œé™ä½ä½¿ç”¨é—¨æ§› |

### 1.5 Higgsfield Outfit Shot

| ç»´åº¦ | åˆ†æ |
|------|------|
| **äº§å“å½¢æ€** | ä¸Šä¼ è¡£ç‰©ç…§ç‰‡ â†’ AI ç”Ÿæˆç©¿ç€è¯¥è¡£ç‰©çš„æ¨¡ç‰¹å†™çœŸ |
| **æ ¸å¿ƒåŠŸèƒ½** | ä¸éœ€è¦çœŸäººï¼ŒAI ç”Ÿæˆæ¨¡ç‰¹ + ç©¿ä¸Šç”¨æˆ·è¡£ç‰© + ä¸“ä¸šåœºæ™¯ |
| **è¾“å…¥** | 1-3 å¼ è¡£ç‰©ç…§ç‰‡ï¼ˆflat-lay / æŒ‚æ‹ / ç™½åº•å›¾ï¼‰ |
| **è¾“å‡º** | AI æ¨¡ç‰¹ç©¿ç€è¯¥è¡£ç‰©çš„å†™çœŸç…§ï¼ˆå¤šè§’åº¦/å¤šåœºæ™¯ï¼‰ |
| **å‚æ•°** | Generation typeï¼ˆè§†é¢‘/å›¾ç‰‡ï¼‰ã€æ¨¡ç‰¹é£æ ¼ |
| **æ ‡ç­¾** | æ— ç‰¹æ®Šæ ‡ç­¾ |
| **Credits** | 8-12 credits/å¼ ï¼ˆå«æ¨¡ç‰¹ç”Ÿæˆï¼‰ |
| **æŠ€æœ¯çŒœæµ‹** | SDXL ç”Ÿæˆæ¨¡ç‰¹ + IDM-VTON åˆæˆ / ç«¯åˆ°ç«¯ Kolors æ–¹æ¡ˆ |
| **äº®ç‚¹** | ç”µå•†åœºæ™¯åˆšéœ€ï¼Œä¸€å¼ è¡£ç‰©å›¾ â†’ N å¥—å†™çœŸ |

---

## 2. äº”å¤§èƒ½åŠ›è¯¦ç»†è®¾è®¡

### 2.1 ğŸ†• çš®è‚¤ç¾åŒ–ï¼ˆSkin Enhanceï¼‰

#### 2.1.1 äº§å“å®šä¹‰

> ä¸€é”®ç¾åŒ–äººåƒçš®è‚¤ï¼Œå»é™¤ç‘•ç–µã€å‡åŒ€è‚¤è‰²ã€ç»†åŒ–æ¯›å­”ï¼ŒåŒæ—¶ä¿ç•™è‡ªç„¶çº¹ç†å’Œäº”å®˜ç»†èŠ‚ã€‚

#### 2.1.2 åœ¨ç”»å¸ƒä¸­çš„ä½ç½®

| ç»´åº¦ | è®¾è®¡ |
|------|------|
| **è§¦å‘ä½ç½®** | èŠ‚ç‚¹å³é”® â†’ ä¿®å¤å¢å¼º â†’ çš®è‚¤ç¾åŒ– |
| **Capability ID** | `skin_enhance` |
| **åˆ†ç±»** | `repair`ï¼ˆä¿®å¤å¢å¼ºï¼‰ |
| **æœ€å°‘è¾“å…¥** | 1ï¼ˆäººåƒå›¾ç‰‡/è§†é¢‘å¸§ï¼‰ |
| **æœ€å¤šè¾“å…¥** | 1 |
| **å…è®¸åª’ä½“ç±»å‹** | `image`ã€`video` |
| **è¾“å‡ºç±»å‹** | `image`ï¼ˆåŒç±»å‹è¾“å‡ºï¼Œè§†é¢‘å–é¦–å¸§å¤„ç†ï¼‰ |

#### 2.1.3 å‚æ•°é¢æ¿

```typescript
interface SkinEnhanceParams {
  // --- åŸºç¡€å‚æ•° ---
  preset: 'natural' | 'moderate' | 'glamour';  // é¢„è®¾å¼ºåº¦
  
  // --- é«˜çº§å‚æ•°ï¼ˆæŠ˜å ï¼‰ ---
  smoothing: number;          // 0.0-1.0ï¼Œç£¨çš®å¼ºåº¦
  wrinkle_removal: number;    // 0.0-1.0ï¼Œå»çš±çº¹
  blemish_removal: boolean;   // è‡ªåŠ¨å»æ–‘
  skin_tone_evening: number;  // 0.0-1.0ï¼Œè‚¤è‰²å‡åŒ€åŒ–
}
```

#### 2.1.4 UX è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  çš®è‚¤ç¾åŒ– Skin Enhance                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚          â”‚  â”‚  ç¾åŒ–å¼ºåº¦                 â”‚        â”‚
â”‚  â”‚  äººåƒ    â”‚  â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”          â”‚        â”‚
â”‚  â”‚  é¢„è§ˆ    â”‚  â”‚  â”‚è‡ªç„¶â”‚é€‚ä¸­â”‚ç²¾è‡´â”‚          â”‚        â”‚
â”‚  â”‚          â”‚  â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜          â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                         â”‚        â”‚
â”‚                â”‚  â–¸ é«˜çº§å‚æ•°               â”‚        â”‚
â”‚                â”‚    ç£¨çš® â”â”â”â”â”â”â”â”â—‹â”â” 0.5  â”‚        â”‚
â”‚                â”‚    å»çš± â”â”â”â”â—‹â”â”â”â”â”â” 0.3  â”‚        â”‚
â”‚                â”‚    å»æ–‘ [âœ“]              â”‚        â”‚
â”‚                â”‚    è‚¤è‰² â”â”â”â”â”â”â—‹â”â”â”â” 0.4  â”‚        â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âœ§ ç¾åŒ–  âœ¦ 1                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.1.5 æŠ€æœ¯å®ç°è·¯å¾„

| å±‚ | æ–¹æ¡ˆ | å¤‡æ³¨ |
|----|------|------|
| **å‰ç«¯** | GenerationComposerModal æ‰©å±• `skin_enhance` | å¤ç”¨ç°æœ‰ä¸¤æ­¥å¼¹çª— |
| **åç«¯ API** | `POST /api/rabbit-hole/skin-enhance` | æ–° Celery Task |
| **AI å¼•æ“** | ä¼˜å…ˆ: Kling AIï¼ˆå¦‚æœ‰ beauty APIï¼‰<br>å¤‡é€‰: GFPGAN + BiSeNet è‡ªéƒ¨ç½² | GAN è·¯çº¿å»¶è¿Ÿ < 3s |
| **å­˜å‚¨** | ç»“æœä¸Šä¼  Supabase Storage â†’ è¿”å› image node | åŒç°æœ‰ omni_image æµç¨‹ |

#### 2.1.6 Credits å®šä»·

> ğŸ†“ **åˆæœŸå…è´¹**ï¼Œåç»­å®šä»·å‚è€ƒï¼š

| æ¨¡å¼ | Credits å‚è€ƒ | å»¶è¿Ÿ |
|------|---------|------|
| å•å¼ å›¾ç‰‡ | **1 credit** | ~2-3s |
| è§†é¢‘å¸§ | **2 credits** | ~5sï¼ˆå–å¸§+å¤„ç†+å›å†™ï¼‰ |

---

### 2.2 ğŸ†• AI æ‰“å…‰ï¼ˆRelightï¼‰

#### 2.2.1 äº§å“å®šä¹‰

> è°ƒæ•´ç…§ç‰‡çš„ç¯å…‰æ–¹å‘ã€è‰²æ¸©ã€äº®åº¦å’Œè½¯ç¡¬åº¦ï¼Œä»¿ä½›åœ¨è™šæ‹Ÿæ‘„å½±æ£šé‡æ–°å¸ƒå…‰ã€‚

#### 2.2.2 åœ¨ç”»å¸ƒä¸­çš„ä½ç½®

| ç»´åº¦ | è®¾è®¡ |
|------|------|
| **è§¦å‘ä½ç½®** | èŠ‚ç‚¹å³é”® â†’ ä¿®å¤å¢å¼º â†’ AI æ‰“å…‰ |
| **Capability ID** | `relight` |
| **åˆ†ç±»** | `repair`ï¼ˆä¿®å¤å¢å¼ºï¼‰ |
| **æœ€å°‘è¾“å…¥** | 1 |
| **æœ€å¤šè¾“å…¥** | 1 |
| **å…è®¸åª’ä½“ç±»å‹** | `image` |
| **è¾“å‡ºç±»å‹** | `image` |

#### 2.2.3 å‚æ•°é¢æ¿

```typescript
interface RelightParams {
  // --- æ ¸å¿ƒå‚æ•° ---
  light_direction: {
    azimuth: number;    // 0-360Â°ï¼Œæ°´å¹³æ–¹å‘
    elevation: number;  // -90Â°~90Â°ï¼Œå‚ç›´æ–¹å‘
  };
  light_type: 'soft' | 'hard';     // æŸ”å…‰ / ç¡¬å…‰
  brightness: number;               // 0.0-2.0ï¼Œäº®åº¦å€ç‡
  color_temperature: number;         // 2000K-10000Kï¼Œè‰²æ¸©
  color_hex?: string;                // è‡ªå®šä¹‰ç¯å…‰é¢œè‰² (#FFFFFF)
  
  // --- é«˜çº§å‚æ•°ï¼ˆæŠ˜å ï¼‰ ---
  num_lights?: 1 | 2 | 3;           // ç¯æ•°
  environment_preset?: 'studio' | 'golden_hour' | 'blue_hour' | 'overcast';
}
```

#### 2.2.4 UX è®¾è®¡ â€”â€” 3D ç¯å…‰çƒä½“æ§ä»¶

å‚è€ƒ Higgsfield çš„ 3D çƒä½“ç¯å…‰æ§åˆ¶ï¼Œè¿™æ˜¯ Relight æœ€æ ¸å¿ƒçš„äº¤äº’åˆ›æ–°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI æ‰“å…‰ Relight                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚          â”‚  â”‚  âœ§ Relight              â”‚        â”‚
â”‚  â”‚  ç…§ç‰‡    â”‚  â”‚                         â”‚        â”‚
â”‚  â”‚  é¢„è§ˆ    â”‚  â”‚      âˆ§                  â”‚        â”‚
â”‚  â”‚          â”‚  â”‚   â•­â”€â”€â”¼â”€â”€â•®               â”‚        â”‚
â”‚  â”‚          â”‚  â”‚  â•±  â•²â”‚â•±  â•²   Hold &     â”‚        â”‚
â”‚  â”‚          â”‚  â”‚ â€¹â”€â”€â”€â”€â—â”€â”€â”€â”€â€º  drag to     â”‚        â”‚
â”‚  â”‚          â”‚  â”‚  â•²  â•±â”‚â•²  â•±  change      â”‚        â”‚
â”‚  â”‚          â”‚  â”‚   â•°â”€â”€â”¼â”€â”€â•¯  direction    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      âˆ¨                  â”‚        â”‚
â”‚                â”‚                         â”‚        â”‚
â”‚                â”‚  ç¯å…‰è®¾ç½®                 â”‚        â”‚
â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”        â”‚        â”‚
â”‚                â”‚  â”‚ æŸ”å…‰ â”‚ ç¡¬å…‰ â”‚        â”‚        â”‚
â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜        â”‚        â”‚
â”‚                â”‚                         â”‚        â”‚
â”‚                â”‚  äº®åº¦  â”â”â”â”â”â”â”â—‹â”â”â” 50%  â”‚        â”‚
â”‚                â”‚  è‰²æ¸©  â—¯ #FFFFFF        â”‚        â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âœ§ ç”Ÿæˆ  âœ¦ 3                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**3D çƒä½“ç»„ä»¶**æ ¸å¿ƒè¡Œä¸ºï¼š
- çº¿æ¡†çƒä½“æ¸²æŸ“ï¼ˆThree.js æˆ– Canvas 2D æŠ•å½±ï¼‰
- çƒä½“ä¸Šæœ‰ä¸€ä¸ªç¯å…‰æ ‡è®°ï¼ˆäº®ç‚¹ï¼‰ï¼Œå¯æ‹–æ‹½
- æ‹–æ‹½ä½ç½®æ˜ å°„åˆ° `azimuth` + `elevation`
- ä¸Šä¸‹å·¦å³ç®­å¤´å¾®è°ƒ
- å®æ—¶é¢„è§ˆç¯å…‰æ–¹å‘ï¼ˆå¯é€‰ï¼ŒGPU å®æ—¶æ¸²æŸ“ï¼‰

#### 2.2.5 æŠ€æœ¯å®ç°è·¯å¾„

| å±‚ | æ–¹æ¡ˆ | å¤‡æ³¨ |
|----|------|------|
| **å‰ç«¯** | æ–°å¢ `RelightControls` ç»„ä»¶ï¼ˆçƒä½“ + å‚æ•°é¢æ¿ï¼‰ï¼ŒåµŒå…¥ GenerationComposerModal | éœ€è¦è‡ªå®šä¹‰ Canvas 2D æˆ– Three.js |
| **åç«¯ API** | `POST /api/rabbit-hole/relight` | æ–° Celery Task |
| **AI å¼•æ“** | ä¼˜å…ˆ: IC-Lightï¼ˆå¼€æº Diffusion æ‰“å…‰ï¼‰<br>å¤‡é€‰: Kling AI / Clipdrop Relight API | IC-Light çº¦ 10-15s |
| **å­˜å‚¨** | ç»“æœä¸Šä¼  Supabase Storage â†’ image node | åŒçš®è‚¤ç¾åŒ– |

#### 2.2.6 Credits å®šä»·

> ğŸ†“ **åˆæœŸå…è´¹**ï¼Œåç»­å®šä»·å‚è€ƒï¼š

| æ¨¡å¼ | Credits å‚è€ƒ | å»¶è¿Ÿ |
|------|---------|------|
| å•å¼  | **3 credits** | ~10-15s |
| å¤šç¯ | **5 credits** | ~20s |

---

### 2.3 ğŸ†• æ¢è£…è¯•ç©¿ï¼ˆOutfit Swap / VTONï¼‰

#### 2.3.1 äº§å“å®šä¹‰

> ä¸Šä¼ ä¸€å¼ äººåƒ + ä¸€å¼ è¡£ç‰©å›¾ï¼ŒAI å°†è¡£ç‰©çœŸå®åˆæˆåˆ°äººåƒä¸Šï¼Œä¿æŒå§¿æ€ã€èº«ææ¯”ä¾‹å’Œèº«ä»½ç‰¹å¾ã€‚

#### 2.3.2 åœ¨ç”»å¸ƒä¸­çš„ä½ç½®

| ç»´åº¦ | è®¾è®¡ |
|------|------|
| **è§¦å‘ä½ç½®** | â‘  èŠ‚ç‚¹å³é”® â†’ ç»“æ„ç¼–è¾‘ â†’ æ¢è£…è¯•ç©¿<br>â‘¡ ä¸¤èŠ‚ç‚¹è¿çº¿ â†’ è¾¹ä¸­ + â†’ æ¢è£…è¯•ç©¿ï¼ˆäººåƒèŠ‚ç‚¹ + è¡£ç‰©èŠ‚ç‚¹ï¼‰ |
| **Capability ID** | `outfit_swap` |
| **åˆ†ç±»** | `structure`ï¼ˆç»“æ„ç¼–è¾‘ï¼‰ |
| **æœ€å°‘è¾“å…¥** | 2ï¼ˆäººåƒ + è¡£ç‰©ï¼‰ |
| **æœ€å¤šè¾“å…¥** | 2 |
| **å…è®¸åª’ä½“ç±»å‹** | `image` |
| **è¾“å‡ºç±»å‹** | `image` |

#### 2.3.3 å‚æ•°é¢æ¿

```typescript
interface OutfitSwapParams {
  // --- æ ¸å¿ƒå‚æ•° ---
  person_image: string;     // äººåƒå›¾ URLï¼ˆæ¥è‡ªèŠ‚ç‚¹ Aï¼‰
  garment_image: string;    // è¡£ç‰©å›¾ URLï¼ˆæ¥è‡ªèŠ‚ç‚¹ B æˆ–ä¸Šä¼ ï¼‰
  garment_type: 'upper' | 'lower' | 'full_body' | 'dress';  // è¡£ç‰©åŒºåŸŸ
  
  // --- é«˜çº§å‚æ•°ï¼ˆæŠ˜å ï¼‰ ---
  preserve_pose: boolean;   // ä¿æŒåŸå§‹å§¿æ€ï¼ˆé»˜è®¤ trueï¼‰
  auto_mask: boolean;       // è‡ªåŠ¨åˆ†å‰²ç°æœ‰è¡£ç‰©ï¼ˆé»˜è®¤ trueï¼‰
}
```

#### 2.3.4 UX è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¢è£…è¯•ç©¿ Outfit Swap                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â†’  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚          â”‚     â”‚          â”‚                    â”‚
â”‚  â”‚  äººåƒ    â”‚     â”‚  è¡£ç‰©    â”‚                    â”‚
â”‚  â”‚  (Node A)â”‚     â”‚  (Node B â”‚                    â”‚
â”‚  â”‚          â”‚     â”‚  or ä¸Šä¼ )â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                    â”‚
â”‚  è¡£ç‰©åŒºåŸŸ                                          â”‚
â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚ä¸Šè£…â”‚ä¸‹è£…â”‚å…¨èº« â”‚è¿è¡£è£™â”‚                            â”‚
â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                    â”‚
â”‚  â–¸ é«˜çº§å‚æ•°                                        â”‚
â”‚    ä¿æŒå§¿æ€ [âœ“]                                    â”‚
â”‚    è‡ªåŠ¨åˆ†å‰² [âœ“]                                    â”‚
â”‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âœ§ æ¢è£…  âœ¦ 5                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.3.5 ç”»å¸ƒè¿çº¿å·¥ä½œæµ

Outfit Swap çš„ä¸€ä¸ªå…³é”®äº¤äº’åˆ›æ–°ï¼š**ä¸¤èŠ‚ç‚¹è¿çº¿è§¦å‘**

```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Person   â”‚â”€â”€â”€â”€+â”€â”€â”€â”€â”‚ Garment  â”‚
  â”‚  Image    â”‚  outfit â”‚  Image   â”‚
  â”‚  Node     â”‚  swap   â”‚  Node    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  Result   â”‚
          â”‚  (VTON)   â”‚
          â”‚  Image    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ä¸ Face Swap ç±»ä¼¼çš„åŒèŠ‚ç‚¹æ¨¡å¼ï¼Œè¾¹ä¸­ `+` å‡ºç°"æ¢è£…è¯•ç©¿"é€‰é¡¹ã€‚

#### 2.3.6 æŠ€æœ¯å®ç°è·¯å¾„

| å±‚ | æ–¹æ¡ˆ | å¤‡æ³¨ |
|----|------|------|
| **å‰ç«¯** | GenerationComposerModal æ‰©å±• `outfit_swap` | åŒè¾“å…¥æ¨¡å¼ï¼Œå¤ç”¨ inputPair |
| **åç«¯ API** | `POST /api/rabbit-hole/outfit-swap` | æ–° Celery Task |
| **AI å¼•æ“** | ä¼˜å…ˆ: IDM-VTONï¼ˆå¼€æº SOTAï¼‰<br>å¤‡é€‰: Kling AI VTON / Kolors Virtual Try-On / Fashn.ai API | IDM-VTON çº¦ 10-20s |
| **å­˜å‚¨** | ç»“æœä¸Šä¼  Supabase Storage â†’ image node | |
| **å‰ç½®å¤„ç†** | äººä½“åˆ†å‰²ï¼ˆBiSeNet / Graphonomyï¼‰+ äººä½“å§¿æ€ä¼°è®¡ï¼ˆDWPoseï¼‰ | VTON æ¨¡å‹éœ€è¦ |

#### 2.3.7 Credits å®šä»·

> ğŸ†“ **åˆæœŸå…è´¹**ï¼Œåç»­å®šä»·å‚è€ƒï¼š

| æ¨¡å¼ | Credits å‚è€ƒ | å»¶è¿Ÿ |
|------|---------|------|
| å•æ¬¡æ¢è£… | **5 credits** | ~10-20s |
| å…¨èº«æ¢è£… | **8 credits** | ~15-25s |

---

### 2.4 ğŸ†• AI ç©¿æ­å¸ˆï¼ˆAI Stylistï¼‰

#### 2.4.1 äº§å“å®šä¹‰

> **V1**ï¼šå¼•å¯¼ç”¨æˆ·ä¸Šä¼ è¡£ç‰©ç´ æ + æä¾›é£æ ¼æ ‡ç­¾å’Œæ­é…å»ºè®®ï¼ŒAI åˆæˆåˆ°äººåƒã€‚ä¸ Outfit Swap å…±äº« VTON åº•å±‚ï¼Œå·®å¼‚åœ¨äºå‰ç«¯å¼•å¯¼å’Œæ¨èæ™ºèƒ½ã€‚
>
> **V2ï¼ˆè¿œæœŸï¼‰**ï¼šæ¥å…¥å¹³å°ç­–åˆ’çš„ç©¿æ­ç›®å½• Galleryï¼Œç”¨æˆ·æ— éœ€è‡ªè¡Œä¸Šä¼ ã€‚

#### 2.4.2 ä¸ Outfit Swap çš„åŒºåˆ«

| ç»´åº¦ | Outfit Swap | AI Stylist |
|------|------------|------------|
| **è¡£ç‰©æ¥æº** | ç”¨æˆ·ä¸Šä¼ ä»»æ„å›¾ç‰‡ | **V1**: ç”¨æˆ·ä¸Šä¼  + å¼•å¯¼ / **V2**: ç­–åˆ’ç›®å½• |
| **UX é‡å¿ƒ** | çº¯æŠ€æœ¯åˆæˆ | æ­é…å»ºè®® + é£æ ¼æ ‡ç­¾ + åˆæˆ |
| **å…ƒæ•°æ®** | æ—  | é£æ ¼æ ‡ç­¾ã€æ­é…å»ºè®®ï¼ˆV1 ç®€åŒ–ç‰ˆï¼‰ |
| **AI å±‚** | VTON æ¨¡å‹ | V1: VTON + æ ‡ç­¾ / V2: æ¨èå¼•æ“ + VTON |
| **é€‚ç”¨åœºæ™¯** | ç”µå•†å–å®¶ã€è®¾è®¡å¸ˆ | ç©¿æ­åšä¸»ã€å†…å®¹åˆ›ä½œè€… |

> âš ï¸ **V1 ç­–ç•¥**ï¼šå…ˆä¸åšå¥—è£…ç›®å½• Galleryï¼Œå¼•å¯¼ç”¨æˆ·ä¸Šä¼ è¡£ç‰©ç´ æã€‚AI Stylist ä¸ Outfit Swap å…±äº« VTON åº•å±‚ï¼Œå·®å¼‚åŒ–é€šè¿‡å‰ç«¯å¼•å¯¼å’Œæ ‡ç­¾ä½“ç³»å®ç°ã€‚

#### 2.4.3 åœ¨ç”»å¸ƒä¸­çš„ä½ç½®

| ç»´åº¦ | è®¾è®¡ |
|------|------|
| **è§¦å‘ä½ç½®** | èŠ‚ç‚¹å³é”® â†’ é£æ ¼ç”Ÿæˆ â†’ AI ç©¿æ­å¸ˆ |
| **Capability ID** | `ai_stylist` |
| **åˆ†ç±»** | `style`ï¼ˆé£æ ¼ç”Ÿæˆï¼‰ |
| **æœ€å°‘è¾“å…¥** | 1ï¼ˆäººåƒèŠ‚ç‚¹ï¼‰ |
| **æœ€å¤šè¾“å…¥** | 1 |
| **å…è®¸åª’ä½“ç±»å‹** | `image` |
| **è¾“å‡ºç±»å‹** | `image` |

#### 2.4.4 å‚æ•°é¢æ¿ï¼ˆV1 ä¸Šä¼ æ¨¡å¼ï¼‰

> âš ï¸ **V1**: ä¸åš Gallery é€‰æ‹©å™¨ã€‚ç”¨æˆ·ç›´æ¥ä¸Šä¼ è¡£ç‰©å›¾ç‰‡ï¼ˆåŒ Outfit Swap æµç¨‹ï¼‰ï¼ŒAI Stylist çš„å·®å¼‚åŒ–é€šè¿‡é£æ ¼æ ‡ç­¾ + æ­é…å»ºè®® UI å®ç°ã€‚ä¸‹æ–¹ Gallery çº¿æ¡†å›¾ä¿ç•™ä¸º V2 å‚è€ƒã€‚

```typescript
interface AIStylistParams {
  // --- V1 æ ¸å¿ƒå‚æ•° ---
  person_image: string;     // äººåƒå›¾ URLï¼ˆæ¥è‡ªèŠ‚ç‚¹ï¼‰
  garment_images: string[]; // ç”¨æˆ·ä¸Šä¼ çš„è¡£ç‰©å›¾ URLï¼ˆæ›¿ä»£ outfit_idï¼‰
  gender: 'male' | 'female';
  
  // --- V1 é£æ ¼æ ‡ç­¾ ---
  style_tags?: string[];    // ['casual', 'streetwear', 'korean'] ç”¨æˆ·è‡ªé€‰
  season?: string;          // spring / summer / fall / winter
}
```

<details>
<summary>ğŸ“‹ V2 è¿œæœŸè®¾è®¡ï¼šGallery é€‰æ‹©å™¨</summary>

**Gallery ç»„ä»¶**æ˜¯ AI Stylist çš„ V2 æ ¸å¿ƒå·®å¼‚åŒ– UXï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI ç©¿æ­å¸ˆ AI Stylist                          [Male][Female]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚            â”‚    â”‚  âœ§ Outfit  â—                      â”‚      â”‚
â”‚  â”‚   äººåƒ     â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚
â”‚  â”‚   é¢„è§ˆ     â”‚    â”‚ â”‚ +  æ·»åŠ  â”‚â”‚ å¥—è£… 1  â”‚â”‚ å¥—è£… 2  â”‚  â”‚      â”‚
â”‚  â”‚            â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚
â”‚  â”‚   â†•        â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚
â”‚  â”‚            â”‚    â”‚ â”‚ å¥—è£… 3  â”‚â”‚ å¥—è£… 4  â”‚â”‚ å¥—è£… 5  â”‚  â”‚      â”‚
â”‚  â”‚            â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚
â”‚  â”‚            â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚
â”‚  â”‚            â”‚    â”‚ â”‚ å¥—è£… 6  â”‚â”‚ å¥—è£… 7  â”‚â”‚ å¥—è£… 8  â”‚  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âœ§ ç”Ÿæˆ  âœ¦ 5                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4.5 Outfit Gallery æ•°æ®æ¶æ„ï¼ˆV2ï¼‰

```sql
-- Supabase: outfit_gallery è¡¨ï¼ˆV2 è¿œæœŸï¼Œå½“å‰ä¸å®ç°ï¼‰
CREATE TABLE outfit_gallery (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,                    -- "è¡—å¤´ä¼‘é—²å¥—è£… A"
  gender TEXT NOT NULL CHECK (gender IN ('male', 'female', 'unisex')),
  category TEXT NOT NULL,                -- casual / formal / streetwear
  season TEXT,                           -- spring / summer / fall / winter
  tags TEXT[] DEFAULT '{}',              -- ['y2k', 'minimalist', 'korean']
  garment_images JSONB NOT NULL,         -- [{ type: 'upper', url: '...' }, { type: 'lower', url: '...' }]
  preview_image_url TEXT,                -- é¢„è§ˆåˆæˆå›¾
  brand TEXT,                            -- å“ç‰Œï¼ˆå¯é€‰ï¼‰
  sort_order INT DEFAULT 0,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT now()
);
```

</details>

#### 2.4.6 æŠ€æœ¯å®ç°è·¯å¾„

| å±‚ | æ–¹æ¡ˆ | å¤‡æ³¨ |
|----|------|------|
| **å‰ç«¯** | æ–°å¢ `StylistControls` ç»„ä»¶ï¼ˆä¸Šä¼ åŒº + é£æ ¼æ ‡ç­¾ï¼‰ï¼ŒåµŒå…¥ GenerationComposerModal | V1 æ—  Galleryï¼Œå¼•å¯¼ä¸Šä¼  |
| **åç«¯ API** | `POST /api/rabbit-hole/stylist` â€” æ‰§è¡Œåˆæˆ | å¤ç”¨ VTON ä»»åŠ¡ï¼ŒV2 å†åŠ  Gallery CRUD |
| **AI å¼•æ“** | åŒ Outfit Swapï¼ˆIDM-VTONï¼‰| åº•å±‚æ¨¡å‹å¤ç”¨ |
| **è¿è¥** | V1 æ— éœ€è¿è¥ã€‚V2 éœ€è¦å®šæœŸä¸Šæ–°å¥—è£…ç›®å½• | â€” |

#### 2.4.7 Credits å®šä»·

> ğŸ†“ **åˆæœŸå…è´¹**ï¼Œåç»­å®šä»·å‚è€ƒ Outfit Swap é‡çº§ï¼ˆ~5 credits/æ¬¡ï¼‰

---

### 2.5 ğŸ†• AI ç©¿æ­å†…å®¹ç”Ÿæˆï¼ˆOutfit Shotï¼‰

#### 2.5.1 äº§å“å®šä¹‰

> **æ ¸å¿ƒå®šä½ï¼šç©¿æ­åšä¸»çš„å†…å®¹ç”Ÿäº§å·¥å…·**ã€‚ä¸Šä¼ è¡£ç‰©ç´ æ â†’ AI ç”Ÿæˆã€Œå¯ç›´æ¥å‘å¸ƒåˆ°å°çº¢ä¹¦ / æŠ–éŸ³ / Instagramã€çš„ç©¿æ­å†…å®¹å›¾ã€‚
>
> ä¸æ˜¯â€œç»™ä½ ä¸€å¼ å†™çœŸâ€ï¼Œè€Œæ˜¯â€œå¸®ä½ æ‰¹é‡ç”Ÿäº§å†…å®¹ç´ æâ€â€”â€”å°é¢å›¾ã€å¯¹æ¯”å›¾ã€è¡—æ‹å›¾ã€åœºæ™¯ lifestyle å›¾ï¼Œå…¨éƒ¨å¯é…æ–‡æ¡ˆä¸€é”®å‘å¸ƒã€‚

**ä¸¤ç§æ¨¡å¼**ï¼š

| æ¨¡å¼ | è¯´æ˜ | ç”¨æˆ·åœºæ™¯ |
|------|------|----------|
| **ğŸ“¸ å†…å®¹ç´ ææ¨¡å¼**ï¼ˆä¸»æ¨ï¼‰ | ä¸Šä¼ è¡£ç‰© â†’ AI ç”Ÿæˆæ¨¡ç‰¹ç©¿æ­ + åœºæ™¯ + æ„å›¾ï¼Œè¾“å‡ºå¯å‘å¸ƒçš„å†…å®¹å›¾ | ç©¿æ­åšä¸»æ—¥æ›´ã€ç”µå•†å–å®¶å•†å“å›¾ |
| **ğŸª è™šæ‹Ÿè¯•ç©¿é¢„è§ˆ**ï¼ˆè¾…åŠ©ï¼‰ | ä¸Šä¼ è¡£ç‰© + ç”¨æˆ·è‡ªå·±çš„æ•°å­—äºº â†’ çœ‹â€œæˆ‘ç©¿ä¸Šæ˜¯ä»€ä¹ˆæ•ˆæœâ€ | åšä¸»é€‰å“ã€ç”¨æˆ·è´­ç‰©å†³ç­– |

> **V1 å…ˆåšå†…å®¹ç´ ææ¨¡å¼**ã€‚è™šæ‹Ÿè¯•ç©¿é¢„è§ˆä¾èµ– Â§0.2 æ•°å­—äººèµ„äº§ä½“ç³»å°±ç»ªåå†æ¥å…¥ã€‚

#### 2.5.2 åœ¨ç”»å¸ƒä¸­çš„ä½ç½®

| ç»´åº¦ | è®¾è®¡ |
|------|------|
| **è§¦å‘ä½ç½®** | èŠ‚ç‚¹å³é”® â†’ é£æ ¼ç”Ÿæˆ â†’ AI ç©¿æ­å†…å®¹ |
| **Capability ID** | `outfit_shot` |
| **åˆ†ç±»** | `style`ï¼ˆé£æ ¼ç”Ÿæˆï¼‰ |
| **æœ€å°‘è¾“å…¥** | 1ï¼ˆè¡£ç‰©å›¾ç‰‡èŠ‚ç‚¹ï¼‰ |
| **æœ€å¤šè¾“å…¥** | 3ï¼ˆå¤šä»¶è¡£ç‰©ç»„åˆï¼‰ |
| **å…è®¸åª’ä½“ç±»å‹** | `image` |
| **è¾“å‡ºç±»å‹** | `image`ï¼ˆå¤šå˜ä½“æ‰¹é‡è¾“å‡ºï¼Œæ¯ä¸ªå˜ä½“ = 1 ä¸ªæ–° image nodeï¼‰ |

#### 2.5.3 å‚æ•°é¢æ¿

```typescript
interface OutfitShotParams {
  // --- æ¨¡å¼é€‰æ‹© ---
  mode: 'content' | 'try_on';       // å†…å®¹ç´ æ | è™šæ‹Ÿè¯•ç©¿
  
  // --- æ ¸å¿ƒå‚æ•° ---
  garment_images: string[];          // 1-3 å¼ è¡£ç‰©å›¾ URL
  
  // --- å†…å®¹ç´ ææ¨¡å¼å‚æ•° ---
  content_type: 'cover' | 'streetsnap' | 'lifestyle' | 'flat_lay' | 'comparison';
  //  cover      = å°é¢å›¾ï¼ˆå¤§å­—æ ‡é¢˜æ„å›¾ï¼‰
  //  streetsnap = è¡—æ‹é£ï¼ˆåŸå¸‚èƒŒæ™¯ã€è‡ªç„¶å§¿æ€ï¼‰
  //  lifestyle  = ç”Ÿæ´»æ–¹å¼å›¾ï¼ˆå’–å•¡å…ã€å®¶å±…ã€æ—…è¡Œï¼‰
  //  flat_lay   = å¹³é“ºæ‘†æ‹ï¼ˆä»°è§†è§’åº¦ï¼Œé€‚åˆå¤šå•å“å±•ç¤ºï¼‰
  //  comparison = å¯¹æ¯”å›¾ï¼ˆæ¢è£…å‰å / å¤šå¥—æ­é…å¹¶æ’ï¼‰
  
  platform_preset?: 'xiaohongshu' | 'douyin' | 'instagram' | 'custom';
  //  è‡ªåŠ¨è°ƒæ•´è¾“å‡ºæ¯”ä¾‹ï¼šå°çº¢ä¹¦ 3:4, æŠ–éŸ³ 9:16, Instagram 1:1
  
  model_gender: 'male' | 'female';
  scene_prompt?: string;             // è‡ªå®šä¹‰åœºæ™¯æè¿°
  num_variations?: 1 | 2 | 3 | 4;   // ç”Ÿæˆå˜ä½“æ•°
  
  // --- è™šæ‹Ÿè¯•ç©¿æ¨¡å¼å‚æ•°ï¼ˆV1.5+ï¼Œä¾èµ–æ•°å­—äººèµ„äº§ï¼‰ ---
  avatar_id?: string;                // ç”¨æˆ·æ•°å­—äºº IDï¼ˆæ¥è‡ª Assetsï¼‰
  
  // --- é«˜çº§å‚æ•°ï¼ˆæŠ˜å ï¼‰ ---
  model_body_type?: 'slim' | 'average' | 'plus_size';
  pose?: 'standing' | 'walking' | 'sitting' | 'dynamic';
  lighting_style?: 'studio' | 'natural' | 'dramatic' | 'soft';
  camera_angle?: 'front' | 'three_quarter' | 'side' | 'full_body';
}
```

#### 2.5.4 UX è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI ç©¿æ­å†…å®¹ Outfit Shot            [ğŸ“¸ å†…å®¹ç´ æ] [ğŸª è™šæ‹Ÿè¯•ç©¿]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                                  â”‚  â”‚                  â”‚      â”‚
â”‚  â”‚   â¬†                              â”‚  â”‚  ç”Ÿæˆé¢„è§ˆ        â”‚      â”‚
â”‚  â”‚   æ‹–å…¥ 1-3 ä»¶è¡£ç‰©å›¾ç‰‡             â”‚  â”‚                  â”‚      â”‚
â”‚  â”‚   or ä»ç”»å¸ƒèŠ‚ç‚¹é€‰æ‹©               â”‚  â”‚                  â”‚      â”‚
â”‚  â”‚                                  â”‚  â”‚                  â”‚      â”‚
â”‚  â”‚   PNG, JPG or Paste              â”‚  â”‚                  â”‚      â”‚
â”‚  â”‚                                  â”‚  â”‚                  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                    â”‚
â”‚  å†…å®¹ç±»å‹                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ å°é¢å›¾â”‚ è¡—æ‹ â”‚ Lifestyleâ”‚ å¹³é“º â”‚ å¯¹æ¯”å›¾â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                    â”‚
â”‚  å‘å¸ƒå¹³å°ï¼ˆè‡ªåŠ¨é€‚é…æ¯”ä¾‹ï¼‰                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚  â”‚ å°çº¢ä¹¦  â”‚ æŠ–éŸ³ â”‚ Instagram â”‚ è‡ªå®šä¹‰â”‚                             â”‚
â”‚  â”‚  3:4   â”‚ 9:16 â”‚    1:1    â”‚      â”‚                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                    â”‚
â”‚  æ¨¡ç‰¹    â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚          â”‚ ç”·æ€§ â”‚ å¥³æ€§ â”‚                                          â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                                    â”‚
â”‚  åœºæ™¯æè¿° â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚           â”‚ åŸå¸‚è¡—å¤´ï¼Œé˜³å…‰æ˜åªš...         â”‚ (å¯é€‰ prompt)           â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                    â”‚
â”‚  â–¸ é«˜çº§å‚æ•°                                                        â”‚
â”‚    ä½“å‹ Â· å§¿åŠ¿ Â· å…‰çº¿ Â· è§’åº¦                                      â”‚
â”‚                                                                    â”‚
â”‚  å˜ä½“æ•°é‡ [1] [2] [3] [4]                                          â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âœ§ ç”Ÿæˆå†…å®¹  âœ¦ 8                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è™šæ‹Ÿè¯•ç©¿æ¨¡å¼**ï¼ˆåˆ‡æ¢åˆ° ğŸª æ ‡ç­¾åï¼‰ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI ç©¿æ­å†…å®¹ Outfit Shot            [ğŸ“¸ å†…å®¹ç´ æ] [ğŸª è™šæ‹Ÿè¯•ç©¿]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â†’  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚                  â”‚     â”‚                  â”‚                    â”‚
â”‚  â”‚  è¡£ç‰©å›¾ç‰‡        â”‚     â”‚  æˆ‘çš„æ•°å­—äºº       â”‚                    â”‚
â”‚  â”‚  (èŠ‚ç‚¹ or ä¸Šä¼ )  â”‚     â”‚  (ä» Assets é€‰æ‹©) â”‚                    â”‚
â”‚  â”‚                  â”‚     â”‚                  â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚                                          â”‚                     â”‚
â”‚  â”‚           é¢„è§ˆï¼šæˆ‘ç©¿ä¸Šçš„æ•ˆæœ              â”‚                     â”‚
â”‚  â”‚                                          â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âœ§ è¯•ç©¿é¢„è§ˆ  âœ¦ 5                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸª æ¨¡å¼æœ¬è´¨ = æ¢è£…è¯•ç©¿ï¼ˆOutfit Swapï¼‰ï¼Œä½†è¾“å…¥æºæ˜¯æ•°å­—äººè€Œéå½“å‰èŠ‚ç‚¹å›¾ç‰‡ã€‚éœ€è¦ Â§0.2 æ•°å­—äººèµ„äº§ä½“ç³»å°±ç»ªã€‚

#### 2.5.5 æŠ€æœ¯å®ç°è·¯å¾„

| å±‚ | æ–¹æ¡ˆ | å¤‡æ³¨ |
|----|------|------|
| **å‰ç«¯** | `OutfitShotControls` åŒ tabï¼ˆå†…å®¹ç´ æ / è™šæ‹Ÿè¯•ç©¿ï¼‰ï¼ŒåµŒå…¥ GenerationComposerModal | å¤šå›¾ä¸Šä¼  + å¹³å°é¢„è®¾ |
| **åç«¯ API** | `POST /api/rabbit-hole/outfit-shot` | æ–° Celery Task |
| **AI å¼•æ“ â€” å†…å®¹æ¨¡å¼** | æ–¹æ¡ˆ A: SDXL ç”Ÿæˆæ¨¡ç‰¹+åœºæ™¯ â†’ IDM-VTON åˆæˆè¡£ç‰©<br>æ–¹æ¡ˆ B: Kling AI / Kolors ç«¯åˆ°ç«¯<br>æ–¹æ¡ˆ C: IP-Adapterï¼ˆè¡£ç‰©ç¼–ç  â†’ ControlNetï¼‰ | éœ€æ”¯æŒ `content_type` æ§åˆ¶æ„å›¾é£æ ¼ |
| **AI å¼•æ“ â€” è¯•ç©¿æ¨¡å¼** | å¤ç”¨ Outfit Swapï¼ˆIDM-VTONï¼‰+ æ•°å­—äººè¾“å…¥ | ä¾èµ–æ•°å­—äººèµ„äº§ |
| **è¾“å‡ºè£å‰ª** | æ ¹æ® `platform_preset` è‡ªåŠ¨è£å‰ªåˆ°ç›®æ ‡æ¯”ä¾‹ | å°çº¢ä¹¦ 3:4 / æŠ–éŸ³ 9:16 / IG 1:1 |
| **å­˜å‚¨** | å¤šå˜ä½“æ‰¹é‡ä¸Šä¼  Supabase Storage â†’ å¤šä¸ª image node | æ¯ä¸ªå˜ä½“ = ç”»å¸ƒä¸Šä¸€ä¸ªæ–°èŠ‚ç‚¹ |

#### 2.5.6 Credits å®šä»·

> ğŸ†“ **åˆæœŸå…è´¹**ï¼Œåç»­å®šä»·å‚è€ƒï¼š

| æ¨¡å¼ | Credits å‚è€ƒ | å»¶è¿Ÿ |
|------|---------|------|
| ğŸ“¸ å†…å®¹ç´ æ Ã— 1 | **8 credits** | ~15-25s |
| ğŸ“¸ å†…å®¹ç´ æ Ã— 4 å˜ä½“ | **24 credits**ï¼ˆæ‰¹é‡æŠ˜æ‰£ï¼‰ | ~40-60s |
| ğŸª è™šæ‹Ÿè¯•ç©¿ Ã— 1 | **5 credits** | ~10-20sï¼ˆå¤ç”¨ VTONï¼‰ |

---

## 3. Capability Registry æ‰©å±•

### 3.1 æ–°å¢ 5 ä¸ª Capability å®šä¹‰

åœ¨ `GenerationComposerModal.tsx` çš„ `CAPABILITIES` æ•°ç»„ä¸­è¿½åŠ ï¼š

```typescript
// --- ğŸ†• Enhance & Style èƒ½åŠ›ç»„ ---

export type GenerationCapabilityId =
  // ç°æœ‰ 9 ä¸ª
  | 'lip_sync' | 'text_to_video' | 'image_to_video'
  | 'multi_image_to_video' | 'motion_control' | 'video_extend'
  | 'face_swap' | 'image_generation' | 'omni_image'
  // ğŸ†• æ–°å¢ 5 ä¸ª
  | 'skin_enhance'
  | 'relight'
  | 'outfit_swap'
  | 'ai_stylist'
  | 'outfit_shot';

const NEW_CAPABILITIES: CapabilityDefinition[] = [
  {
    id: 'skin_enhance',
    label: 'çš®è‚¤ç¾åŒ–',
    subtitle: 'Skin Enhance',
    group: 'image',
    category: 'repair',
    icon: Sparkles,     // æˆ–è‡ªå®šä¹‰ Smile icon
    promptSupported: false,
    available: true,
    hint: 'ä¸€é”®ç¾åŒ–äººåƒçš®è‚¤',
    minInputs: 1, maxInputs: 1,
    allowedMediaTypes: ['image', 'video'],
    outputType: 'image',
  },
  {
    id: 'relight',
    label: 'AI æ‰“å…‰',
    subtitle: 'Relight',
    group: 'image',
    category: 'repair',
    icon: Sun,          // lucide-react Sun icon
    promptSupported: false,
    available: true,
    hint: 'è°ƒèŠ‚ç¯å…‰æ–¹å‘ã€è‰²æ¸©å’Œäº®åº¦',
    minInputs: 1, maxInputs: 1,
    allowedMediaTypes: ['image'],
    outputType: 'image',
  },
  {
    id: 'outfit_swap',
    label: 'æ¢è£…è¯•ç©¿',
    subtitle: 'Outfit Swap',
    group: 'image',
    category: 'structure',
    icon: Shirt,        // lucide-react Shirt icon
    promptSupported: false,
    available: true,
    hint: 'ä¸Šä¼ äººåƒ + è¡£ç‰©ï¼ŒAI æ¢è£…',
    minInputs: 2, maxInputs: 2,
    allowedMediaTypes: ['image'],
    outputType: 'image',
  },
  {
    id: 'ai_stylist',
    label: 'AI ç©¿æ­å¸ˆ',
    subtitle: 'AI Stylist',
    group: 'image',
    category: 'style',
    icon: Palette,      // lucide-react Palette icon
    promptSupported: false,
    available: true,
    hint: 'ä¸Šä¼ è¡£ç‰© + é£æ ¼æ ‡ç­¾ï¼ŒAI æ­é…è¯•ç©¿',  // V2: ä»ç©¿æ­ç›®å½•é€‰å¥—è£…
    minInputs: 1, maxInputs: 1,
    allowedMediaTypes: ['image'],
    outputType: 'image',
  },
  {
    id: 'outfit_shot',
    label: 'AI ç©¿æ­å†…å®¹',
    subtitle: 'Outfit Shot',
    group: 'image',
    category: 'style',
    icon: Camera,       // lucide-react Camera icon
    promptSupported: true,
    available: true,
    hint: 'ä¸Šä¼ è¡£ç‰© â†’ AI ç”Ÿæˆå¯å‘å¸ƒçš„ç©¿æ­å†…å®¹å›¾',  // å†…å®¹ç´ æ + è™šæ‹Ÿè¯•ç©¿
    minInputs: 1, maxInputs: 3,
    allowedMediaTypes: ['image'],
    outputType: 'image',
  },
];
```

### 3.2 èƒ½åŠ›åˆ†ç±»æ›´æ–°

å½“å‰å››å¤§ç±» + æ–°å¢èƒ½åŠ›çš„æ˜ å°„ï¼š

| åˆ†ç±» | ä¸­æ–‡ | å·²æœ‰èƒ½åŠ› | æ–°å¢èƒ½åŠ› |
|------|------|---------|---------|
| `repair` | ä¿®å¤å¢å¼º | lip_sync | **skin_enhance**, **relight** |
| `structure` | ç»“æ„ç¼–è¾‘ | face_swap, omni_image | **outfit_swap** |
| `style` | é£æ ¼ç”Ÿæˆ | text_to_video, image_generation | **ai_stylist**, **outfit_shot** |
| `dynamic` | åŠ¨æ€åŒ– | image_to_video, multi_image_to_video, motion_control, video_extend | â€” |

---

## 4. åç«¯ API è®¾è®¡

### 4.1 æ–°å¢ç«¯ç‚¹æ±‡æ€»

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | Celery Task |
|------|------|------|-------------|
| `/api/rabbit-hole/skin-enhance` | POST | çš®è‚¤ç¾åŒ– | `skin_enhance_task` |
| `/api/rabbit-hole/relight` | POST | AI æ‰“å…‰ | `relight_task` |
| `/api/rabbit-hole/outfit-swap` | POST | æ¢è£…è¯•ç©¿ | `outfit_swap_task` |
| `/api/rabbit-hole/stylist` | POST | AI ç©¿æ­å¸ˆ | `ai_stylist_task` |
| `/api/rabbit-hole/outfit-shot` | POST | AI ç©¿æ­å†…å®¹ | `outfit_shot_task` |
| ~~`/api/gallery/outfits`~~ | ~~GET~~ | ~~ç©¿æ­ç›®å½•~~ | V2 è¿œæœŸ |
| ~~`/api/gallery/outfits/{id}`~~ | ~~GET~~ | ~~å•ä¸ªå¥—è£…è¯¦æƒ…~~ | V2 è¿œæœŸ |

### 4.2 ç»Ÿä¸€ä»»åŠ¡è¯·æ±‚åè®®

æ‰€æœ‰æ–°èƒ½åŠ›éµå¾ªç°æœ‰ rabbit-hole ä»»åŠ¡åè®®ï¼š

```python
# POST /api/rabbit-hole/{capability}
{
    "session_id": "uuid",
    "project_id": "uuid",
    "clip_id": "uuid",           # æºèŠ‚ç‚¹
    "input_images": ["url1", "url2"],  # è¾“å…¥å›¾åˆ—è¡¨
    "params": {
        # èƒ½åŠ›ç‰¹æœ‰å‚æ•°ï¼ˆè§å„èƒ½åŠ›å®šä¹‰ï¼‰
    },
    "callback_url": "/api/tasks/{task_id}/callback"  # å¼‚æ­¥å›è°ƒ
}

# å“åº”
{
    "task_id": "uuid",
    "status": "queued",
    "estimated_time_seconds": 15,
    "credits_cost": 5
}
```

### 4.3 AI å¼•æ“æŠ½è±¡å±‚ âš ï¸ P0

> **ç°çŠ¶**ï¼šå½“å‰åç«¯ **æ²¡æœ‰** ç»Ÿä¸€çš„ AI å¼•æ“æŠ½è±¡å±‚ï¼Œå„èƒ½åŠ›ï¼ˆlip_sync / face_swap / omni_imageï¼‰å„è‡ªç›´è¿ Kling APIã€‚
> **è¡ŒåŠ¨**ï¼šåœ¨æ¥å…¥æ–°èƒ½åŠ›ä¹‹å‰ï¼Œå…ˆå»ºè®¾ `AIEngineRegistry` + `BaseAIEngine` æŠ½è±¡ï¼Œä½œä¸º **Phase 0** åŸºç¡€è®¾æ–½ã€‚

```python
# backend/app/services/ai_engine_registry.py

class AIEngineRegistry:
    """ç»Ÿä¸€ç®¡ç†å„ AI èƒ½åŠ›çš„å¼•æ“è·¯ç”±"""
    
    engines = {
        # ç°æœ‰
        'lip_sync': KlingLipSyncEngine,
        'face_swap': KlingFaceSwapEngine,
        'omni_image': KlingOmniImageEngine,
        
        # ğŸ†• æ–°å¢
        'skin_enhance': SkinEnhanceEngine,    # GFPGAN / Kling Beauty
        'relight': RelightEngine,              # IC-Light / Clipdrop
        'outfit_swap': VTONEngine,             # IDM-VTON / Kling VTON
        'ai_stylist': VTONEngine,              # å¤ç”¨ VTON + Gallery
        'outfit_shot': OutfitShotEngine,       # SDXL + VTON pipeline
    }
    
    @classmethod
    def get_engine(cls, capability_id: str) -> BaseAIEngine:
        return cls.engines[capability_id]()
```

---

## 5. å‰ç«¯ç»„ä»¶æ¶æ„

### 5.1 æ–°å¢ç»„ä»¶æ¸…å•

```
src/components/visual-editor/workflow/
â”œâ”€â”€ GenerationComposerModal.tsx     # â† æ‰©å±•ï¼šæ–°å¢ 5 ä¸ª capability åˆ†æ”¯
â”œâ”€â”€ SkinEnhanceControls.tsx         # ğŸ†• çš®è‚¤ç¾åŒ–å‚æ•°é¢æ¿ï¼ˆé¢„è®¾ + æ»‘å—ï¼‰
â”œâ”€â”€ RelightControls.tsx             # ğŸ†• AI æ‰“å…‰å‚æ•°é¢æ¿ï¼ˆ3D çƒä½“ + å‚æ•°ï¼‰
â”œâ”€â”€ RelightSphere.tsx               # ğŸ†• 3D ç¯å…‰çƒä½“æ§ä»¶
â”œâ”€â”€ OutfitSwapControls.tsx          # ğŸ†• æ¢è£…å‚æ•°é¢æ¿ï¼ˆè¡£ç‰©åŒºåŸŸé€‰æ‹©ï¼‰
â”œâ”€â”€ StylistControls.tsx             # ğŸ†• ç©¿æ­å¸ˆå‚æ•°é¢æ¿ï¼ˆV1 ä¸Šä¼  + æ ‡ç­¾ï¼ŒV2 Galleryï¼‰
â”œâ”€â”€ OutfitShotControls.tsx          # ğŸ†• AI ç©¿æ­å†…å®¹é¢æ¿ï¼ˆå†…å®¹ç´ æ / è™šæ‹Ÿè¯•ç©¿åŒ tabï¼‰

src/features/editor/lib/
â”œâ”€â”€ rabbit-hole-api.ts              # â† æ‰©å±•ï¼šæ–°å¢ 5 ä¸ª create*Task å‡½æ•°
```

### 5.2 GenerationComposerModal æ‰©å±•ç­–ç•¥

ç°æœ‰ GenerationComposerModal å·²ç»æ˜¯ **èƒ½åŠ›åˆ†ç»„ â†’ å‚æ•°é¢æ¿** çš„ä¸¤æ­¥å¼¹çª—ã€‚æ‰©å±•ç­–ç•¥ï¼š

1. **CAPABILITIES æ•°ç»„è¿½åŠ ** 5 ä¸ªæ–°å®šä¹‰
2. **å‚æ•°é¢æ¿åŒºåŸŸ** æ ¹æ® `capabilityId` åŠ¨æ€æ¸²æŸ“å¯¹åº” Controls ç»„ä»¶
3. **æäº¤å¤„ç†** å¢åŠ  5 ä¸ª switch åˆ†æ”¯ï¼Œè°ƒç”¨å¯¹åº” rabbit-hole API

```typescript
// GenerationComposerModal.tsx â€” å‚æ•°é¢æ¿åŒºåŸŸæ‰©å±•
function renderCapabilityParams(capabilityId: GenerationCapabilityId) {
  switch (capabilityId) {
    // ... ç°æœ‰ 9 ä¸ª case ...
    
    case 'skin_enhance':
      return <SkinEnhanceControls params={params} onChange={setParams} />;
    case 'relight':
      return <RelightControls params={params} onChange={setParams} />;
    case 'outfit_swap':
      return <OutfitSwapControls params={params} onChange={setParams} />;
    case 'ai_stylist':
      return <StylistControls params={params} onChange={setParams} />;
    case 'outfit_shot':
      return <OutfitShotControls params={params} onChange={setParams} />;
  }
}
```

---

## 6. å³é”®èœå•é›†æˆ

### 6.1 å½“å‰å³é”®èœå•ç»“æ„ï¼ˆClipNodeï¼‰

```
å³é”®èœå•
â”œâ”€â”€ æ‰“å¼€ / é¢„è§ˆ
â”œâ”€â”€ å¤åˆ¶
â”œâ”€â”€ é”å®š / è§£é”
â”œâ”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”œâ”€â”€ ä¿®å¤å¢å¼º
â”‚   â”œâ”€â”€ å£å‹åŒæ­¥
â”‚   â”œâ”€â”€ ğŸ†• çš®è‚¤ç¾åŒ–
â”‚   â””â”€â”€ ğŸ†• AI æ‰“å…‰
â”œâ”€â”€ ç»“æ„ç¼–è¾‘
â”‚   â”œâ”€â”€ AI æ¢è„¸
â”‚   â”œâ”€â”€ Omni-Image
â”‚   â””â”€â”€ ğŸ†• æ¢è£…è¯•ç©¿
â”œâ”€â”€ é£æ ¼ç”Ÿæˆ
â”‚   â”œâ”€â”€ æ–‡ç”Ÿè§†é¢‘
â”‚   â”œâ”€â”€ å›¾åƒç”Ÿæˆ
â”‚   â”œâ”€â”€ ğŸ†• AI ç©¿æ­å¸ˆ
â”‚   â””â”€â”€ ğŸ†• AI ç©¿æ­å†…å®¹
â”œâ”€â”€ åŠ¨æ€åŒ–
â”‚   â”œâ”€â”€ å›¾ç”Ÿè§†é¢‘
â”‚   â”œâ”€â”€ å¤šå›¾ç”Ÿè§†é¢‘
â”‚   â”œâ”€â”€ åŠ¨ä½œæ§åˆ¶
â”‚   â””â”€â”€ è§†é¢‘å»¶é•¿
â”œâ”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”œâ”€â”€ åˆ†é•œæ“ä½œ
â”‚   â”œâ”€â”€ åˆ†ç¦»ï¼ˆèƒŒæ™¯/äººç‰©/é…é¥°ï¼‰
â”‚   â””â”€â”€ æ‹†åˆ†
â”œâ”€â”€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”œâ”€â”€ åŠ å…¥ä¸»çº¿
â””â”€â”€ åˆ é™¤
```

### 6.2 è¾¹ä¸­ `+` èœå•æ‰©å±•

åœ¨ä¸¤ä¸ª image èŠ‚ç‚¹çš„è¿çº¿ `+` æŒ‰é’®ä¸­ï¼Œæ–°å¢ï¼š

```
è¾¹ä¸­ +
â”œâ”€â”€ å¤šå›¾ç”Ÿè§†é¢‘
â”œâ”€â”€ å›¾ç”Ÿè§†é¢‘ï¼ˆåŒç«¯çº¦æŸï¼‰
â”œâ”€â”€ åŠ¨ä½œæ§åˆ¶ï¼ˆå§¿æ€è¿ç§»ï¼‰
â”œâ”€â”€ é£æ ¼è¿ç§»
â”œâ”€â”€ ğŸ†• æ¢è£…è¯•ç©¿ (A=äººåƒ, B=è¡£ç‰©)
â””â”€â”€ ...
```

---

## 7. Credits ä½“ç³»ä¸å®šä»·

> ğŸ†“ **åˆæœŸç­–ç•¥ï¼šå…¨éƒ¨å…è´¹**ã€‚éªŒè¯ PMF åå†å¼•å…¥ä»˜è´¹ä½“ç³»ã€‚

### 7.1 èƒ½åŠ›èµ„æºæ¶ˆè€—å‚è€ƒï¼ˆç”¨äºåç»­å®šä»·ï¼‰

| èƒ½åŠ› | GPU æˆæœ¬ä¼°ç®— | å»¶è¿Ÿ | ç­‰çº§ | åç»­ Credits å‚è€ƒ |
|------|-------------|------|------|-------------------|
| çš®è‚¤ç¾åŒ– | ~$0.01 | 2-3s | âš¡ Fast | 1-2 |
| AI æ‰“å…‰ | ~$0.05 | 10-15s | ğŸ”¶ Medium | 3-5 |
| æ¢è£…è¯•ç©¿ | ~$0.08 | 10-20s | ğŸ¢ Slow | 5-8 |
| AI ç©¿æ­å¸ˆ | ~$0.08 | 10-20s | ğŸ¢ Slow | 5-8 |
| AI ç©¿æ­å†…å®¹ | ~$0.15 | 15-25s | ğŸ¢ Slow | 8-12 |

### 7.2 è®¢é˜…æ¨¡å‹è®¾è®¡ï¼ˆè¿œæœŸï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FREE        â†’  æ‰€æœ‰èƒ½åŠ›å¼€æ”¾ï¼Œæ¯æœˆé€ 50 base credits        â”‚
â”‚  Basic Â¥29   â†’  æ‰€æœ‰èƒ½åŠ›å¼€æ”¾ï¼Œæ¯æœˆé€ 200 base credits       â”‚
â”‚  PRO   Â¥99   â†’  æ‰€æœ‰èƒ½åŠ›å¼€æ”¾ï¼Œæ¯æœˆé€ 800 base credits       â”‚
â”‚                 + ä¼˜å…ˆé˜Ÿåˆ— + é«˜æ¸…è¾“å‡º                        â”‚
â”‚  Credit åŒ…    â†’  100 credits / Â¥19ï¼ˆä»»ä½•ç­‰çº§å¯è´­ä¹°ï¼‰         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ ¸å¿ƒåŸåˆ™**ï¼š
- æ‰€æœ‰èƒ½åŠ›å¯¹æ‰€æœ‰ç­‰çº§å¼€æ”¾ï¼Œ**ä¸åšåŠŸèƒ½é”å®š**
- è®¢é˜…ç­‰çº§å†³å®š base credits é¢åº¦å’Œé˜Ÿåˆ—ä¼˜å…ˆçº§
- Credits ç”¨å®Œå¯è´­ä¹°é¢å¤– credit åŒ…
- åˆæœŸå…¨å…è´¹ï¼Œä¸æ˜¾ç¤ºä»»ä½• PRO / Credits æ ‡ç­¾

---

## 8. æ•°æ®æµä¸çŠ¶æ€ç®¡ç†

### 8.1 å®Œæ•´æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·æ“ä½œ                                   â”‚
â”‚  å³é”®èŠ‚ç‚¹ / è¾¹ä¸­+ / ç”»å¸ƒä¸­å¿ƒ+                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 GenerationComposerModal                           â”‚
â”‚  Step 1: è¾“å…¥ç¡®è®¤ï¼ˆèŠ‚ç‚¹é€‰æ‹© + èƒ½åŠ›é€‰æ‹©ï¼‰                           â”‚
â”‚  Step 2: å‚æ•°é¢æ¿ï¼ˆèƒ½åŠ›ç‰¹æœ‰ Controlsï¼‰                             â”‚
â”‚  Submit â†’ rabbit-hole API                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Backend API                                  â”‚
â”‚  /api/rabbit-hole/{capability}                                    â”‚
â”‚  â†’ åˆ›å»º Celery Task â†’ è¿”å› task_id                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Celery Worker                                 â”‚
â”‚  1. ä¸‹è½½è¾“å…¥å›¾ â†’ 2. å‰å¤„ç†ï¼ˆåˆ†å‰²/è§£æï¼‰                            â”‚
â”‚  3. è°ƒç”¨ AI Engineï¼ˆKling / IC-Light / IDM-VTON / SDXLï¼‰         â”‚
â”‚  4. åå¤„ç† â†’ 5. ä¸Šä¼  Supabase Storage                            â”‚
â”‚  6. å›è°ƒæ›´æ–°ä»»åŠ¡çŠ¶æ€                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯è½®è¯¢ / å›è°ƒ                                 â”‚
â”‚  TaskHistorySidebar â†’ çŠ¶æ€æ›´æ–°                                    â”‚
â”‚  â†’ å®Œæˆåè‡ªåŠ¨åˆ›å»ºæ–° image node åœ¨ç”»å¸ƒä¸Š                            â”‚
â”‚  â†’ ç”¨æˆ·å¯æ‹–å…¥ Timeline                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 Store å±‚æ— éœ€æ–°å¢

æ‰€æœ‰æ–°èƒ½åŠ›å¤ç”¨ç°æœ‰ï¼š
- `visualEditorStore` â€” èŠ‚ç‚¹/åˆ†é•œ/è‡ªç”±èŠ‚ç‚¹ç®¡ç†
- `taskHistoryStore` â€” ä»»åŠ¡è¿›åº¦è·Ÿè¸ª
- `canvasStore.intent` â€” IntentRouter çŠ¶æ€ï¼ˆä»… PRD v1.1 ç”»å¸ƒç”¨ï¼‰

---

## 9. å¼€å‘èŠ‚å¥

### Phase 0ï¼ˆ1 å‘¨ï¼‰â€”â€” åŸºç¡€è®¾æ–½

| ä»»åŠ¡ | ä¼°æ—¶ | ä¼˜å…ˆçº§ |
|------|------|--------|
| **`AIEngineRegistry` + `BaseAIEngine` æŠ½è±¡å±‚** | 2d | **P0** |
| ç°æœ‰ lip_sync / face_swap / omni_image è¿ç§»åˆ° Registry | 2d | P0 |
| Capability Registry æ‰©å±•ï¼ˆå‰ç«¯ç±»å‹ + å®šä¹‰ï¼Œ14 ä¸ªèƒ½åŠ›ï¼‰ | 1d | P0 |

### Phase 1ï¼ˆ2 å‘¨ï¼‰â€”â€” åŸºç¡€èƒ½åŠ›æ¥å…¥

| ä»»åŠ¡ | ä¼°æ—¶ | ä¼˜å…ˆçº§ |
|------|------|--------|
| `SkinEnhanceControls` ç»„ä»¶ | 1d | P0 |
| åç«¯ `skin_enhance_task` + AI Engine æ¥å…¥ | 2d | P0 |
| `RelightControls` + `RelightSphere` ç»„ä»¶ | 3d | P0 |
| åç«¯ `relight_task` + IC-Light å¼•æ“ | 2d | P0 |
| å…‰çƒæ–¹æ¡ˆè°ƒç ”ï¼ˆThree.js vs Canvas 2D vs SVGï¼‰ | 1d | P0 |
| E2E æµ‹è¯•ï¼šçš®è‚¤ç¾åŒ– + æ‰“å…‰ | 1d | P0 |

### Phase 2ï¼ˆ2-3 å‘¨ï¼‰â€”â€” æ¢è£…èƒ½åŠ›

| ä»»åŠ¡ | ä¼°æ—¶ | ä¼˜å…ˆçº§ |
|------|------|--------|
| `OutfitSwapControls` ç»„ä»¶ï¼ˆV1 ä»ç®€ï¼‰ | 1d | P0 |
| åç«¯ IDM-VTON å¼•æ“å°è£… | 3d | P0 |
| å‰åç«¯è”è°ƒ + äººä½“è§£æå‰ç½®å¤„ç† | 2d | P0 |
| èŠ‚ç‚¹è§’è‰²æ£€æµ‹ï¼ˆè‡ªåŠ¨è¯†åˆ«äººåƒ vs è¡£ç‰©ï¼‰ | 2d | P0 |
| `StylistControls` ç»„ä»¶ï¼ˆV1 ä¸Šä¼  + æ ‡ç­¾ï¼‰ | 2d | P1 |
| `OutfitShotControls` ç»„ä»¶ | 2d | P1 |
| åç«¯ Outfit Shot æµæ°´çº¿ï¼ˆSDXL + VTONï¼‰ | 3d | P1 |

### Phase 3ï¼ˆ1-2 å‘¨ï¼‰â€”â€” æ‰“ç£¨ä¸ä½“éªŒ

| ä»»åŠ¡ | ä¼°æ—¶ | ä¼˜å…ˆçº§ |
|------|------|--------|
| æ•°å­—äººèµ„äº§ä½“ç³»ï¼ˆAssets å­åˆ†ç±» + ä¸Šä¼ ï¼‰ | 2d | P1 |
| è§†é¢‘å¸§çº§ç¾åŒ–ï¼ˆtemporal consistencyï¼‰ | 3d | P2 |
| Relight è§†é¢‘æ”¯æŒ | 3d | P2 |
| Credits åŸºç¡€æ¶æ„ï¼ˆé¢„ç•™ï¼Œä¸ä¸Šçº¿æ”¶è´¹ï¼‰ | 1d | P2 |
| Pipeline / Recipe æ¶æ„é¢„ç ” | 2d | P2 |

---

## 10. æŠ€æœ¯é£é™©ä¸ä¾èµ–

| é£é™© | å½±å“ | ç¼“è§£ç­–ç•¥ |
|------|------|---------|
| **AI Engine æŠ½è±¡å±‚ä¸å­˜åœ¨** | æ‰€æœ‰æ–°èƒ½åŠ›æ¥å…¥è¢«é˜»å¡ | Phase 0 ä¼˜å…ˆå»ºè®¾ï¼Œè¿ç§»ç°æœ‰èƒ½åŠ›åˆ° Registry |
| IDM-VTON è‡ªéƒ¨ç½²éœ€è¦ A100 GPU | VTON ç›¸å…³ä¸‰ä¸ªèƒ½åŠ› | å…ˆæ¥ç¬¬ä¸‰æ–¹ APIï¼ˆKling/Fashn.aiï¼‰ï¼ŒéªŒè¯ PMF åå†è‡ªéƒ¨ç½² |
| IC-Light æ•ˆæœä¸ç¨³å®š | æ‰“å…‰è´¨é‡ | å¤‡é€‰ Clipdrop Relight API ä½œä¸º fallback |
| Relight å…‰çƒç»„ä»¶å¼€å‘æˆæœ¬ | å‰ç«¯å·¥æœŸ | å…ˆè°ƒç ” Three.js vs Canvas 2D vs SVGï¼Œé€‰æˆæœ¬æœ€ä½æ–¹æ¡ˆ |
| èŠ‚ç‚¹è§’è‰²æ£€æµ‹ï¼ˆäººåƒ vs è¡£ç‰©ï¼‰ | æ¢è£…åŒèŠ‚ç‚¹ UX | åˆ©ç”¨ CLIP/ç®€å•åˆ†ç±»å™¨è‡ªåŠ¨æ ‡è®°èŠ‚ç‚¹è§’è‰² |
| å¤šèƒ½åŠ›å¹¶å‘ GPU äº‰ç”¨ | å»¶è¿Ÿ SLA | å¼•å…¥èƒ½åŠ›çº§åˆ«é˜Ÿåˆ—ä¼˜å…ˆçº§ï¼ˆfast > slowï¼‰ |
| è¾“å…¥å›¾è´¨é‡å‚å·®ä¸é½ | æ‰€æœ‰èƒ½åŠ› | å‰ç«¯å¢åŠ è¾“å…¥è´¨é‡æ£€æŸ¥ + æ•°å­—äºº fallback |

---

## 11. æˆåŠŸæŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | è¡¡é‡æ–¹å¼ |
|------|------|---------|
| æ–°èƒ½åŠ› DAU æ¸—é€ç‡ | >15%ï¼ˆè‡³å°‘ä½¿ç”¨ 1 æ¬¡æ–°èƒ½åŠ›ï¼‰ | Mixpanel |
| çš®è‚¤ç¾åŒ– â†’ åŠ å…¥ä¸»çº¿ç‡ | >60% | ç»“æœèŠ‚ç‚¹è¢«æ‹–å…¥ Timeline çš„æ¯”ä¾‹ |
| æ¢è£…ç³»åˆ—ä½¿ç”¨é‡ | å æ€» AI ä»»åŠ¡çš„ 20% | åç«¯ç»Ÿè®¡ |
| ä»»åŠ¡æˆåŠŸç‡ | >95% | Celery ä»»åŠ¡æˆåŠŸ/å¤±è´¥æ¯” |
| P95 å»¶è¿Ÿ | ç¾åŒ– <5s / æ‰“å…‰ <20s / æ¢è£… <30s | APM ç›‘æ§ |
| æ•°å­—äººèµ„äº§ä¸Šä¼ ç‡ | >30% æ´»è·ƒç”¨æˆ· | åç«¯ç»Ÿè®¡ |

---

## 12. é™„å½•

### A. å¸‚é¢ AI å¼•æ“é€‰å‹å¯¹æ¯”

| èƒ½åŠ› | å¼€æºè‡ªéƒ¨ç½² | ç¬¬ä¸‰æ–¹ API | æ¨èè·¯å¾„ |
|------|----------|-----------|---------|
| çš®è‚¤ç¾åŒ– | GFPGAN + BiSeNet | Kling Beauty / Meitu | **å…ˆ API â†’ åè‡ªéƒ¨ç½²** |
| AI æ‰“å…‰ | IC-Light (Tencent) | Clipdrop Relight | **å…ˆ IC-Light â†’ å¤‡ Clipdrop** |
| æ¢è£…/VTON | IDM-VTON / CatVTON | Kling VTON / Fashn.ai | **å…ˆ API â†’ PMF åè‡ªéƒ¨ç½²** |
| AI ç©¿æ­å†…å®¹ | SDXL + IP-Adapter + VTON | Botika / Zmo.ai | **å…ˆ API â†’ éªŒè¯éœ€æ±‚** |

### B. ä¸ç°æœ‰ç”»å¸ƒèƒ½åŠ›çš„å¤ç”¨å…³ç³»

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  VTON Engine  â”‚  â† æ¢è£…/ç©¿æ­å¸ˆ/å†™çœŸ å…±ç”¨
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚              â”‚              â”‚
      â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
      â”‚outfit_swap â”‚ â”‚ai_stylist â”‚ â”‚outfit_shot â”‚
      â”‚ (ç”¨æˆ·ä¸Šä¼ ) â”‚ â”‚(V1:ä¸Šä¼ +æ ‡ç­¾)â”‚ â”‚ (æ— éœ€äººåƒ) â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### C. GenerationCapabilityId å®Œæ•´æ¸…å•ï¼ˆæ‰©å±•åï¼‰

```typescript
// 14 ä¸ªèƒ½åŠ› ID
type GenerationCapabilityId =
  // ä¿®å¤å¢å¼º (repair)
  | 'lip_sync'           // å£å‹åŒæ­¥
  | 'skin_enhance'       // ğŸ†• çš®è‚¤ç¾åŒ–
  | 'relight'            // ğŸ†• AI æ‰“å…‰
  // ç»“æ„ç¼–è¾‘ (structure)
  | 'face_swap'          // AI æ¢è„¸
  | 'omni_image'         // å¤šæ¨¡æ€å›¾åƒ
  | 'outfit_swap'        // ğŸ†• æ¢è£…è¯•ç©¿
  // é£æ ¼ç”Ÿæˆ (style)
  | 'text_to_video'      // æ–‡ç”Ÿè§†é¢‘
  | 'image_generation'   // å›¾åƒç”Ÿæˆ
  | 'ai_stylist'         // ğŸ†• AI ç©¿æ­å¸ˆ
  | 'outfit_shot'        // ğŸ†• AI ç©¿æ­å†…å®¹ï¼ˆå†…å®¹ç´ æ + è™šæ‹Ÿè¯•ç©¿ï¼‰
  // åŠ¨æ€åŒ– (dynamic)
  | 'image_to_video'     // å›¾ç”Ÿè§†é¢‘
  | 'multi_image_to_video' // å¤šå›¾ç”Ÿè§†é¢‘
  | 'motion_control'     // åŠ¨ä½œæ§åˆ¶
  | 'video_extend';      // è§†é¢‘å»¶é•¿
```
