# 标杆视频分析系统 (Benchmark Video Analysis)

> 使用豆包多模态大模型进行标杆视频拆解，构建知识库供 RAG 系统使用

## 📋 概述

本系统通过火山方舟的豆包视频理解 API，对标杆视频进行结构化分析，提取：
- 视频模版类型和整体风格
- 内容结构（开场/要点/结尾）
- B-Roll 使用时机和类型
- 视觉元素（关键词卡片/数据图表等）
- 剪辑节奏（平均镜头时长/切换频率）

分析结果将作为 RAG 知识库的数据源，指导 AI 生成高质量的视频内容。

---

## 🔧 技术实现

### 模型配置
- **模型**: `doubao-seed-1-8-251228` (支持视频理解)
- **API 端点**: `https://ark.cn-beijing.volces.com/api/v3`
- **采样帧率**: 0.3-0.5 fps（每 2-3 秒取 1 帧）

### 核心文件
```
backend/app/services/benchmark_analyzer.py  # 核心分析服务
backend/app/api/benchmark.py                # API 路由
backend/scripts/test_benchmark_analyzer.py  # 测试脚本
```

### API 接口

| 端点 | 方法 | 描述 |
|------|------|------|
| `/api/benchmark/quick-analyze` | POST | 快速分析（单次 API 调用） |
| `/api/benchmark/batch-analyze` | POST | 批量分析多个视频 |
| `/api/benchmark/analyze` | POST | 完整分析（3 次 API 调用，更详细） |

#### 请求示例
```bash
# 快速分析
curl -X POST "http://localhost:8000/api/benchmark/quick-analyze" \
  -H "Content-Type: application/json" \
  -d '{"video_path": "/path/to/video.mp4"}'

# 批量分析
curl -X POST "http://localhost:8000/api/benchmark/batch-analyze" \
  -H "Content-Type: application/json" \
  -d '{"video_paths": ["/path/to/video1.mp4", "/path/to/video2.mp4"]}'
```

---

## 📊 已分析标杆视频

### 视频 001: 马斯克 AI 机器人观点解读
- **文件**: `001.mp4`
- **时长**: 01:39
- **模版类型**: `mixed-media` (混合媒体)
- **节奏**: 快（平均镜头 4-5 秒）

#### 结构分析
| 部分 | 时间 | 内容 |
|------|------|------|
| 开场 Hook | 00:00-00:09 | 马斯克争议观点「不用念医学系，3-5年后机器人开刀技术将超越人类」+ 博主提问 |
| 要点 1 | 00:09-00:26 | AI/机器人技术递归(Recursive)式进步原理 |
| 要点 2 | 00:26-01:14 | 算力×AI模型×机械灵活度 = 指数级增长 |
| 要点 3 | 01:14-01:35 | 实体机器人受硬件限制但符合 Scaling Law |
| 结尾 CTA | 01:35-01:39 | Podcast 节目卡片引流 |

#### 视觉元素
- **B-Roll**: 马斯克演讲、医疗机器人手术、人形机器人行走、晶片硬件展示
- **图形**: 关键词卡片（「Recursive」「AI模型的强度」「奇点的关键时刻」）、概念示意图
- **字幕**: 全程同步字幕

#### 关键时间点
```
00:00:00 - 户外口播人开场
00:00:02 - 切换马斯克讲话画面
00:00:09 - 口播人返回，抛出疑问
00:00:26 - 拆解三要素指数关系
00:01:14 - 人形机器人跑步 B-Roll
00:01:35 - Podcast 推广卡片
```

---

### 视频 002: 马斯克「不用存退休金」观点
- **文件**: `002.mp4`
- **时长**: 01:19
- **模版类型**: `mixed-media` (混合媒体)
- **节奏**: 中速（平均镜头 4-6 秒）

#### 结构分析
| 部分 | 时间 | 内容 |
|------|------|------|
| 开场 Hook | 00:00-00:07 | 马斯克「不用存退休金」观点 + 破裂存钱罐画面 |
| 要点 1 | 00:07-00:23 | 未来商品服务成本接近免费（自动售货/机器人手术） |
| 要点 2 | 00:23-00:54 | 稀缺资源仍有价值（豪宅/矿产/人力服务） |
| 要点 3 | 00:54-01:07 | 科技圈普遍认同此观点 |
| 结尾 CTA | 01:07-01:19 | 引导关注 |

#### 视觉元素
- **B-Roll**: 存钱罐破裂、金钱飘散、自动售货机、医疗机器人、海景豪宅、矿区、手冲咖啡、社交聚会
- **图形**: 关键词高亮卡片（「完全沒有意義了」「接近免費的程度」）
- **字幕**: 全程同步字幕

#### 关键时间点
```
00:00:00 - 开场抛出核心观点 + 存钱罐画面
00:00:07 - 讲解未来免费趋势
00:00:23 - 机器人手术场景
00:00:43 - 海景豪宅/矿区画面
00:00:54 - 手冲咖啡/社交场景
00:01:07 - 科技团队讨论画面
00:01:18 - 引导关注收尾
```

---

## 📈 分析结论 - 标杆视频共性特征

### 1. 结构模式
```
Hook (0-10s) → 核心要点 x 2-3 (主体) → CTA (结尾)
```
- **开场**: 用争议观点/数据/问题快速抓住注意力
- **主体**: 2-3 个核心要点，每个配合 B-Roll 说明
- **结尾**: 引导关注/推荐延伸内容

### 2. 视觉配置
| 元素 | 使用场景 |
|------|----------|
| 口播画面 | 核心论点讲解、过渡、开场结尾 |
| B-Roll | 具象化抽象概念、避免视觉疲劳 |
| 关键词卡片 | 强调核心术语/观点 |
| 概念图 | 解释复杂关系（如三要素协同） |

### 3. 节奏特征
- **平均镜头时长**: 4-6 秒
- **B-Roll 占比**: 约 40-50%
- **信息密度**: 高（快节奏 + 密集切换）

### 4. B-Roll 使用规律
| 口播内容 | B-Roll 类型 |
|----------|-------------|
| 提到人物 | 该人物讲话/活动画面 |
| 提到技术 | 技术演示/产品画面 |
| 提到场景 | 场景实拍/概念图 |
| 提到数据 | 数据可视化/图表 |

---

## 🔄 后续计划

### 待分析视频队列
> 请将新的标杆视频放在此处，我会逐一分析并更新文档

| 序号 | 文件名 | 来源/创作者 | 状态 |
|------|--------|-------------|------|
| 1 | 001.mp4 | - | ✅ 已分析 |
| 2 | 002.mp4 | - | ✅ 已分析 |
| 3 | - | - | ⏳ 待添加 |
| 4 | - | - | ⏳ 待添加 |

### 知识库构建
1. **短期**: 收集 10-20 个标杆视频，提取共性模式
2. **中期**: 构建结构化知识库（JSON/向量数据库）
3. **长期**: 集成到 Remotion Agent RAG 系统

### 分析维度扩展
- [ ] 音频节奏分析（语速/停顿/BGM）
- [ ] 转场效果统计
- [ ] 字幕样式分类
- [ ] 色彩风格提取

---

## 📝 使用说明

### 添加新视频分析

1. 将视频文件放到指定目录
2. 调用 API 进行分析：
```bash
curl -X POST "http://localhost:8000/api/benchmark/quick-analyze" \
  -H "Content-Type: application/json" \
  -d '{"video_path": "/path/to/new_video.mp4"}'
```
3. 将分析结果更新到本文档

### 批量分析
```bash
curl -X POST "http://localhost:8000/api/benchmark/batch-analyze" \
  -H "Content-Type: application/json" \
  -d '{"video_paths": ["/path/to/v1.mp4", "/path/to/v2.mp4", "/path/to/v3.mp4"]}'
```

---

## 🔗 相关文档

- [Remotion Agent 设计文档](./REMOTION_AGENT_DESIGN.md)
- [B-Roll 功能设计](./BROLL_FEATURE.md)
- [视频内容架构](./REMOTION_CONTENT_ARCHITECTURE.md)

---

*最后更新: 2026-01-31*
