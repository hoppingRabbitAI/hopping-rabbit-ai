# HoppingRabbit AI

> ğŸ¬ æ™ºèƒ½å£æ’­è§†é¢‘å‰ªè¾‘å·¥ä½œå° - åƒç¼–è¾‘æ–‡æ¡£ä¸€æ ·ç¼–è¾‘è§†é¢‘

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ™ï¸ **AI è¯­éŸ³è¯†åˆ«** - faster-whisper é©±åŠ¨çš„é«˜ç²¾åº¦è¯­éŸ³è½¬æ–‡å­—
- âœ‚ï¸ **æ–‡æœ¬é©±åŠ¨å‰ªè¾‘** - åˆ é™¤æ–‡å­—å³åˆ é™¤å¯¹åº”è§†é¢‘ç‰‡æ®µ
- ğŸ”‡ **æ™ºèƒ½é™éŸ³æ£€æµ‹** - è‡ªåŠ¨è¯†åˆ«å¹¶ç§»é™¤æ— å£°ç‰‡æ®µ
- ğŸµ **äººå£°åˆ†ç¦»** - Demucs æ¨¡å‹æå–äººå£°/èƒŒæ™¯éŸ³
- ğŸ‘¥ **è¯´è¯äººè¯†åˆ«** - pyannote.audio å¤šäººå¯¹è¯åˆ†ç¦»
- ğŸ”„ **æ¯«ç§’çº§è‡ªåŠ¨ä¿å­˜** - IndexedDB + äº‘ç«¯åŒé‡ä¿éšœ
- ğŸ“Š **æ³¢å½¢å¯è§†åŒ–** - Canvas å®æ—¶æ³¢å½¢æ¸²æŸ“

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+ / pnpm 8+
- Python 3.11+
- Docker & Docker Compose
- FFmpeg 6+
- GPU (å¯é€‰ï¼Œç”¨äºåŠ é€Ÿ AI ä»»åŠ¡)

### ä¸€é”®å¯åŠ¨ (æ¨è)

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/hoppingrabbit-ai.git
cd hoppingrabbit-ai

# 2. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆé‡è¦ï¼ï¼‰
# æœ¬åœ°å¼€å‘ - å‰åç«¯åˆ†åˆ«é…ç½®:
#   - backend/.env      åç«¯é…ç½®ï¼ˆAPIå¯†é’¥ã€LLMã€ASRç­‰ï¼‰
#   - frontend/.env.local   å‰ç«¯é…ç½®ï¼ˆNEXT_PUBLIC_* å˜é‡ï¼‰
# ä» Supabase Dashboard -> Settings -> API è·å–é…ç½®

# 3. å¯åŠ¨å¼€å‘ç¯å¢ƒ
./start-dev.sh

# å¯ç”¨ GPU æ”¯æŒ (éœ€è¦ NVIDIA Docker)
./start-dev.sh --gpu

# å¯ç”¨æœ¬åœ°å­˜å‚¨ (MinIO)
./start-dev.sh --storage
```

### æ‰‹åŠ¨å¯åŠ¨

```bash
# Docker Compose å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose up -d

# æˆ–åˆ†åˆ«å¯åŠ¨å‰åç«¯

# å‰ç«¯
cd frontend && pnpm install && pnpm dev

# åç«¯
cd backend && pip install -r requirements.txt && uvicorn app.main:app --reload

# Celery Worker
celery -A app.celery_config worker --loglevel=info -Q cpu_high,cpu_low,gpu
```

### è®¿é—®åœ°å€

| æœåŠ¡ | åœ°å€ |
|------|------|
| å‰ç«¯ | http://localhost:3000 |
| åç«¯ API | http://localhost:8000 |
| API æ–‡æ¡£ | http://localhost:8000/docs |
| Flower ç›‘æ§ | http://localhost:5555 |
| RabbitMQ ç®¡ç† | http://localhost:15672 |

## ğŸ“ é¡¹ç›®ç»“æ„

```
hoppingrabbit-ai/
â”œâ”€â”€ frontend/               # Next.js 14 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/           # App Router é¡µé¢
â”‚   â”‚   â”œâ”€â”€ components/    # React ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ editor/    # ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/        # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ lib/           # API å®¢æˆ·ç«¯ & SyncManager
â”‚   â”‚   â””â”€â”€ types/         # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/                # Python FastAPI åç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/           # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/      # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ tasks/         # Celery å¼‚æ­¥ä»»åŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ transcribe.py       # ASR è¯­éŸ³è¯†åˆ«
â”‚   â”‚   â”‚   â”œâ”€â”€ stem_separation.py  # äººå£°åˆ†ç¦»
â”‚   â”‚   â”‚   â”œâ”€â”€ diarization.py      # è¯´è¯äººè¯†åˆ«
â”‚   â”‚   â”‚   â”œâ”€â”€ export.py           # è§†é¢‘å¯¼å‡º
â”‚   â”‚   â”‚   â””â”€â”€ asset_processing.py # èµ„æºå¤„ç†
â”‚   â”‚   â”œâ”€â”€ models.py      # Pydantic æ¨¡å‹
â”‚   â”‚   â””â”€â”€ celery_config.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ supabase/              # æ•°æ®åº“ Schema
â”‚   â””â”€â”€ schema.sql
â”œâ”€â”€ docker-compose.yml     # å®Œæ•´æœåŠ¡ç¼–æ’
â”œâ”€â”€ start-dev.sh          # å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬
â””â”€â”€ .env.example          # ç¯å¢ƒå˜é‡æ¨¡æ¿
```

## ğŸ”§ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | Next.js 14, TypeScript, Tailwind CSS, Zustand, Canvas API |
| åç«¯ | Python 3.11, FastAPI, Celery, RabbitMQ, Redis |
| AI æ¨¡å‹ | faster-whisper, Demucs, pyannote.audio, Silero VAD |
| æ•°æ®åº“ | Supabase PostgreSQL |
| å­˜å‚¨ | Supabase Storage / MinIO |
| è§†é¢‘å¤„ç† | FFmpeg |

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Next.js å‰ç«¯   â”‚â”€â”€â”€â”€â–¶â”‚   FastAPI åç«¯   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   IndexedDB     â”‚     â”‚   RabbitMQ      â”‚
â”‚   (ç¦»çº¿ç¼“å­˜)     â”‚     â”‚   (æ¶ˆæ¯é˜Ÿåˆ—)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  Celery Workers â”‚
                        â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”    â”‚
                        â”‚  â”‚CPUâ”‚ â”‚GPUâ”‚    â”‚
                        â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Supabase DB   â”‚     â”‚   Redis Cache   â”‚     â”‚   Object Store  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ API æ–‡æ¡£

å¯åŠ¨åè®¿é—® http://localhost:8000/docs æŸ¥çœ‹ Swagger UIã€‚

ä¸»è¦ç«¯ç‚¹ï¼š
- `POST /api/projects` - åˆ›å»ºé¡¹ç›®
- `GET /api/projects/{id}` - è·å–é¡¹ç›®
- `PATCH /api/projects/{id}/save` - æ¯«ç§’çº§ä¿å­˜
- `POST /api/tasks/asr` - å¯åŠ¨è¯­éŸ³è¯†åˆ«
- `POST /api/tasks/stem` - å¯åŠ¨äººå£°åˆ†ç¦»
- `POST /api/export` - å¯¼å‡ºè§†é¢‘

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ License

MIT License Â© 2024
